function fS(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function mS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hv={exports:{}},fu={},Kv={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=Symbol.for("react.element"),pS=Symbol.for("react.portal"),gS=Symbol.for("react.fragment"),yS=Symbol.for("react.strict_mode"),vS=Symbol.for("react.profiler"),xS=Symbol.for("react.provider"),_S=Symbol.for("react.context"),wS=Symbol.for("react.forward_ref"),ES=Symbol.for("react.suspense"),TS=Symbol.for("react.memo"),SS=Symbol.for("react.lazy"),dg=Symbol.iterator;function AS(t){return t===null||typeof t!="object"?null:(t=dg&&t[dg]||t["@@iterator"],typeof t=="function"?t:null)}var Gv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Qv=Object.assign,Xv={};function ni(t,e,n){this.props=t,this.context=e,this.refs=Xv,this.updater=n||Gv}ni.prototype.isReactComponent={};ni.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ni.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Yv(){}Yv.prototype=ni.prototype;function Gd(t,e,n){this.props=t,this.context=e,this.refs=Xv,this.updater=n||Gv}var Qd=Gd.prototype=new Yv;Qd.constructor=Gd;Qv(Qd,ni.prototype);Qd.isPureReactComponent=!0;var fg=Array.isArray,Jv=Object.prototype.hasOwnProperty,Xd={current:null},Zv={key:!0,ref:!0,__self:!0,__source:!0};function ex(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Jv.call(e,r)&&!Zv.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ko,type:t,key:i,ref:o,props:s,_owner:Xd.current}}function CS(t,e){return{$$typeof:Ko,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Yd(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ko}function IS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mg=/\/+/g;function pc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?IS(""+t.key):e.toString(36)}function tl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ko:case pS:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+pc(o,0):r,fg(s)?(n="",t!=null&&(n=t.replace(mg,"$&/")+"/"),tl(s,e,n,"",function(c){return c})):s!=null&&(Yd(s)&&(s=CS(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(mg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",fg(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+pc(i,a);o+=tl(i,e,n,u,s)}else if(u=AS(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+pc(i,a++),o+=tl(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pa(t,e,n){if(t==null)return t;var r=[],s=0;return tl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function PS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var wt={current:null},nl={transition:null},NS={ReactCurrentDispatcher:wt,ReactCurrentBatchConfig:nl,ReactCurrentOwner:Xd};function tx(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Pa,forEach:function(t,e,n){Pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pa(t,function(){e++}),e},toArray:function(t){return Pa(t,function(e){return e})||[]},only:function(t){if(!Yd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=ni;ee.Fragment=gS;ee.Profiler=vS;ee.PureComponent=Gd;ee.StrictMode=yS;ee.Suspense=ES;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NS;ee.act=tx;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Qv({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Xd.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Jv.call(e,u)&&!Zv.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ko,type:t.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:_S,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xS,_context:t},t.Consumer=t};ee.createElement=ex;ee.createFactory=function(t){var e=ex.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:wS,render:t}};ee.isValidElement=Yd;ee.lazy=function(t){return{$$typeof:SS,_payload:{_status:-1,_result:t},_init:PS}};ee.memo=function(t,e){return{$$typeof:TS,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=nl.transition;nl.transition={};try{t()}finally{nl.transition=e}};ee.unstable_act=tx;ee.useCallback=function(t,e){return wt.current.useCallback(t,e)};ee.useContext=function(t){return wt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return wt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return wt.current.useEffect(t,e)};ee.useId=function(){return wt.current.useId()};ee.useImperativeHandle=function(t,e,n){return wt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return wt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return wt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return wt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return wt.current.useReducer(t,e,n)};ee.useRef=function(t){return wt.current.useRef(t)};ee.useState=function(t){return wt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return wt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return wt.current.useTransition()};ee.version="18.3.1";Kv.exports=ee;var k=Kv.exports;const RS=mS(k),kS=fS({__proto__:null,default:RS},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bS=k,jS=Symbol.for("react.element"),DS=Symbol.for("react.fragment"),VS=Object.prototype.hasOwnProperty,MS=bS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LS={key:!0,ref:!0,__self:!0,__source:!0};function nx(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)VS.call(e,r)&&!LS.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:jS,type:t,key:i,ref:o,props:s,_owner:MS.current}}fu.Fragment=DS;fu.jsx=nx;fu.jsxs=nx;Hv.exports=fu;var h=Hv.exports,rx={exports:{}},Vt={},sx={exports:{}},ix={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,H){var Q=z.length;z.push(H);e:for(;0<Q;){var Z=Q-1>>>1,se=z[Z];if(0<s(se,H))z[Z]=H,z[Q]=se,Q=Z;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var H=z[0],Q=z.pop();if(Q!==H){z[0]=Q;e:for(var Z=0,se=z.length,me=se>>>1;Z<me;){var Qt=2*(Z+1)-1,Xt=z[Qt],Tt=Qt+1,wn=z[Tt];if(0>s(Xt,Q))Tt<se&&0>s(wn,Xt)?(z[Z]=wn,z[Tt]=Q,Z=Tt):(z[Z]=Xt,z[Qt]=Q,Z=Qt);else if(Tt<se&&0>s(wn,Q))z[Z]=wn,z[Tt]=Q,Z=Tt;else break e}}return H}function s(z,H){var Q=z.sortIndex-H.sortIndex;return Q!==0?Q:z.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,f=null,g=3,y=!1,E=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=z)r(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=n(c)}}function D(z){if(I=!1,T(z),!E)if(n(u)!==null)E=!0,ze(V);else{var H=n(c);H!==null&&ne(D,H.startTime-z)}}function V(z,H){E=!1,I&&(I=!1,x(v),v=-1),y=!0;var Q=g;try{for(T(H),f=n(u);f!==null&&(!(f.expirationTime>H)||z&&!N());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,g=f.priorityLevel;var se=Z(f.expirationTime<=H);H=t.unstable_now(),typeof se=="function"?f.callback=se:f===n(u)&&r(u),T(H)}else r(u);f=n(u)}if(f!==null)var me=!0;else{var Qt=n(c);Qt!==null&&ne(D,Qt.startTime-H),me=!1}return me}finally{f=null,g=Q,y=!1}}var L=!1,S=null,v=-1,C=5,A=-1;function N(){return!(t.unstable_now()-A<C)}function b(){if(S!==null){var z=t.unstable_now();A=z;var H=!0;try{H=S(!0,z)}finally{H?P():(L=!1,S=null)}}else L=!1}var P;if(typeof w=="function")P=function(){w(b)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,tt=Ne.port2;Ne.port1.onmessage=b,P=function(){tt.postMessage(null)}}else P=function(){R(b,0)};function ze(z){S=z,L||(L=!0,P())}function ne(z,H){v=R(function(){z(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){E||y||(E=!0,ze(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var H=3;break;default:H=g}var Q=g;g=H;try{return z()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,H){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var Q=g;g=z;try{return H()}finally{g=Q}},t.unstable_scheduleCallback=function(z,H,Q){var Z=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?Z+Q:Z):Q=Z,z){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Q+se,z={id:d++,callback:H,priorityLevel:z,startTime:Q,expirationTime:se,sortIndex:-1},Q>Z?(z.sortIndex=Q,e(c,z),n(u)===null&&z===n(c)&&(I?(x(v),v=-1):I=!0,ne(D,Q-Z))):(z.sortIndex=se,e(u,z),E||y||(E=!0,ze(V))),z},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(z){var H=g;return function(){var Q=g;g=H;try{return z.apply(this,arguments)}finally{g=Q}}}})(ix);sx.exports=ix;var OS=sx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FS=k,Dt=OS;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ox=new Set,co={};function es(t,e){Os(t,e),Os(t+"Capture",e)}function Os(t,e){for(co[t]=e,t=0;t<e.length;t++)ox.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uh=Object.prototype.hasOwnProperty,BS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pg={},gg={};function zS(t){return uh.call(gg,t)?!0:uh.call(pg,t)?!1:BS.test(t)?gg[t]=!0:(pg[t]=!0,!1)}function US(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $S(t,e,n,r){if(e===null||typeof e>"u"||US(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Et(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ze[t]=new Et(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ze[e]=new Et(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ze[t]=new Et(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ze[t]=new Et(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ze[t]=new Et(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ze[t]=new Et(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ze[t]=new Et(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ze[t]=new Et(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ze[t]=new Et(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jd=/[\-:]([a-z])/g;function Zd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jd,Zd);Ze[e]=new Et(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jd,Zd);Ze[e]=new Et(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jd,Zd);Ze[e]=new Et(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ze[t]=new Et(t,1,!1,t.toLowerCase(),null,!1,!1)});Ze.xlinkHref=new Et("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ze[t]=new Et(t,1,!1,t.toLowerCase(),null,!0,!0)});function ef(t,e,n,r){var s=Ze.hasOwnProperty(e)?Ze[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($S(e,n,s,r)&&(n=null),r||s===null?zS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Bn=FS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Na=Symbol.for("react.element"),fs=Symbol.for("react.portal"),ms=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),ax=Symbol.for("react.provider"),lx=Symbol.for("react.context"),nf=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),dh=Symbol.for("react.suspense_list"),rf=Symbol.for("react.memo"),Kn=Symbol.for("react.lazy"),ux=Symbol.for("react.offscreen"),yg=Symbol.iterator;function Pi(t){return t===null||typeof t!="object"?null:(t=yg&&t[yg]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,gc;function Oi(t){if(gc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);gc=e&&e[1]||""}return`
`+gc+t}var yc=!1;function vc(t,e){if(!t||yc)return"";yc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{yc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oi(t):""}function WS(t){switch(t.tag){case 5:return Oi(t.type);case 16:return Oi("Lazy");case 13:return Oi("Suspense");case 19:return Oi("SuspenseList");case 0:case 2:case 15:return t=vc(t.type,!1),t;case 11:return t=vc(t.type.render,!1),t;case 1:return t=vc(t.type,!0),t;default:return""}}function fh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ms:return"Fragment";case fs:return"Portal";case ch:return"Profiler";case tf:return"StrictMode";case hh:return"Suspense";case dh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case lx:return(t.displayName||"Context")+".Consumer";case ax:return(t._context.displayName||"Context")+".Provider";case nf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rf:return e=t.displayName||null,e!==null?e:fh(t.type)||"Memo";case Kn:e=t._payload,t=t._init;try{return fh(t(e))}catch{}}return null}function qS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fh(e);case 8:return e===tf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HS(t){var e=cx(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ra(t){t._valueTracker||(t._valueTracker=HS(t))}function hx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cx(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Tl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dx(t,e){e=e.checked,e!=null&&ef(t,"checked",e,!1)}function ph(t,e){dx(t,e);var n=fr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?gh(t,e.type,n):e.hasOwnProperty("defaultValue")&&gh(t,e.type,fr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function gh(t,e,n){(e!=="number"||Tl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fi=Array.isArray;function Rs(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function yh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _g(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Fi(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fr(n)}}function fx(t,e){var n=fr(e.value),r=fr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ka,px=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ho(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Hi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KS=["Webkit","ms","Moz","O"];Object.keys(Hi).forEach(function(t){KS.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hi[e]=Hi[t]})});function gx(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Hi.hasOwnProperty(t)&&Hi[t]?(""+e).trim():e+"px"}function yx(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gx(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var GS=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xh(t,e){if(e){if(GS[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function _h(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=null;function sf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eh=null,ks=null,bs=null;function Eg(t){if(t=Xo(t)){if(typeof Eh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=vu(e),Eh(t.stateNode,t.type,e))}}function vx(t){ks?bs?bs.push(t):bs=[t]:ks=t}function xx(){if(ks){var t=ks,e=bs;if(bs=ks=null,Eg(t),e)for(t=0;t<e.length;t++)Eg(e[t])}}function _x(t,e){return t(e)}function wx(){}var xc=!1;function Ex(t,e,n){if(xc)return t(e,n);xc=!0;try{return _x(t,e,n)}finally{xc=!1,(ks!==null||bs!==null)&&(wx(),xx())}}function fo(t,e){var n=t.stateNode;if(n===null)return null;var r=vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Th=!1;if(Rn)try{var Ni={};Object.defineProperty(Ni,"passive",{get:function(){Th=!0}}),window.addEventListener("test",Ni,Ni),window.removeEventListener("test",Ni,Ni)}catch{Th=!1}function QS(t,e,n,r,s,i,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ki=!1,Sl=null,Al=!1,Sh=null,XS={onError:function(t){Ki=!0,Sl=t}};function YS(t,e,n,r,s,i,o,a,u){Ki=!1,Sl=null,QS.apply(XS,arguments)}function JS(t,e,n,r,s,i,o,a,u){if(YS.apply(this,arguments),Ki){if(Ki){var c=Sl;Ki=!1,Sl=null}else throw Error(B(198));Al||(Al=!0,Sh=c)}}function ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Tx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Tg(t){if(ts(t)!==t)throw Error(B(188))}function ZS(t){var e=t.alternate;if(!e){if(e=ts(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Tg(s),t;if(i===r)return Tg(s),e;i=i.sibling}throw Error(B(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function Sx(t){return t=ZS(t),t!==null?Ax(t):null}function Ax(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ax(t);if(e!==null)return e;t=t.sibling}return null}var Cx=Dt.unstable_scheduleCallback,Sg=Dt.unstable_cancelCallback,e2=Dt.unstable_shouldYield,t2=Dt.unstable_requestPaint,be=Dt.unstable_now,n2=Dt.unstable_getCurrentPriorityLevel,of=Dt.unstable_ImmediatePriority,Ix=Dt.unstable_UserBlockingPriority,Cl=Dt.unstable_NormalPriority,r2=Dt.unstable_LowPriority,Px=Dt.unstable_IdlePriority,mu=null,fn=null;function s2(t){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(mu,t,void 0,(t.current.flags&128)===128)}catch{}}var sn=Math.clz32?Math.clz32:a2,i2=Math.log,o2=Math.LN2;function a2(t){return t>>>=0,t===0?32:31-(i2(t)/o2|0)|0}var ba=64,ja=4194304;function Bi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Il(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Bi(a):(i&=o,i!==0&&(r=Bi(i)))}else o=n&~s,o!==0?r=Bi(o):i!==0&&(r=Bi(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sn(e),s=1<<n,r|=t[n],e&=~s;return r}function l2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sn(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=l2(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function Ah(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Nx(){var t=ba;return ba<<=1,!(ba&4194240)&&(ba=64),t}function _c(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Go(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sn(e),t[e]=n}function c2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function af(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ce=0;function Rx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var kx,lf,bx,jx,Dx,Ch=!1,Da=[],tr=null,nr=null,rr=null,mo=new Map,po=new Map,Qn=[],h2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ag(t,e){switch(t){case"focusin":case"focusout":tr=null;break;case"dragenter":case"dragleave":nr=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":mo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":po.delete(e.pointerId)}}function Ri(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Xo(e),e!==null&&lf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function d2(t,e,n,r,s){switch(e){case"focusin":return tr=Ri(tr,t,e,n,r,s),!0;case"dragenter":return nr=Ri(nr,t,e,n,r,s),!0;case"mouseover":return rr=Ri(rr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return mo.set(i,Ri(mo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,po.set(i,Ri(po.get(i)||null,t,e,n,r,s)),!0}return!1}function Vx(t){var e=Dr(t.target);if(e!==null){var n=ts(e);if(n!==null){if(e=n.tag,e===13){if(e=Tx(n),e!==null){t.blockedOn=e,Dx(t.priority,function(){bx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function rl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ih(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wh=r,n.target.dispatchEvent(r),wh=null}else return e=Xo(n),e!==null&&lf(e),t.blockedOn=n,!1;e.shift()}return!0}function Cg(t,e,n){rl(t)&&n.delete(e)}function f2(){Ch=!1,tr!==null&&rl(tr)&&(tr=null),nr!==null&&rl(nr)&&(nr=null),rr!==null&&rl(rr)&&(rr=null),mo.forEach(Cg),po.forEach(Cg)}function ki(t,e){t.blockedOn===e&&(t.blockedOn=null,Ch||(Ch=!0,Dt.unstable_scheduleCallback(Dt.unstable_NormalPriority,f2)))}function go(t){function e(s){return ki(s,t)}if(0<Da.length){ki(Da[0],t);for(var n=1;n<Da.length;n++){var r=Da[n];r.blockedOn===t&&(r.blockedOn=null)}}for(tr!==null&&ki(tr,t),nr!==null&&ki(nr,t),rr!==null&&ki(rr,t),mo.forEach(e),po.forEach(e),n=0;n<Qn.length;n++)r=Qn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Qn.length&&(n=Qn[0],n.blockedOn===null);)Vx(n),n.blockedOn===null&&Qn.shift()}var js=Bn.ReactCurrentBatchConfig,Pl=!0;function m2(t,e,n,r){var s=ce,i=js.transition;js.transition=null;try{ce=1,uf(t,e,n,r)}finally{ce=s,js.transition=i}}function p2(t,e,n,r){var s=ce,i=js.transition;js.transition=null;try{ce=4,uf(t,e,n,r)}finally{ce=s,js.transition=i}}function uf(t,e,n,r){if(Pl){var s=Ih(t,e,n,r);if(s===null)Rc(t,e,r,Nl,n),Ag(t,r);else if(d2(s,t,e,n,r))r.stopPropagation();else if(Ag(t,r),e&4&&-1<h2.indexOf(t)){for(;s!==null;){var i=Xo(s);if(i!==null&&kx(i),i=Ih(t,e,n,r),i===null&&Rc(t,e,r,Nl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Rc(t,e,r,null,n)}}var Nl=null;function Ih(t,e,n,r){if(Nl=null,t=sf(r),t=Dr(t),t!==null)if(e=ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Tx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Nl=t,null}function Mx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n2()){case of:return 1;case Ix:return 4;case Cl:case r2:return 16;case Px:return 536870912;default:return 16}default:return 16}}var Yn=null,cf=null,sl=null;function Lx(){if(sl)return sl;var t,e=cf,n=e.length,r,s="value"in Yn?Yn.value:Yn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return sl=s.slice(t,1<r?1-r:void 0)}function il(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Va(){return!0}function Ig(){return!1}function Mt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Va:Ig,this.isPropagationStopped=Ig,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),e}var ri={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hf=Mt(ri),Qo=Se({},ri,{view:0,detail:0}),g2=Mt(Qo),wc,Ec,bi,pu=Se({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:df,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(wc=t.screenX-bi.screenX,Ec=t.screenY-bi.screenY):Ec=wc=0,bi=t),wc)},movementY:function(t){return"movementY"in t?t.movementY:Ec}}),Pg=Mt(pu),y2=Se({},pu,{dataTransfer:0}),v2=Mt(y2),x2=Se({},Qo,{relatedTarget:0}),Tc=Mt(x2),_2=Se({},ri,{animationName:0,elapsedTime:0,pseudoElement:0}),w2=Mt(_2),E2=Se({},ri,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),T2=Mt(E2),S2=Se({},ri,{data:0}),Ng=Mt(S2),A2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},C2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},I2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function P2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=I2[t])?!!e[t]:!1}function df(){return P2}var N2=Se({},Qo,{key:function(t){if(t.key){var e=A2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=il(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?C2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:df,charCode:function(t){return t.type==="keypress"?il(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?il(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),R2=Mt(N2),k2=Se({},pu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rg=Mt(k2),b2=Se({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:df}),j2=Mt(b2),D2=Se({},ri,{propertyName:0,elapsedTime:0,pseudoElement:0}),V2=Mt(D2),M2=Se({},pu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L2=Mt(M2),O2=[9,13,27,32],ff=Rn&&"CompositionEvent"in window,Gi=null;Rn&&"documentMode"in document&&(Gi=document.documentMode);var F2=Rn&&"TextEvent"in window&&!Gi,Ox=Rn&&(!ff||Gi&&8<Gi&&11>=Gi),kg=" ",bg=!1;function Fx(t,e){switch(t){case"keyup":return O2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function B2(t,e){switch(t){case"compositionend":return Bx(e);case"keypress":return e.which!==32?null:(bg=!0,kg);case"textInput":return t=e.data,t===kg&&bg?null:t;default:return null}}function z2(t,e){if(ps)return t==="compositionend"||!ff&&Fx(t,e)?(t=Lx(),sl=cf=Yn=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ox&&e.locale!=="ko"?null:e.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U2[t.type]:e==="textarea"}function zx(t,e,n,r){vx(r),e=Rl(e,"onChange"),0<e.length&&(n=new hf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Qi=null,yo=null;function $2(t){Jx(t,0)}function gu(t){var e=vs(t);if(hx(e))return t}function W2(t,e){if(t==="change")return e}var Ux=!1;if(Rn){var Sc;if(Rn){var Ac="oninput"in document;if(!Ac){var Dg=document.createElement("div");Dg.setAttribute("oninput","return;"),Ac=typeof Dg.oninput=="function"}Sc=Ac}else Sc=!1;Ux=Sc&&(!document.documentMode||9<document.documentMode)}function Vg(){Qi&&(Qi.detachEvent("onpropertychange",$x),yo=Qi=null)}function $x(t){if(t.propertyName==="value"&&gu(yo)){var e=[];zx(e,yo,t,sf(t)),Ex($2,e)}}function q2(t,e,n){t==="focusin"?(Vg(),Qi=e,yo=n,Qi.attachEvent("onpropertychange",$x)):t==="focusout"&&Vg()}function H2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return gu(yo)}function K2(t,e){if(t==="click")return gu(e)}function G2(t,e){if(t==="input"||t==="change")return gu(e)}function Q2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var an=typeof Object.is=="function"?Object.is:Q2;function vo(t,e){if(an(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!uh.call(e,s)||!an(t[s],e[s]))return!1}return!0}function Mg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Lg(t,e){var n=Mg(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mg(n)}}function Wx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qx(){for(var t=window,e=Tl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Tl(t.document)}return e}function mf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function X2(t){var e=qx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Wx(n.ownerDocument.documentElement,n)){if(r!==null&&mf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Lg(n,i);var o=Lg(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Y2=Rn&&"documentMode"in document&&11>=document.documentMode,gs=null,Ph=null,Xi=null,Nh=!1;function Og(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Nh||gs==null||gs!==Tl(r)||(r=gs,"selectionStart"in r&&mf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Xi&&vo(Xi,r)||(Xi=r,r=Rl(Ph,"onSelect"),0<r.length&&(e=new hf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gs)))}function Ma(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ys={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionend:Ma("Transition","TransitionEnd")},Cc={},Hx={};Rn&&(Hx=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function yu(t){if(Cc[t])return Cc[t];if(!ys[t])return t;var e=ys[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Hx)return Cc[t]=e[n];return t}var Kx=yu("animationend"),Gx=yu("animationiteration"),Qx=yu("animationstart"),Xx=yu("transitionend"),Yx=new Map,Fg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(t,e){Yx.set(t,e),es(e,[t])}for(var Ic=0;Ic<Fg.length;Ic++){var Pc=Fg[Ic],J2=Pc.toLowerCase(),Z2=Pc[0].toUpperCase()+Pc.slice(1);_r(J2,"on"+Z2)}_r(Kx,"onAnimationEnd");_r(Gx,"onAnimationIteration");_r(Qx,"onAnimationStart");_r("dblclick","onDoubleClick");_r("focusin","onFocus");_r("focusout","onBlur");_r(Xx,"onTransitionEnd");Os("onMouseEnter",["mouseout","mouseover"]);Os("onMouseLeave",["mouseout","mouseover"]);Os("onPointerEnter",["pointerout","pointerover"]);Os("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eA=new Set("cancel close invalid load scroll toggle".split(" ").concat(zi));function Bg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JS(r,e,void 0,t),t.currentTarget=null}function Jx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Bg(s,a,c),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Bg(s,a,c),i=u}}}if(Al)throw t=Sh,Al=!1,Sh=null,t}function ge(t,e){var n=e[Dh];n===void 0&&(n=e[Dh]=new Set);var r=t+"__bubble";n.has(r)||(Zx(e,t,2,!1),n.add(r))}function Nc(t,e,n){var r=0;e&&(r|=4),Zx(n,t,r,e)}var La="_reactListening"+Math.random().toString(36).slice(2);function xo(t){if(!t[La]){t[La]=!0,ox.forEach(function(n){n!=="selectionchange"&&(eA.has(n)||Nc(n,!1,t),Nc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[La]||(e[La]=!0,Nc("selectionchange",!1,e))}}function Zx(t,e,n,r){switch(Mx(e)){case 1:var s=m2;break;case 4:s=p2;break;default:s=uf}n=s.bind(null,e,n,t),s=void 0,!Th||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Rc(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Dr(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ex(function(){var c=i,d=sf(n),f=[];e:{var g=Yx.get(t);if(g!==void 0){var y=hf,E=t;switch(t){case"keypress":if(il(n)===0)break e;case"keydown":case"keyup":y=R2;break;case"focusin":E="focus",y=Tc;break;case"focusout":E="blur",y=Tc;break;case"beforeblur":case"afterblur":y=Tc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Pg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=v2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=j2;break;case Kx:case Gx:case Qx:y=w2;break;case Xx:y=V2;break;case"scroll":y=g2;break;case"wheel":y=L2;break;case"copy":case"cut":case"paste":y=T2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Rg}var I=(e&4)!==0,R=!I&&t==="scroll",x=I?g!==null?g+"Capture":null:g;I=[];for(var w=c,T;w!==null;){T=w;var D=T.stateNode;if(T.tag===5&&D!==null&&(T=D,x!==null&&(D=fo(w,x),D!=null&&I.push(_o(w,D,T)))),R)break;w=w.return}0<I.length&&(g=new y(g,E,null,n,d),f.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",g&&n!==wh&&(E=n.relatedTarget||n.fromElement)&&(Dr(E)||E[kn]))break e;if((y||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,y?(E=n.relatedTarget||n.toElement,y=c,E=E?Dr(E):null,E!==null&&(R=ts(E),E!==R||E.tag!==5&&E.tag!==6)&&(E=null)):(y=null,E=c),y!==E)){if(I=Pg,D="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(I=Rg,D="onPointerLeave",x="onPointerEnter",w="pointer"),R=y==null?g:vs(y),T=E==null?g:vs(E),g=new I(D,w+"leave",y,n,d),g.target=R,g.relatedTarget=T,D=null,Dr(d)===c&&(I=new I(x,w+"enter",E,n,d),I.target=T,I.relatedTarget=R,D=I),R=D,y&&E)t:{for(I=y,x=E,w=0,T=I;T;T=us(T))w++;for(T=0,D=x;D;D=us(D))T++;for(;0<w-T;)I=us(I),w--;for(;0<T-w;)x=us(x),T--;for(;w--;){if(I===x||x!==null&&I===x.alternate)break t;I=us(I),x=us(x)}I=null}else I=null;y!==null&&zg(f,g,y,I,!1),E!==null&&R!==null&&zg(f,R,E,I,!0)}}e:{if(g=c?vs(c):window,y=g.nodeName&&g.nodeName.toLowerCase(),y==="select"||y==="input"&&g.type==="file")var V=W2;else if(jg(g))if(Ux)V=G2;else{V=H2;var L=q2}else(y=g.nodeName)&&y.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(V=K2);if(V&&(V=V(t,c))){zx(f,V,n,d);break e}L&&L(t,g,c),t==="focusout"&&(L=g._wrapperState)&&L.controlled&&g.type==="number"&&gh(g,"number",g.value)}switch(L=c?vs(c):window,t){case"focusin":(jg(L)||L.contentEditable==="true")&&(gs=L,Ph=c,Xi=null);break;case"focusout":Xi=Ph=gs=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,Og(f,n,d);break;case"selectionchange":if(Y2)break;case"keydown":case"keyup":Og(f,n,d)}var S;if(ff)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ps?Fx(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(Ox&&n.locale!=="ko"&&(ps||v!=="onCompositionStart"?v==="onCompositionEnd"&&ps&&(S=Lx()):(Yn=d,cf="value"in Yn?Yn.value:Yn.textContent,ps=!0)),L=Rl(c,v),0<L.length&&(v=new Ng(v,t,null,n,d),f.push({event:v,listeners:L}),S?v.data=S:(S=Bx(n),S!==null&&(v.data=S)))),(S=F2?B2(t,n):z2(t,n))&&(c=Rl(c,"onBeforeInput"),0<c.length&&(d=new Ng("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=S))}Jx(f,e)})}function _o(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fo(t,n),i!=null&&r.unshift(_o(t,i,s)),i=fo(t,e),i!=null&&r.push(_o(t,i,s))),t=t.return}return r}function us(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zg(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,s?(u=fo(n,i),u!=null&&o.unshift(_o(n,u,a))):s||(u=fo(n,i),u!=null&&o.push(_o(n,u,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var tA=/\r\n?/g,nA=/\u0000|\uFFFD/g;function Ug(t){return(typeof t=="string"?t:""+t).replace(tA,`
`).replace(nA,"")}function Oa(t,e,n){if(e=Ug(e),Ug(t)!==e&&n)throw Error(B(425))}function kl(){}var Rh=null,kh=null;function bh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jh=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,$g=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof $g<"u"?function(t){return $g.resolve(null).then(t).catch(iA)}:jh;function iA(t){setTimeout(function(){throw t})}function kc(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),go(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);go(e)}function sr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Wg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var si=Math.random().toString(36).slice(2),dn="__reactFiber$"+si,wo="__reactProps$"+si,kn="__reactContainer$"+si,Dh="__reactEvents$"+si,oA="__reactListeners$"+si,aA="__reactHandles$"+si;function Dr(t){var e=t[dn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[kn]||n[dn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Wg(t);t!==null;){if(n=t[dn])return n;t=Wg(t)}return e}t=n,n=t.parentNode}return null}function Xo(t){return t=t[dn]||t[kn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function vu(t){return t[wo]||null}var Vh=[],xs=-1;function wr(t){return{current:t}}function ve(t){0>xs||(t.current=Vh[xs],Vh[xs]=null,xs--)}function fe(t,e){xs++,Vh[xs]=t.current,t.current=e}var mr={},ft=wr(mr),It=wr(!1),Hr=mr;function Fs(t,e){var n=t.type.contextTypes;if(!n)return mr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Pt(t){return t=t.childContextTypes,t!=null}function bl(){ve(It),ve(ft)}function qg(t,e,n){if(ft.current!==mr)throw Error(B(168));fe(ft,e),fe(It,n)}function e_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(B(108,qS(t)||"Unknown",s));return Se({},n,r)}function jl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||mr,Hr=ft.current,fe(ft,t),fe(It,It.current),!0}function Hg(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=e_(t,e,Hr),r.__reactInternalMemoizedMergedChildContext=t,ve(It),ve(ft),fe(ft,t)):ve(It),fe(It,n)}var An=null,xu=!1,bc=!1;function t_(t){An===null?An=[t]:An.push(t)}function lA(t){xu=!0,t_(t)}function Er(){if(!bc&&An!==null){bc=!0;var t=0,e=ce;try{var n=An;for(ce=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}An=null,xu=!1}catch(s){throw An!==null&&(An=An.slice(t+1)),Cx(of,Er),s}finally{ce=e,bc=!1}}return null}var _s=[],ws=0,Dl=null,Vl=0,Bt=[],zt=0,Kr=null,Cn=1,In="";function Rr(t,e){_s[ws++]=Vl,_s[ws++]=Dl,Dl=t,Vl=e}function n_(t,e,n){Bt[zt++]=Cn,Bt[zt++]=In,Bt[zt++]=Kr,Kr=t;var r=Cn;t=In;var s=32-sn(r)-1;r&=~(1<<s),n+=1;var i=32-sn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Cn=1<<32-sn(e)+s|n<<s|r,In=i+t}else Cn=1<<i|n<<s|r,In=t}function pf(t){t.return!==null&&(Rr(t,1),n_(t,1,0))}function gf(t){for(;t===Dl;)Dl=_s[--ws],_s[ws]=null,Vl=_s[--ws],_s[ws]=null;for(;t===Kr;)Kr=Bt[--zt],Bt[zt]=null,In=Bt[--zt],Bt[zt]=null,Cn=Bt[--zt],Bt[zt]=null}var jt=null,bt=null,xe=!1,nn=null;function r_(t,e){var n=$t(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,bt=sr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,bt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Kr!==null?{id:Cn,overflow:In}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$t(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,bt=null,!0):!1;default:return!1}}function Mh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lh(t){if(xe){var e=bt;if(e){var n=e;if(!Kg(t,e)){if(Mh(t))throw Error(B(418));e=sr(n.nextSibling);var r=jt;e&&Kg(t,e)?r_(r,n):(t.flags=t.flags&-4097|2,xe=!1,jt=t)}}else{if(Mh(t))throw Error(B(418));t.flags=t.flags&-4097|2,xe=!1,jt=t}}}function Gg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function Fa(t){if(t!==jt)return!1;if(!xe)return Gg(t),xe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!bh(t.type,t.memoizedProps)),e&&(e=bt)){if(Mh(t))throw s_(),Error(B(418));for(;e;)r_(t,e),e=sr(e.nextSibling)}if(Gg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bt=sr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bt=null}}else bt=jt?sr(t.stateNode.nextSibling):null;return!0}function s_(){for(var t=bt;t;)t=sr(t.nextSibling)}function Bs(){bt=jt=null,xe=!1}function yf(t){nn===null?nn=[t]:nn.push(t)}var uA=Bn.ReactCurrentBatchConfig;function ji(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Ba(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Qg(t){var e=t._init;return e(t._payload)}function i_(t){function e(x,w){if(t){var T=x.deletions;T===null?(x.deletions=[w],x.flags|=16):T.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function s(x,w){return x=lr(x,w),x.index=0,x.sibling=null,x}function i(x,w,T){return x.index=T,t?(T=x.alternate,T!==null?(T=T.index,T<w?(x.flags|=2,w):T):(x.flags|=2,w)):(x.flags|=1048576,w)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,w,T,D){return w===null||w.tag!==6?(w=Fc(T,x.mode,D),w.return=x,w):(w=s(w,T),w.return=x,w)}function u(x,w,T,D){var V=T.type;return V===ms?d(x,w,T.props.children,D,T.key):w!==null&&(w.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Kn&&Qg(V)===w.type)?(D=s(w,T.props),D.ref=ji(x,w,T),D.return=x,D):(D=dl(T.type,T.key,T.props,null,x.mode,D),D.ref=ji(x,w,T),D.return=x,D)}function c(x,w,T,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Bc(T,x.mode,D),w.return=x,w):(w=s(w,T.children||[]),w.return=x,w)}function d(x,w,T,D,V){return w===null||w.tag!==7?(w=zr(T,x.mode,D,V),w.return=x,w):(w=s(w,T),w.return=x,w)}function f(x,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Fc(""+w,x.mode,T),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Na:return T=dl(w.type,w.key,w.props,null,x.mode,T),T.ref=ji(x,null,w),T.return=x,T;case fs:return w=Bc(w,x.mode,T),w.return=x,w;case Kn:var D=w._init;return f(x,D(w._payload),T)}if(Fi(w)||Pi(w))return w=zr(w,x.mode,T,null),w.return=x,w;Ba(x,w)}return null}function g(x,w,T,D){var V=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:a(x,w,""+T,D);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Na:return T.key===V?u(x,w,T,D):null;case fs:return T.key===V?c(x,w,T,D):null;case Kn:return V=T._init,g(x,w,V(T._payload),D)}if(Fi(T)||Pi(T))return V!==null?null:d(x,w,T,D,null);Ba(x,T)}return null}function y(x,w,T,D,V){if(typeof D=="string"&&D!==""||typeof D=="number")return x=x.get(T)||null,a(w,x,""+D,V);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Na:return x=x.get(D.key===null?T:D.key)||null,u(w,x,D,V);case fs:return x=x.get(D.key===null?T:D.key)||null,c(w,x,D,V);case Kn:var L=D._init;return y(x,w,T,L(D._payload),V)}if(Fi(D)||Pi(D))return x=x.get(T)||null,d(w,x,D,V,null);Ba(w,D)}return null}function E(x,w,T,D){for(var V=null,L=null,S=w,v=w=0,C=null;S!==null&&v<T.length;v++){S.index>v?(C=S,S=null):C=S.sibling;var A=g(x,S,T[v],D);if(A===null){S===null&&(S=C);break}t&&S&&A.alternate===null&&e(x,S),w=i(A,w,v),L===null?V=A:L.sibling=A,L=A,S=C}if(v===T.length)return n(x,S),xe&&Rr(x,v),V;if(S===null){for(;v<T.length;v++)S=f(x,T[v],D),S!==null&&(w=i(S,w,v),L===null?V=S:L.sibling=S,L=S);return xe&&Rr(x,v),V}for(S=r(x,S);v<T.length;v++)C=y(S,x,v,T[v],D),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?v:C.key),w=i(C,w,v),L===null?V=C:L.sibling=C,L=C);return t&&S.forEach(function(N){return e(x,N)}),xe&&Rr(x,v),V}function I(x,w,T,D){var V=Pi(T);if(typeof V!="function")throw Error(B(150));if(T=V.call(T),T==null)throw Error(B(151));for(var L=V=null,S=w,v=w=0,C=null,A=T.next();S!==null&&!A.done;v++,A=T.next()){S.index>v?(C=S,S=null):C=S.sibling;var N=g(x,S,A.value,D);if(N===null){S===null&&(S=C);break}t&&S&&N.alternate===null&&e(x,S),w=i(N,w,v),L===null?V=N:L.sibling=N,L=N,S=C}if(A.done)return n(x,S),xe&&Rr(x,v),V;if(S===null){for(;!A.done;v++,A=T.next())A=f(x,A.value,D),A!==null&&(w=i(A,w,v),L===null?V=A:L.sibling=A,L=A);return xe&&Rr(x,v),V}for(S=r(x,S);!A.done;v++,A=T.next())A=y(S,x,v,A.value,D),A!==null&&(t&&A.alternate!==null&&S.delete(A.key===null?v:A.key),w=i(A,w,v),L===null?V=A:L.sibling=A,L=A);return t&&S.forEach(function(b){return e(x,b)}),xe&&Rr(x,v),V}function R(x,w,T,D){if(typeof T=="object"&&T!==null&&T.type===ms&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Na:e:{for(var V=T.key,L=w;L!==null;){if(L.key===V){if(V=T.type,V===ms){if(L.tag===7){n(x,L.sibling),w=s(L,T.props.children),w.return=x,x=w;break e}}else if(L.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===Kn&&Qg(V)===L.type){n(x,L.sibling),w=s(L,T.props),w.ref=ji(x,L,T),w.return=x,x=w;break e}n(x,L);break}else e(x,L);L=L.sibling}T.type===ms?(w=zr(T.props.children,x.mode,D,T.key),w.return=x,x=w):(D=dl(T.type,T.key,T.props,null,x.mode,D),D.ref=ji(x,w,T),D.return=x,x=D)}return o(x);case fs:e:{for(L=T.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(x,w.sibling),w=s(w,T.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=Bc(T,x.mode,D),w.return=x,x=w}return o(x);case Kn:return L=T._init,R(x,w,L(T._payload),D)}if(Fi(T))return E(x,w,T,D);if(Pi(T))return I(x,w,T,D);Ba(x,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(x,w.sibling),w=s(w,T),w.return=x,x=w):(n(x,w),w=Fc(T,x.mode,D),w.return=x,x=w),o(x)):n(x,w)}return R}var zs=i_(!0),o_=i_(!1),Ml=wr(null),Ll=null,Es=null,vf=null;function xf(){vf=Es=Ll=null}function _f(t){var e=Ml.current;ve(Ml),t._currentValue=e}function Oh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ds(t,e){Ll=t,vf=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(At=!0),t.firstContext=null)}function Kt(t){var e=t._currentValue;if(vf!==t)if(t={context:t,memoizedValue:e,next:null},Es===null){if(Ll===null)throw Error(B(308));Es=t,Ll.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return e}var Vr=null;function wf(t){Vr===null?Vr=[t]:Vr.push(t)}function a_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,wf(e)):(n.next=s.next,s.next=n),e.interleaved=n,bn(t,r)}function bn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ir(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,oe&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bn(t,n)}return s=r.interleaved,s===null?(e.next=e,wf(r)):(e.next=s.next,s.next=e),r.interleaved=e,bn(t,n)}function ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,af(t,n)}}function Xg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ol(t,e,n,r){var s=t.updateQueue;Gn=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(i!==null){var f=s.baseState;o=0,d=c=u=null,a=i;do{var g=a.lane,y=a.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,I=a;switch(g=e,y=n,I.tag){case 1:if(E=I.payload,typeof E=="function"){f=E.call(y,f,g);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=I.payload,g=typeof E=="function"?E.call(y,f,g):E,g==null)break e;f=Se({},f,g);break e;case 2:Gn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[a]:g.push(a))}else y={eventTime:y,lane:g,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=y,u=f):d=d.next=y,o|=g;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;g=a,a=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Qr|=o,t.lanes=o,t.memoizedState=f}}function Yg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(B(191,s));s.call(r)}}}var Yo={},mn=wr(Yo),Eo=wr(Yo),To=wr(Yo);function Mr(t){if(t===Yo)throw Error(B(174));return t}function Tf(t,e){switch(fe(To,e),fe(Eo,t),fe(mn,Yo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vh(e,t)}ve(mn),fe(mn,e)}function Us(){ve(mn),ve(Eo),ve(To)}function u_(t){Mr(To.current);var e=Mr(mn.current),n=vh(e,t.type);e!==n&&(fe(Eo,t),fe(mn,n))}function Sf(t){Eo.current===t&&(ve(mn),ve(Eo))}var _e=wr(0);function Fl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jc=[];function Af(){for(var t=0;t<jc.length;t++)jc[t]._workInProgressVersionPrimary=null;jc.length=0}var al=Bn.ReactCurrentDispatcher,Dc=Bn.ReactCurrentBatchConfig,Gr=0,Ee=null,Fe=null,$e=null,Bl=!1,Yi=!1,So=0,cA=0;function it(){throw Error(B(321))}function Cf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!an(t[n],e[n]))return!1;return!0}function If(t,e,n,r,s,i){if(Gr=i,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,al.current=t===null||t.memoizedState===null?mA:pA,t=n(r,s),Yi){i=0;do{if(Yi=!1,So=0,25<=i)throw Error(B(301));i+=1,$e=Fe=null,e.updateQueue=null,al.current=gA,t=n(r,s)}while(Yi)}if(al.current=zl,e=Fe!==null&&Fe.next!==null,Gr=0,$e=Fe=Ee=null,Bl=!1,e)throw Error(B(300));return t}function Pf(){var t=So!==0;return So=0,t}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Ee.memoizedState=$e=t:$e=$e.next=t,$e}function Gt(){if(Fe===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Fe.next;var e=$e===null?Ee.memoizedState:$e.next;if(e!==null)$e=e,Fe=t;else{if(t===null)throw Error(B(310));Fe=t,t={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},$e===null?Ee.memoizedState=$e=t:$e=$e.next=t}return $e}function Ao(t,e){return typeof e=="function"?e(t):e}function Vc(t){var e=Gt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Fe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,c=i;do{var d=c.lane;if((Gr&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,o=r):u=u.next=f,Ee.lanes|=d,Qr|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=a,an(r,e.memoizedState)||(At=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ee.lanes|=i,Qr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Mc(t){var e=Gt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);an(i,e.memoizedState)||(At=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function c_(){}function h_(t,e){var n=Ee,r=Gt(),s=e(),i=!an(r.memoizedState,s);if(i&&(r.memoizedState=s,At=!0),r=r.queue,Nf(m_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,Co(9,f_.bind(null,n,r,s,e),void 0,null),qe===null)throw Error(B(349));Gr&30||d_(n,e,s)}return s}function d_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function f_(t,e,n,r){e.value=n,e.getSnapshot=r,p_(e)&&g_(t)}function m_(t,e,n){return n(function(){p_(e)&&g_(t)})}function p_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!an(t,n)}catch{return!0}}function g_(t){var e=bn(t,1);e!==null&&on(e,t,1,-1)}function Jg(t){var e=hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:t},e.queue=t,t=t.dispatch=fA.bind(null,Ee,t),[e.memoizedState,t]}function Co(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function y_(){return Gt().memoizedState}function ll(t,e,n,r){var s=hn();Ee.flags|=t,s.memoizedState=Co(1|e,n,void 0,r===void 0?null:r)}function _u(t,e,n,r){var s=Gt();r=r===void 0?null:r;var i=void 0;if(Fe!==null){var o=Fe.memoizedState;if(i=o.destroy,r!==null&&Cf(r,o.deps)){s.memoizedState=Co(e,n,i,r);return}}Ee.flags|=t,s.memoizedState=Co(1|e,n,i,r)}function Zg(t,e){return ll(8390656,8,t,e)}function Nf(t,e){return _u(2048,8,t,e)}function v_(t,e){return _u(4,2,t,e)}function x_(t,e){return _u(4,4,t,e)}function __(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function w_(t,e,n){return n=n!=null?n.concat([t]):null,_u(4,4,__.bind(null,e,t),n)}function Rf(){}function E_(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function T_(t,e){var n=Gt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Cf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S_(t,e,n){return Gr&21?(an(n,e)||(n=Nx(),Ee.lanes|=n,Qr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,At=!0),t.memoizedState=n)}function hA(t,e){var n=ce;ce=n!==0&&4>n?n:4,t(!0);var r=Dc.transition;Dc.transition={};try{t(!1),e()}finally{ce=n,Dc.transition=r}}function A_(){return Gt().memoizedState}function dA(t,e,n){var r=ar(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},C_(t))I_(e,n);else if(n=a_(t,e,n,r),n!==null){var s=xt();on(n,t,r,s),P_(n,e,r)}}function fA(t,e,n){var r=ar(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(C_(t))I_(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,an(a,o)){var u=e.interleaved;u===null?(s.next=s,wf(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=a_(t,e,s,r),n!==null&&(s=xt(),on(n,t,r,s),P_(n,e,r))}}function C_(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function I_(t,e){Yi=Bl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function P_(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,af(t,n)}}var zl={readContext:Kt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},mA={readContext:Kt,useCallback:function(t,e){return hn().memoizedState=[t,e===void 0?null:e],t},useContext:Kt,useEffect:Zg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ll(4194308,4,__.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ll(4194308,4,t,e)},useInsertionEffect:function(t,e){return ll(4,2,t,e)},useMemo:function(t,e){var n=hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dA.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=hn();return t={current:t},e.memoizedState=t},useState:Jg,useDebugValue:Rf,useDeferredValue:function(t){return hn().memoizedState=t},useTransition:function(){var t=Jg(!1),e=t[0];return t=hA.bind(null,t[1]),hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,s=hn();if(xe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),qe===null)throw Error(B(349));Gr&30||d_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Zg(m_.bind(null,r,i,t),[t]),r.flags|=2048,Co(9,f_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=hn(),e=qe.identifierPrefix;if(xe){var n=In,r=Cn;n=(r&~(1<<32-sn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=So++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pA={readContext:Kt,useCallback:E_,useContext:Kt,useEffect:Nf,useImperativeHandle:w_,useInsertionEffect:v_,useLayoutEffect:x_,useMemo:T_,useReducer:Vc,useRef:y_,useState:function(){return Vc(Ao)},useDebugValue:Rf,useDeferredValue:function(t){var e=Gt();return S_(e,Fe.memoizedState,t)},useTransition:function(){var t=Vc(Ao)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:c_,useSyncExternalStore:h_,useId:A_,unstable_isNewReconciler:!1},gA={readContext:Kt,useCallback:E_,useContext:Kt,useEffect:Nf,useImperativeHandle:w_,useInsertionEffect:v_,useLayoutEffect:x_,useMemo:T_,useReducer:Mc,useRef:y_,useState:function(){return Mc(Ao)},useDebugValue:Rf,useDeferredValue:function(t){var e=Gt();return Fe===null?e.memoizedState=t:S_(e,Fe.memoizedState,t)},useTransition:function(){var t=Mc(Ao)[0],e=Gt().memoizedState;return[t,e]},useMutableSource:c_,useSyncExternalStore:h_,useId:A_,unstable_isNewReconciler:!1};function en(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wu={isMounted:function(t){return(t=t._reactInternals)?ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=xt(),s=ar(t),i=Pn(r,s);i.payload=e,n!=null&&(i.callback=n),e=ir(t,i,s),e!==null&&(on(e,t,s,r),ol(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=xt(),s=ar(t),i=Pn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ir(t,i,s),e!==null&&(on(e,t,s,r),ol(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=xt(),r=ar(t),s=Pn(n,r);s.tag=2,e!=null&&(s.callback=e),e=ir(t,s,r),e!==null&&(on(e,t,r,n),ol(e,t,r))}};function ey(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!vo(n,r)||!vo(s,i):!0}function N_(t,e,n){var r=!1,s=mr,i=e.contextType;return typeof i=="object"&&i!==null?i=Kt(i):(s=Pt(e)?Hr:ft.current,r=e.contextTypes,i=(r=r!=null)?Fs(t,s):mr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function ty(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wu.enqueueReplaceState(e,e.state,null)}function Bh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Ef(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Kt(i):(i=Pt(e)?Hr:ft.current,s.context=Fs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wu.enqueueReplaceState(s,s.state,null),Ol(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e){try{var n="",r=e;do n+=WS(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Lc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yA=typeof WeakMap=="function"?WeakMap:Map;function R_(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$l||($l=!0,Yh=r),zh(t,e)},n}function k_(t,e,n){n=Pn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zh(t,e),typeof r!="function"&&(or===null?or=new Set([this]):or.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function ny(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=kA.bind(null,t,e,n),e.then(t,t))}function ry(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,ir(n,e,1))),n.lanes|=1),t)}var vA=Bn.ReactCurrentOwner,At=!1;function yt(t,e,n,r){e.child=t===null?o_(e,null,n,r):zs(e,t.child,n,r)}function iy(t,e,n,r,s){n=n.render;var i=e.ref;return Ds(e,s),r=If(t,e,n,r,i,s),n=Pf(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(xe&&n&&pf(e),e.flags|=1,yt(t,e,r,s),e.child)}function oy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Of(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,b_(t,e,i,r,s)):(t=dl(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:vo,n(o,r)&&t.ref===e.ref)return jn(t,e,s)}return e.flags|=1,t=lr(i,r),t.ref=e.ref,t.return=e,e.child=t}function b_(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(vo(i,r)&&t.ref===e.ref)if(At=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(At=!0);else return e.lanes=t.lanes,jn(t,e,s)}return Uh(t,e,n,r,s)}function j_(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Ss,kt),kt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Ss,kt),kt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,fe(Ss,kt),kt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,fe(Ss,kt),kt|=r;return yt(t,e,s,n),e.child}function D_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uh(t,e,n,r,s){var i=Pt(n)?Hr:ft.current;return i=Fs(e,i),Ds(e,s),n=If(t,e,n,r,i,s),r=Pf(),t!==null&&!At?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,jn(t,e,s)):(xe&&r&&pf(e),e.flags|=1,yt(t,e,n,s),e.child)}function ay(t,e,n,r,s){if(Pt(n)){var i=!0;jl(e)}else i=!1;if(Ds(e,s),e.stateNode===null)ul(t,e),N_(e,n,r),Bh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=Pt(n)?Hr:ft.current,c=Fs(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==c)&&ty(e,o,r,c),Gn=!1;var g=e.memoizedState;o.state=g,Ol(e,r,o,s),u=e.memoizedState,a!==r||g!==u||It.current||Gn?(typeof d=="function"&&(Fh(e,n,d,r),u=e.memoizedState),(a=Gn||ey(e,n,a,r,g,u,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,l_(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:en(e.type,a),o.props=c,f=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Kt(u):(u=Pt(n)?Hr:ft.current,u=Fs(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||g!==u)&&ty(e,o,r,u),Gn=!1,g=e.memoizedState,o.state=g,Ol(e,r,o,s);var E=e.memoizedState;a!==f||g!==E||It.current||Gn?(typeof y=="function"&&(Fh(e,n,y,r),E=e.memoizedState),(c=Gn||ey(e,n,c,r,g,E,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return $h(t,e,n,r,i,s)}function $h(t,e,n,r,s,i){D_(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Hg(e,n,!1),jn(t,e,i);r=e.stateNode,vA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zs(e,t.child,null,i),e.child=zs(e,null,a,i)):yt(t,e,a,i),e.memoizedState=r.state,s&&Hg(e,n,!0),e.child}function V_(t){var e=t.stateNode;e.pendingContext?qg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qg(t,e.context,!1),Tf(t,e.containerInfo)}function ly(t,e,n,r,s){return Bs(),yf(s),e.flags|=256,yt(t,e,n,r),e.child}var Wh={dehydrated:null,treeContext:null,retryLane:0};function qh(t){return{baseLanes:t,cachePool:null,transitions:null}}function M_(t,e,n){var r=e.pendingProps,s=_e.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),fe(_e,s&1),t===null)return Lh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Su(o,r,0,null),t=zr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qh(n),e.memoizedState=Wh,t):kf(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return xA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=lr(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=lr(a,i):(i=zr(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?qh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Wh,r}return i=t.child,t=i.sibling,r=lr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function kf(t,e){return e=Su({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function za(t,e,n,r){return r!==null&&yf(r),zs(e,t.child,null,n),t=kf(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Lc(Error(B(422))),za(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Su({mode:"visible",children:r.children},s,0,null),i=zr(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zs(e,t.child,null,o),e.child.memoizedState=qh(o),e.memoizedState=Wh,i);if(!(e.mode&1))return za(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(B(419)),r=Lc(i,r,void 0),za(t,e,o,r)}if(a=(o&t.childLanes)!==0,At||a){if(r=qe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bn(t,s),on(r,t,s,-1))}return Lf(),r=Lc(Error(B(421))),za(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=bA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bt=sr(s.nextSibling),jt=e,xe=!0,nn=null,t!==null&&(Bt[zt++]=Cn,Bt[zt++]=In,Bt[zt++]=Kr,Cn=t.id,In=t.overflow,Kr=e),e=kf(e,r.children),e.flags|=4096,e)}function uy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Oh(t.return,e,n)}function Oc(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function L_(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(yt(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,n,e);else if(t.tag===19)uy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(_e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Fl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Oc(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Oc(e,!0,n,null,i);break;case"together":Oc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ul(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Qr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=lr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=lr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function _A(t,e,n){switch(e.tag){case 3:V_(e),Bs();break;case 5:u_(e);break;case 1:Pt(e.type)&&jl(e);break;case 4:Tf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;fe(Ml,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?M_(t,e,n):(fe(_e,_e.current&1),t=jn(t,e,n),t!==null?t.sibling:null);fe(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return L_(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),fe(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,j_(t,e,n)}return jn(t,e,n)}var O_,Hh,F_,B_;O_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Hh=function(){};F_=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Mr(mn.current);var i=null;switch(n){case"input":s=mh(t,s),r=mh(t,r),i=[];break;case"select":s=Se({},s,{value:void 0}),r=Se({},r,{value:void 0}),i=[];break;case"textarea":s=yh(t,s),r=yh(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=kl)}xh(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(co.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(co.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ge("scroll",t),i||a===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};B_=function(t,e,n,r){n!==r&&(e.flags|=4)};function Di(t,e){if(!xe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ot(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function wA(t,e,n){var r=e.pendingProps;switch(gf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(e),null;case 1:return Pt(e.type)&&bl(),ot(e),null;case 3:return r=e.stateNode,Us(),ve(It),ve(ft),Af(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nn!==null&&(ed(nn),nn=null))),Hh(t,e),ot(e),null;case 5:Sf(e);var s=Mr(To.current);if(n=e.type,t!==null&&e.stateNode!=null)F_(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return ot(e),null}if(t=Mr(mn.current),Fa(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[dn]=e,r[wo]=i,t=(e.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(s=0;s<zi.length;s++)ge(zi[s],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":vg(r,i),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ge("invalid",r);break;case"textarea":_g(r,i),ge("invalid",r)}xh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Oa(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Oa(r.textContent,a,t),s=["children",""+a]):co.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ge("scroll",r)}switch(n){case"input":Ra(r),xg(r,i,!0);break;case"textarea":Ra(r),wg(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=kl)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dn]=e,t[wo]=r,O_(t,e,!1,!1),e.stateNode=t;e:{switch(o=_h(n,r),n){case"dialog":ge("cancel",t),ge("close",t),s=r;break;case"iframe":case"object":case"embed":ge("load",t),s=r;break;case"video":case"audio":for(s=0;s<zi.length;s++)ge(zi[s],t);s=r;break;case"source":ge("error",t),s=r;break;case"img":case"image":case"link":ge("error",t),ge("load",t),s=r;break;case"details":ge("toggle",t),s=r;break;case"input":vg(t,r),s=mh(t,r),ge("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Se({},r,{value:void 0}),ge("invalid",t);break;case"textarea":_g(t,r),s=yh(t,r),ge("invalid",t);break;default:s=r}xh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?yx(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&px(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ho(t,u):typeof u=="number"&&ho(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(co.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ge("scroll",t):u!=null&&ef(t,i,u,o))}switch(n){case"input":Ra(t),xg(t,r,!1);break;case"textarea":Ra(t),wg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Rs(t,!!r.multiple,i,!1):r.defaultValue!=null&&Rs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=kl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ot(e),null;case 6:if(t&&e.stateNode!=null)B_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=Mr(To.current),Mr(mn.current),Fa(e)){if(r=e.stateNode,n=e.memoizedProps,r[dn]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:Oa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Oa(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dn]=e,e.stateNode=r}return ot(e),null;case 13:if(ve(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(xe&&bt!==null&&e.mode&1&&!(e.flags&128))s_(),Bs(),e.flags|=98560,i=!1;else if(i=Fa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[dn]=e}else Bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ot(e),i=!1}else nn!==null&&(ed(nn),nn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?Be===0&&(Be=3):Lf())),e.updateQueue!==null&&(e.flags|=4),ot(e),null);case 4:return Us(),Hh(t,e),t===null&&xo(e.stateNode.containerInfo),ot(e),null;case 10:return _f(e.type._context),ot(e),null;case 17:return Pt(e.type)&&bl(),ot(e),null;case 19:if(ve(_e),i=e.memoizedState,i===null)return ot(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Di(i,!1);else{if(Be!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Fl(t),o!==null){for(e.flags|=128,Di(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&be()>Ws&&(e.flags|=128,r=!0,Di(i,!1),e.lanes=4194304)}else{if(!r)if(t=Fl(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Di(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!xe)return ot(e),null}else 2*be()-i.renderingStartTime>Ws&&n!==1073741824&&(e.flags|=128,r=!0,Di(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=be(),e.sibling=null,n=_e.current,fe(_e,r?n&1|2:n&1),e):(ot(e),null);case 22:case 23:return Mf(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?kt&1073741824&&(ot(e),e.subtreeFlags&6&&(e.flags|=8192)):ot(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function EA(t,e){switch(gf(e),e.tag){case 1:return Pt(e.type)&&bl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Us(),ve(It),ve(ft),Af(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sf(e),null;case 13:if(ve(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(_e),null;case 4:return Us(),null;case 10:return _f(e.type._context),null;case 22:case 23:return Mf(),null;case 24:return null;default:return null}}var Ua=!1,ct=!1,TA=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ts(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(t,e,r)}else n.current=null}function Kh(t,e,n){try{n()}catch(r){Pe(t,e,r)}}var cy=!1;function SA(t,e){if(Rh=Pl,t=qx(),mf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,c=0,d=0,f=t,g=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(u=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)g=f,f=y;for(;;){if(f===t)break t;if(g===n&&++c===s&&(a=o),g===i&&++d===r&&(u=o),(y=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=y}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kh={focusedElem:t,selectionRange:n},Pl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var I=E.memoizedProps,R=E.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?I:en(e.type,I),R);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(D){Pe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return E=cy,cy=!1,E}function Ji(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kh(e,n,i)}s=s.next}while(s!==r)}}function Eu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function z_(t){var e=t.alternate;e!==null&&(t.alternate=null,z_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dn],delete e[wo],delete e[Dh],delete e[oA],delete e[aA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function U_(t){return t.tag===5||t.tag===3||t.tag===4}function hy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||U_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=kl));else if(r!==4&&(t=t.child,t!==null))for(Qh(t,e,n),t=t.sibling;t!==null;)Qh(t,e,n),t=t.sibling}function Xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xh(t,e,n),t=t.sibling;t!==null;)Xh(t,e,n),t=t.sibling}var Ke=null,tn=!1;function qn(t,e,n){for(n=n.child;n!==null;)$_(t,e,n),n=n.sibling}function $_(t,e,n){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(mu,n)}catch{}switch(n.tag){case 5:ct||Ts(n,e);case 6:var r=Ke,s=tn;Ke=null,qn(t,e,n),Ke=r,tn=s,Ke!==null&&(tn?(t=Ke,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ke.removeChild(n.stateNode));break;case 18:Ke!==null&&(tn?(t=Ke,n=n.stateNode,t.nodeType===8?kc(t.parentNode,n):t.nodeType===1&&kc(t,n),go(t)):kc(Ke,n.stateNode));break;case 4:r=Ke,s=tn,Ke=n.stateNode.containerInfo,tn=!0,qn(t,e,n),Ke=r,tn=s;break;case 0:case 11:case 14:case 15:if(!ct&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kh(n,e,o),s=s.next}while(s!==r)}qn(t,e,n);break;case 1:if(!ct&&(Ts(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Pe(n,e,a)}qn(t,e,n);break;case 21:qn(t,e,n);break;case 22:n.mode&1?(ct=(r=ct)||n.memoizedState!==null,qn(t,e,n),ct=r):qn(t,e,n);break;default:qn(t,e,n)}}function dy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new TA),e.forEach(function(r){var s=jA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ke=a.stateNode,tn=!1;break e;case 3:Ke=a.stateNode.containerInfo,tn=!0;break e;case 4:Ke=a.stateNode.containerInfo,tn=!0;break e}a=a.return}if(Ke===null)throw Error(B(160));$_(i,o,s),Ke=null,tn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Pe(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)W_(e,t),e=e.sibling}function W_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jt(e,t),cn(t),r&4){try{Ji(3,t,t.return),Eu(3,t)}catch(I){Pe(t,t.return,I)}try{Ji(5,t,t.return)}catch(I){Pe(t,t.return,I)}}break;case 1:Jt(e,t),cn(t),r&512&&n!==null&&Ts(n,n.return);break;case 5:if(Jt(e,t),cn(t),r&512&&n!==null&&Ts(n,n.return),t.flags&32){var s=t.stateNode;try{ho(s,"")}catch(I){Pe(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&dx(s,i),_h(a,o);var c=_h(a,i);for(o=0;o<u.length;o+=2){var d=u[o],f=u[o+1];d==="style"?yx(s,f):d==="dangerouslySetInnerHTML"?px(s,f):d==="children"?ho(s,f):ef(s,d,f,c)}switch(a){case"input":ph(s,i);break;case"textarea":fx(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Rs(s,!!i.multiple,y,!1):g!==!!i.multiple&&(i.defaultValue!=null?Rs(s,!!i.multiple,i.defaultValue,!0):Rs(s,!!i.multiple,i.multiple?[]:"",!1))}s[wo]=i}catch(I){Pe(t,t.return,I)}}break;case 6:if(Jt(e,t),cn(t),r&4){if(t.stateNode===null)throw Error(B(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){Pe(t,t.return,I)}}break;case 3:if(Jt(e,t),cn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{go(e.containerInfo)}catch(I){Pe(t,t.return,I)}break;case 4:Jt(e,t),cn(t);break;case 13:Jt(e,t),cn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Df=be())),r&4&&dy(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ct=(c=ct)||d,Jt(e,t),ct=c):Jt(e,t),cn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for($=t,d=t.child;d!==null;){for(f=$=d;$!==null;){switch(g=$,y=g.child,g.tag){case 0:case 11:case 14:case 15:Ji(4,g,g.return);break;case 1:Ts(g,g.return);var E=g.stateNode;if(typeof E.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(I){Pe(r,n,I)}}break;case 5:Ts(g,g.return);break;case 22:if(g.memoizedState!==null){my(f);continue}}y!==null?(y.return=g,$=y):my(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,u=f.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=gx("display",o))}catch(I){Pe(t,t.return,I)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(I){Pe(t,t.return,I)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jt(e,t),cn(t),r&4&&dy(t);break;case 21:break;default:Jt(e,t),cn(t)}}function cn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(U_(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ho(s,""),r.flags&=-33);var i=hy(t);Xh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=hy(t);Qh(t,a,o);break;default:throw Error(B(161))}}catch(u){Pe(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AA(t,e,n){$=t,q_(t)}function q_(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ua;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||ct;a=Ua;var c=ct;if(Ua=o,(ct=u)&&!c)for($=s;$!==null;)o=$,u=o.child,o.tag===22&&o.memoizedState!==null?py(s):u!==null?(u.return=o,$=u):py(s);for(;i!==null;)$=i,q_(i),i=i.sibling;$=s,Ua=a,ct=c}fy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):fy(t)}}function fy(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ct||Eu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ct)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:en(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Yg(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yg(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&go(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ct||e.flags&512&&Gh(e)}catch(g){Pe(e,e.return,g)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function my(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function py(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eu(4,e)}catch(u){Pe(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Pe(e,s,u)}}var i=e.return;try{Gh(e)}catch(u){Pe(e,i,u)}break;case 5:var o=e.return;try{Gh(e)}catch(u){Pe(e,o,u)}}}catch(u){Pe(e,e.return,u)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var CA=Math.ceil,Ul=Bn.ReactCurrentDispatcher,bf=Bn.ReactCurrentOwner,Wt=Bn.ReactCurrentBatchConfig,oe=0,qe=null,De=null,Ye=0,kt=0,Ss=wr(0),Be=0,Io=null,Qr=0,Tu=0,jf=0,Zi=null,St=null,Df=0,Ws=1/0,Sn=null,$l=!1,Yh=null,or=null,$a=!1,Jn=null,Wl=0,eo=0,Jh=null,cl=-1,hl=0;function xt(){return oe&6?be():cl!==-1?cl:cl=be()}function ar(t){return t.mode&1?oe&2&&Ye!==0?Ye&-Ye:uA.transition!==null?(hl===0&&(hl=Nx()),hl):(t=ce,t!==0||(t=window.event,t=t===void 0?16:Mx(t.type)),t):1}function on(t,e,n,r){if(50<eo)throw eo=0,Jh=null,Error(B(185));Go(t,n,r),(!(oe&2)||t!==qe)&&(t===qe&&(!(oe&2)&&(Tu|=n),Be===4&&Xn(t,Ye)),Nt(t,r),n===1&&oe===0&&!(e.mode&1)&&(Ws=be()+500,xu&&Er()))}function Nt(t,e){var n=t.callbackNode;u2(t,e);var r=Il(t,t===qe?Ye:0);if(r===0)n!==null&&Sg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Sg(n),e===1)t.tag===0?lA(gy.bind(null,t)):t_(gy.bind(null,t)),sA(function(){!(oe&6)&&Er()}),n=null;else{switch(Rx(r)){case 1:n=of;break;case 4:n=Ix;break;case 16:n=Cl;break;case 536870912:n=Px;break;default:n=Cl}n=Z_(n,H_.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function H_(t,e){if(cl=-1,hl=0,oe&6)throw Error(B(327));var n=t.callbackNode;if(Vs()&&t.callbackNode!==n)return null;var r=Il(t,t===qe?Ye:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ql(t,r);else{e=r;var s=oe;oe|=2;var i=G_();(qe!==t||Ye!==e)&&(Sn=null,Ws=be()+500,Br(t,e));do try{NA();break}catch(a){K_(t,a)}while(!0);xf(),Ul.current=i,oe=s,De!==null?e=0:(qe=null,Ye=0,e=Be)}if(e!==0){if(e===2&&(s=Ah(t),s!==0&&(r=s,e=Zh(t,s))),e===1)throw n=Io,Br(t,0),Xn(t,r),Nt(t,be()),n;if(e===6)Xn(t,r);else{if(s=t.current.alternate,!(r&30)&&!IA(s)&&(e=ql(t,r),e===2&&(i=Ah(t),i!==0&&(r=i,e=Zh(t,i))),e===1))throw n=Io,Br(t,0),Xn(t,r),Nt(t,be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:kr(t,St,Sn);break;case 3:if(Xn(t,r),(r&130023424)===r&&(e=Df+500-be(),10<e)){if(Il(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){xt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jh(kr.bind(null,t,St,Sn),e);break}kr(t,St,Sn);break;case 4:if(Xn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CA(r/1960))-r,10<r){t.timeoutHandle=jh(kr.bind(null,t,St,Sn),r);break}kr(t,St,Sn);break;case 5:kr(t,St,Sn);break;default:throw Error(B(329))}}}return Nt(t,be()),t.callbackNode===n?H_.bind(null,t):null}function Zh(t,e){var n=Zi;return t.current.memoizedState.isDehydrated&&(Br(t,e).flags|=256),t=ql(t,e),t!==2&&(e=St,St=n,e!==null&&ed(e)),t}function ed(t){St===null?St=t:St.push.apply(St,t)}function IA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!an(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xn(t,e){for(e&=~jf,e&=~Tu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sn(e),r=1<<n;t[n]=-1,e&=~r}}function gy(t){if(oe&6)throw Error(B(327));Vs();var e=Il(t,0);if(!(e&1))return Nt(t,be()),null;var n=ql(t,e);if(t.tag!==0&&n===2){var r=Ah(t);r!==0&&(e=r,n=Zh(t,r))}if(n===1)throw n=Io,Br(t,0),Xn(t,e),Nt(t,be()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kr(t,St,Sn),Nt(t,be()),null}function Vf(t,e){var n=oe;oe|=1;try{return t(e)}finally{oe=n,oe===0&&(Ws=be()+500,xu&&Er())}}function Xr(t){Jn!==null&&Jn.tag===0&&!(oe&6)&&Vs();var e=oe;oe|=1;var n=Wt.transition,r=ce;try{if(Wt.transition=null,ce=1,t)return t()}finally{ce=r,Wt.transition=n,oe=e,!(oe&6)&&Er()}}function Mf(){kt=Ss.current,ve(Ss)}function Br(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rA(n)),De!==null)for(n=De.return;n!==null;){var r=n;switch(gf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&bl();break;case 3:Us(),ve(It),ve(ft),Af();break;case 5:Sf(r);break;case 4:Us();break;case 13:ve(_e);break;case 19:ve(_e);break;case 10:_f(r.type._context);break;case 22:case 23:Mf()}n=n.return}if(qe=t,De=t=lr(t.current,null),Ye=kt=e,Be=0,Io=null,jf=Tu=Qr=0,St=Zi=null,Vr!==null){for(e=0;e<Vr.length;e++)if(n=Vr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Vr=null}return t}function K_(t,e){do{var n=De;try{if(xf(),al.current=zl,Bl){for(var r=Ee.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Bl=!1}if(Gr=0,$e=Fe=Ee=null,Yi=!1,So=0,bf.current=null,n===null||n.return===null){Be=1,Io=e,De=null;break}e:{var i=t,o=n.return,a=n,u=e;if(e=Ye,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ry(o);if(y!==null){y.flags&=-257,sy(y,o,a,i,e),y.mode&1&&ny(i,c,e),e=y,u=c;var E=e.updateQueue;if(E===null){var I=new Set;I.add(u),e.updateQueue=I}else E.add(u);break e}else{if(!(e&1)){ny(i,c,e),Lf();break e}u=Error(B(426))}}else if(xe&&a.mode&1){var R=ry(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),sy(R,o,a,i,e),yf($s(u,a));break e}}i=u=$s(u,a),Be!==4&&(Be=2),Zi===null?Zi=[i]:Zi.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=R_(i,u,e);Xg(i,x);break e;case 1:a=u;var w=i.type,T=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(or===null||!or.has(T)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=k_(i,a,e);Xg(i,D);break e}}i=i.return}while(i!==null)}X_(n)}catch(V){e=V,De===n&&n!==null&&(De=n=n.return);continue}break}while(!0)}function G_(){var t=Ul.current;return Ul.current=zl,t===null?zl:t}function Lf(){(Be===0||Be===3||Be===2)&&(Be=4),qe===null||!(Qr&268435455)&&!(Tu&268435455)||Xn(qe,Ye)}function ql(t,e){var n=oe;oe|=2;var r=G_();(qe!==t||Ye!==e)&&(Sn=null,Br(t,e));do try{PA();break}catch(s){K_(t,s)}while(!0);if(xf(),oe=n,Ul.current=r,De!==null)throw Error(B(261));return qe=null,Ye=0,Be}function PA(){for(;De!==null;)Q_(De)}function NA(){for(;De!==null&&!e2();)Q_(De)}function Q_(t){var e=J_(t.alternate,t,kt);t.memoizedProps=t.pendingProps,e===null?X_(t):De=e,bf.current=null}function X_(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=EA(n,e),n!==null){n.flags&=32767,De=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Be=6,De=null;return}}else if(n=wA(n,e,kt),n!==null){De=n;return}if(e=e.sibling,e!==null){De=e;return}De=e=t}while(e!==null);Be===0&&(Be=5)}function kr(t,e,n){var r=ce,s=Wt.transition;try{Wt.transition=null,ce=1,RA(t,e,n,r)}finally{Wt.transition=s,ce=r}return null}function RA(t,e,n,r){do Vs();while(Jn!==null);if(oe&6)throw Error(B(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(c2(t,i),t===qe&&(De=qe=null,Ye=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$a||($a=!0,Z_(Cl,function(){return Vs(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Wt.transition,Wt.transition=null;var o=ce;ce=1;var a=oe;oe|=4,bf.current=null,SA(t,n),W_(n,t),X2(kh),Pl=!!Rh,kh=Rh=null,t.current=n,AA(n),t2(),oe=a,ce=o,Wt.transition=i}else t.current=n;if($a&&($a=!1,Jn=t,Wl=s),i=t.pendingLanes,i===0&&(or=null),s2(n.stateNode),Nt(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if($l)throw $l=!1,t=Yh,Yh=null,t;return Wl&1&&t.tag!==0&&Vs(),i=t.pendingLanes,i&1?t===Jh?eo++:(eo=0,Jh=t):eo=0,Er(),null}function Vs(){if(Jn!==null){var t=Rx(Wl),e=Wt.transition,n=ce;try{if(Wt.transition=null,ce=16>t?16:t,Jn===null)var r=!1;else{if(t=Jn,Jn=null,Wl=0,oe&6)throw Error(B(331));var s=oe;for(oe|=4,$=t.current;$!==null;){var i=$,o=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Ji(8,d,i)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var g=d.sibling,y=d.return;if(z_(d),d===c){$=null;break}if(g!==null){g.return=y,$=g;break}$=y}}}var E=i.alternate;if(E!==null){var I=E.child;if(I!==null){E.child=null;do{var R=I.sibling;I.sibling=null,I=R}while(I!==null)}}$=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,$=o;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ji(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,$=x;break e}$=i.return}}var w=t.current;for($=w;$!==null;){o=$;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,$=T;else e:for(o=w;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eu(9,a)}}catch(V){Pe(a,a.return,V)}if(a===o){$=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,$=D;break e}$=a.return}}if(oe=s,Er(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(mu,t)}catch{}r=!0}return r}finally{ce=n,Wt.transition=e}}return!1}function yy(t,e,n){e=$s(n,e),e=R_(t,e,1),t=ir(t,e,1),e=xt(),t!==null&&(Go(t,1,e),Nt(t,e))}function Pe(t,e,n){if(t.tag===3)yy(t,t,n);else for(;e!==null;){if(e.tag===3){yy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(or===null||!or.has(r))){t=$s(n,t),t=k_(e,t,1),e=ir(e,t,1),t=xt(),e!==null&&(Go(e,1,t),Nt(e,t));break}}e=e.return}}function kA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=xt(),t.pingedLanes|=t.suspendedLanes&n,qe===t&&(Ye&n)===n&&(Be===4||Be===3&&(Ye&130023424)===Ye&&500>be()-Df?Br(t,0):jf|=n),Nt(t,e)}function Y_(t,e){e===0&&(t.mode&1?(e=ja,ja<<=1,!(ja&130023424)&&(ja=4194304)):e=1);var n=xt();t=bn(t,e),t!==null&&(Go(t,e,n),Nt(t,n))}function bA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Y_(t,n)}function jA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),Y_(t,n)}var J_;J_=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||It.current)At=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return At=!1,_A(t,e,n);At=!!(t.flags&131072)}else At=!1,xe&&e.flags&1048576&&n_(e,Vl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ul(t,e),t=e.pendingProps;var s=Fs(e,ft.current);Ds(e,n),s=If(null,e,r,t,s,n);var i=Pf();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pt(r)?(i=!0,jl(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ef(e),s.updater=wu,e.stateNode=s,s._reactInternals=e,Bh(e,r,t,n),e=$h(null,e,r,!0,i,n)):(e.tag=0,xe&&i&&pf(e),yt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ul(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=VA(r),t=en(r,t),s){case 0:e=Uh(null,e,r,t,n);break e;case 1:e=ay(null,e,r,t,n);break e;case 11:e=iy(null,e,r,t,n);break e;case 14:e=oy(null,e,r,en(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),Uh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),ay(t,e,r,s,n);case 3:e:{if(V_(e),t===null)throw Error(B(387));r=e.pendingProps,i=e.memoizedState,s=i.element,l_(t,e),Ol(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=$s(Error(B(423)),e),e=ly(t,e,r,n,s);break e}else if(r!==s){s=$s(Error(B(424)),e),e=ly(t,e,r,n,s);break e}else for(bt=sr(e.stateNode.containerInfo.firstChild),jt=e,xe=!0,nn=null,n=o_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bs(),r===s){e=jn(t,e,n);break e}yt(t,e,r,n)}e=e.child}return e;case 5:return u_(e),t===null&&Lh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,bh(r,s)?o=null:i!==null&&bh(r,i)&&(e.flags|=32),D_(t,e),yt(t,e,o,n),e.child;case 6:return t===null&&Lh(e),null;case 13:return M_(t,e,n);case 4:return Tf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zs(e,null,r,n):yt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),iy(t,e,r,s,n);case 7:return yt(t,e,e.pendingProps,n),e.child;case 8:return yt(t,e,e.pendingProps.children,n),e.child;case 12:return yt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,fe(Ml,r._currentValue),r._currentValue=o,i!==null)if(an(i.value,o)){if(i.children===s.children&&!It.current){e=jn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Pn(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Oh(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Oh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}yt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Ds(e,n),s=Kt(s),r=r(s),e.flags|=1,yt(t,e,r,n),e.child;case 14:return r=e.type,s=en(r,e.pendingProps),s=en(r.type,s),oy(t,e,r,s,n);case 15:return b_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:en(r,s),ul(t,e),e.tag=1,Pt(r)?(t=!0,jl(e)):t=!1,Ds(e,n),N_(e,r,s),Bh(e,r,s,n),$h(null,e,r,!0,t,n);case 19:return L_(t,e,n);case 22:return j_(t,e,n)}throw Error(B(156,e.tag))};function Z_(t,e){return Cx(t,e)}function DA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(t,e,n,r){return new DA(t,e,n,r)}function Of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VA(t){if(typeof t=="function")return Of(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nf)return 11;if(t===rf)return 14}return 2}function lr(t,e){var n=t.alternate;return n===null?(n=$t(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function dl(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Of(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ms:return zr(n.children,s,i,e);case tf:o=8,s|=8;break;case ch:return t=$t(12,n,e,s|2),t.elementType=ch,t.lanes=i,t;case hh:return t=$t(13,n,e,s),t.elementType=hh,t.lanes=i,t;case dh:return t=$t(19,n,e,s),t.elementType=dh,t.lanes=i,t;case ux:return Su(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ax:o=10;break e;case lx:o=9;break e;case nf:o=11;break e;case rf:o=14;break e;case Kn:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=$t(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function zr(t,e,n,r){return t=$t(7,t,r,e),t.lanes=n,t}function Su(t,e,n,r){return t=$t(22,t,r,e),t.elementType=ux,t.lanes=n,t.stateNode={isHidden:!1},t}function Fc(t,e,n){return t=$t(6,t,null,e),t.lanes=n,t}function Bc(t,e,n){return e=$t(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_c(0),this.expirationTimes=_c(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_c(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ff(t,e,n,r,s,i,o,a,u){return t=new MA(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$t(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ef(i),t}function LA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function e1(t){if(!t)return mr;t=t._reactInternals;e:{if(ts(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Pt(n))return e_(t,n,e)}return e}function t1(t,e,n,r,s,i,o,a,u){return t=Ff(n,r,!0,t,s,i,o,a,u),t.context=e1(null),n=t.current,r=xt(),s=ar(n),i=Pn(r,s),i.callback=e??null,ir(n,i,s),t.current.lanes=s,Go(t,s,r),Nt(t,r),t}function Au(t,e,n,r){var s=e.current,i=xt(),o=ar(s);return n=e1(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ir(s,e,o),t!==null&&(on(t,s,o,i),ol(t,s,o)),o}function Hl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Bf(t,e){vy(t,e),(t=t.alternate)&&vy(t,e)}function OA(){return null}var n1=typeof reportError=="function"?reportError:function(t){console.error(t)};function zf(t){this._internalRoot=t}Cu.prototype.render=zf.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Au(t,e,null,null)};Cu.prototype.unmount=zf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xr(function(){Au(null,t,null,null)}),e[kn]=null}};function Cu(t){this._internalRoot=t}Cu.prototype.unstable_scheduleHydration=function(t){if(t){var e=jx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Qn.length&&e!==0&&e<Qn[n].priority;n++);Qn.splice(n,0,t),n===0&&Vx(t)}};function Uf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Iu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xy(){}function FA(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Hl(o);i.call(c)}}var o=t1(e,r,t,0,null,!1,!1,"",xy);return t._reactRootContainer=o,t[kn]=o.current,xo(t.nodeType===8?t.parentNode:t),Xr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Hl(u);a.call(c)}}var u=Ff(t,0,!1,null,null,!1,!1,"",xy);return t._reactRootContainer=u,t[kn]=u.current,xo(t.nodeType===8?t.parentNode:t),Xr(function(){Au(e,u,n,r)}),u}function Pu(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Hl(o);a.call(u)}}Au(e,o,t,s)}else o=FA(n,e,t,s,r);return Hl(o)}kx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bi(e.pendingLanes);n!==0&&(af(e,n|1),Nt(e,be()),!(oe&6)&&(Ws=be()+500,Er()))}break;case 13:Xr(function(){var r=bn(t,1);if(r!==null){var s=xt();on(r,t,1,s)}}),Bf(t,1)}};lf=function(t){if(t.tag===13){var e=bn(t,134217728);if(e!==null){var n=xt();on(e,t,134217728,n)}Bf(t,134217728)}};bx=function(t){if(t.tag===13){var e=ar(t),n=bn(t,e);if(n!==null){var r=xt();on(n,t,e,r)}Bf(t,e)}};jx=function(){return ce};Dx=function(t,e){var n=ce;try{return ce=t,e()}finally{ce=n}};Eh=function(t,e,n){switch(e){case"input":if(ph(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vu(r);if(!s)throw Error(B(90));hx(r),ph(r,s)}}}break;case"textarea":fx(t,n);break;case"select":e=n.value,e!=null&&Rs(t,!!n.multiple,e,!1)}};_x=Vf;wx=Xr;var BA={usingClientEntryPoint:!1,Events:[Xo,vs,vu,vx,xx,Vf]},Vi={findFiberByHostInstance:Dr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zA={bundleType:Vi.bundleType,version:Vi.version,rendererPackageName:Vi.rendererPackageName,rendererConfig:Vi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sx(t),t===null?null:t.stateNode},findFiberByHostInstance:Vi.findFiberByHostInstance||OA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wa.isDisabled&&Wa.supportsFiber)try{mu=Wa.inject(zA),fn=Wa}catch{}}Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BA;Vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uf(e))throw Error(B(200));return LA(t,e,null,n)};Vt.createRoot=function(t,e){if(!Uf(t))throw Error(B(299));var n=!1,r="",s=n1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ff(t,1,!1,null,null,n,!1,r,s),t[kn]=e.current,xo(t.nodeType===8?t.parentNode:t),new zf(e)};Vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=Sx(e),t=t===null?null:t.stateNode,t};Vt.flushSync=function(t){return Xr(t)};Vt.hydrate=function(t,e,n){if(!Iu(e))throw Error(B(200));return Pu(null,t,e,!0,n)};Vt.hydrateRoot=function(t,e,n){if(!Uf(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=n1;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=t1(e,null,t,1,n??null,s,!1,i,o),t[kn]=e.current,xo(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Cu(e)};Vt.render=function(t,e,n){if(!Iu(e))throw Error(B(200));return Pu(null,t,e,!1,n)};Vt.unmountComponentAtNode=function(t){if(!Iu(t))throw Error(B(40));return t._reactRootContainer?(Xr(function(){Pu(null,null,t,!1,function(){t._reactRootContainer=null,t[kn]=null})}),!0):!1};Vt.unstable_batchedUpdates=Vf;Vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Iu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return Pu(t,e,n,!1,r)};Vt.version="18.3.1-next-f1338f8080-20240426";function r1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r1)}catch(t){console.error(t)}}r1(),rx.exports=Vt;var UA=rx.exports,s1,_y=UA;s1=_y.createRoot,_y.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Po.apply(this,arguments)}var Zn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zn||(Zn={}));const wy="popstate";function $A(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return td("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:o1(s)}return qA(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function i1(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function WA(){return Math.random().toString(36).substr(2,8)}function Ey(t,e){return{usr:t.state,key:t.key,idx:e}}function td(t,e,n,r){return n===void 0&&(n=null),Po({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ii(e):e,{state:n,key:e&&e.key||r||WA()})}function o1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ii(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function qA(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Zn.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(Po({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Zn.Pop;let R=d(),x=R==null?null:R-c;c=R,u&&u({action:a,location:I.location,delta:x})}function g(R,x){a=Zn.Push;let w=td(I.location,R,x);c=d()+1;let T=Ey(w,c),D=I.createHref(w);try{o.pushState(T,"",D)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(D)}i&&u&&u({action:a,location:I.location,delta:1})}function y(R,x){a=Zn.Replace;let w=td(I.location,R,x);c=d();let T=Ey(w,c),D=I.createHref(w);o.replaceState(T,"",D),i&&u&&u({action:a,location:I.location,delta:0})}function E(R){let x=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof R=="string"?R:o1(R);return w=w.replace(/ $/,"%20"),Me(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let I={get action(){return a},get location(){return t(s,o)},listen(R){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(wy,f),u=R,()=>{s.removeEventListener(wy,f),u=null}},createHref(R){return e(s,R)},createURL:E,encodeLocation(R){let x=E(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:y,go(R){return o.go(R)}};return I}var Ty;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ty||(Ty={}));function HA(t,e,n){return n===void 0&&(n="/"),KA(t,e,n,!1)}function KA(t,e,n,r){let s=typeof e=="string"?ii(e):e,i=u1(s.pathname||"/",n);if(i==null)return null;let o=a1(t);GA(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=iC(i);a=rC(o[u],c,r)}return a}function a1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Me(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ur([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(Me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),a1(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:tC(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of l1(i.path))s(i,o,u)}),e}function l1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=l1(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function GA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const QA=/^:[\w-]+$/,XA=3,YA=2,JA=1,ZA=10,eC=-2,Sy=t=>t==="*";function tC(t,e){let n=t.split("/"),r=n.length;return n.some(Sy)&&(r+=eC),e&&(r+=YA),n.filter(s=>!Sy(s)).reduce((s,i)=>s+(QA.test(i)?XA:i===""?JA:ZA),r)}function nC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function rC(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=Ay({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),g=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Ay({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ur([i,f.pathname]),pathnameBase:uC(Ur([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Ur([i,f.pathnameBase]))}return o}function Ay(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=sC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:g,isOptional:y}=d;if(g==="*"){let I=a[f]||"";o=i.slice(0,i.length-I.length).replace(/(.)\/+$/,"$1")}const E=a[f];return y&&!E?c[g]=void 0:c[g]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function sC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),i1(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function iC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return i1(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function u1(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function oC(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ii(t):t;return{pathname:n?n.startsWith("/")?n:aC(n,e):e,search:cC(r),hash:hC(s)}}function aC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function c1(t,e){let n=lC(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function h1(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ii(t):(s=Po({},t),Me(!s.pathname||!s.pathname.includes("?"),zc("?","pathname","search",s)),Me(!s.pathname||!s.pathname.includes("#"),zc("#","pathname","hash",s)),Me(!s.search||!s.search.includes("#"),zc("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;s.pathname=g.join("/")}a=f>=0?e[f]:"/"}let u=oC(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Ur=t=>t.join("/").replace(/\/\/+/g,"/"),uC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const d1=["post","put","patch","delete"];new Set(d1);const fC=["get",...d1];new Set(fC);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function No(){return No=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},No.apply(this,arguments)}const $f=k.createContext(null),mC=k.createContext(null),Jo=k.createContext(null),Nu=k.createContext(null),ns=k.createContext({outlet:null,matches:[],isDataRoute:!1}),f1=k.createContext(null);function Zo(){return k.useContext(Nu)!=null}function Wf(){return Zo()||Me(!1),k.useContext(Nu).location}function m1(t){k.useContext(Jo).static||k.useLayoutEffect(t)}function mt(){let{isDataRoute:t}=k.useContext(ns);return t?IC():pC()}function pC(){Zo()||Me(!1);let t=k.useContext($f),{basename:e,future:n,navigator:r}=k.useContext(Jo),{matches:s}=k.useContext(ns),{pathname:i}=Wf(),o=JSON.stringify(c1(s,n.v7_relativeSplatPath)),a=k.useRef(!1);return m1(()=>{a.current=!0}),k.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=h1(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ur([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function gC(t,e){return yC(t,e)}function yC(t,e,n,r){Zo()||Me(!1);let{navigator:s,static:i}=k.useContext(Jo),{matches:o}=k.useContext(ns),a=o[o.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Wf(),f;if(e){var g;let x=typeof e=="string"?ii(e):e;c==="/"||(g=x.pathname)!=null&&g.startsWith(c)||Me(!1),f=x}else f=d;let y=f.pathname||"/",E=y;if(c!=="/"){let x=c.replace(/^\//,"").split("/");E="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let I=!i&&n&&n.matches&&n.matches.length>0?n.matches:HA(t,{pathname:E}),R=EC(I&&I.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:Ur([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Ur([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&R?k.createElement(Nu.Provider,{value:{location:No({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Zn.Pop}},R):R}function vC(){let t=CC(),e=dC(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,null)}const xC=k.createElement(vC,null);class _C extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?k.createElement(ns.Provider,{value:this.props.routeContext},k.createElement(f1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function wC(t){let{routeContext:e,match:n,children:r}=t,s=k.useContext($f);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(ns.Provider,{value:e},r)}function EC(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||Me(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:g,errors:y}=n,E=f.route.loader&&g[f.route.id]===void 0&&(!y||y[f.route.id]===void 0);if(f.route.lazy||E){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let y,E=!1,I=null,R=null;n&&(y=a&&f.route.id?a[f.route.id]:void 0,I=f.route.errorElement||xC,u&&(c<0&&g===0?(E=!0,R=null):c===g&&(E=!0,R=f.route.hydrateFallbackElement||null)));let x=e.concat(o.slice(0,g+1)),w=()=>{let T;return y?T=I:E?T=R:f.route.Component?T=k.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=d,k.createElement(wC,{match:f,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?k.createElement(_C,{location:n.location,revalidation:n.revalidation,component:I,error:y,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var p1=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p1||{}),Kl=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kl||{});function TC(t){let e=k.useContext($f);return e||Me(!1),e}function SC(t){let e=k.useContext(mC);return e||Me(!1),e}function AC(t){let e=k.useContext(ns);return e||Me(!1),e}function g1(t){let e=AC(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function CC(){var t;let e=k.useContext(f1),n=SC(Kl.UseRouteError),r=g1(Kl.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function IC(){let{router:t}=TC(p1.UseNavigateStable),e=g1(Kl.UseNavigateStable),n=k.useRef(!1);return m1(()=>{n.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,No({fromRouteId:e},i)))},[t,e])}function PC(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function NC(t){let{to:e,replace:n,state:r,relative:s}=t;Zo()||Me(!1);let{future:i,static:o}=k.useContext(Jo),{matches:a}=k.useContext(ns),{pathname:u}=Wf(),c=mt(),d=h1(e,c1(a,i.v7_relativeSplatPath),u,s==="path"),f=JSON.stringify(d);return k.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function Oe(t){Me(!1)}function RC(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Zn.Pop,navigator:i,static:o=!1,future:a}=t;Zo()&&Me(!1);let u=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:u,navigator:i,static:o,future:No({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=ii(r));let{pathname:d="/",search:f="",hash:g="",state:y=null,key:E="default"}=r,I=k.useMemo(()=>{let R=u1(d,u);return R==null?null:{location:{pathname:R,search:f,hash:g,state:y,key:E},navigationType:s}},[u,d,f,g,y,E,s]);return I==null?null:k.createElement(Jo.Provider,{value:c},k.createElement(Nu.Provider,{children:n,value:I}))}function kC(t){let{children:e,location:n}=t;return gC(nd(e),n)}new Promise(()=>{});function nd(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let i=[...e,s];if(r.type===k.Fragment){n.push.apply(n,nd(r.props.children,i));return}r.type!==Oe&&Me(!1),!r.props.index||!r.props.children||Me(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=nd(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const bC="6";try{window.__reactRouterVersion=bC}catch{}const jC="startTransition",Cy=kS[jC];function DC(t){let{basename:e,children:n,future:r,window:s}=t,i=k.useRef();i.current==null&&(i.current=$A({window:s,v5Compat:!0}));let o=i.current,[a,u]=k.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=k.useCallback(f=>{c&&Cy?Cy(()=>u(f)):u(f)},[u,c]);return k.useLayoutEffect(()=>o.listen(d),[o,d]),k.useEffect(()=>PC(r),[r]),k.createElement(RC,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var Iy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Iy||(Iy={}));var Py;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Py||(Py={}));const y1=k.createContext(void 0),VC=({children:t})=>{const[e,n]=k.useState({type:null}),[r,s]=k.useState("home"),[i,o]=k.useState({}),[a,u]=k.useState([]),[c,d]=k.useState([]),[f,g]=k.useState(65),[y,E]=k.useState({}),[I,R]=k.useState(localStorage.getItem("lang")||"zh");return h.jsx(y1.Provider,{value:{user:e,setUser:n,currentPage:r,setCurrentPage:s,companyFormData:i,setCompanyFormData:o,candidateData:a,setCandidateData:u,savedCandidates:c,setSavedCandidates:d,resumeCompletion:f,setResumeCompletion:g,studentFormData:y,setStudentFormData:E,language:I,setLanguage:R},children:t})},un=()=>{const t=k.useContext(y1);if(t===void 0)throw new Error("useAppContext must be used within an AppProvider");return t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var MC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(t,e)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:u,...c},d)=>k.createElement("svg",{ref:d,...MC,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${LC(t)}`,a].join(" "),...c},[...e.map(([f,g])=>k.createElement(f,g)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ue("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=ue("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ue("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=ue("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=ue("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zC=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=ue("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=ue("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=ue("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WC=ue("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=ue("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ue("MessageSquareMore",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M16 10h.01",key:"1m94wz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GC=ue("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=ue("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=ue("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YC=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),zn=({size:t="medium",vertical:e=!1,withSubtitle:n=!1})=>{const r={small:"text-xl",medium:"text-3xl",large:"text-5xl"},s={small:24,medium:32,large:48};return h.jsxs("div",{className:`flex ${e?"flex-col items-center":"items-center"}`,children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("h1",{className:`${r[t]} font-bold text-[#2D439B]`,children:"TalenTag"}),h.jsx(QC,{className:"text-[#00B9F2] transform rotate-12 ml-1",size:s[t],color:"#00B9F2",strokeWidth:2})]}),n&&h.jsx("p",{className:"text-[#2D439B] mt-2 text-lg",children:"AI精準媒合人才與機會"})]})},_t=({children:t,onClick:e,variant:n="primary",size:r="medium",fullWidth:s=!1,className:i="",type:o="button",disabled:a=!1})=>{const u="rounded-full font-medium transition-all duration-300 flex items-center justify-center",c={primary:"bg-[#2D439B] text-white hover:bg-[#3A51B1] active:bg-[#223073]",secondary:"bg-[#00B9F2] text-white hover:bg-[#19C5FD] active:bg-[#0099CA]",gradient:"bg-gradient-to-r from-[#8AB4F8] to-[#00B9F2] text-white hover:opacity-90 active:opacity-100",outline:"border-2 border-[#2D439B] text-[#2D439B] hover:bg-[#2D439B]/10 active:bg-[#2D439B]/20"},d={small:"text-sm py-1 px-4",medium:"text-base py-2 px-6",large:"text-lg py-3 px-8"};return h.jsx("button",{type:o,className:`
        ${u}
        ${c[n]}
        ${d[r]}
        ${s?"w-full":""}
        ${a?"opacity-60 cursor-not-allowed":"cursor-pointer"}
        ${i}
      `,onClick:e,disabled:a,children:t})},JC=()=>{const t=mt(),{setUser:e,setCurrentPage:n,language:r,setLanguage:s}=un(),i=()=>{e({type:"company"}),n("companyForm"),t("/company/register")},o=()=>{e({type:"student"}),n("studentForm"),t("/student/register")},a=()=>{t("/upload")},u=(c,d)=>r==="zh"?c:d;return h.jsxs("div",{className:"min-h-screen flex flex-col bg-white text-gray-800 px-4",children:[h.jsxs("header",{className:"flex justify-between items-center py-6 max-w-6xl mx-auto w-full",children:[h.jsx(zn,{size:"medium"}),h.jsxs("div",{className:"text-sm space-x-2",children:[h.jsx("button",{onClick:()=>{s("zh"),localStorage.setItem("lang","zh")},className:`px-3 py-1 rounded-md ${r==="zh"?"bg-blue-100 font-semibold":"text-gray-500"}`,children:"繁中"}),h.jsx("button",{onClick:()=>{s("en"),localStorage.setItem("lang","en")},className:`px-3 py-1 rounded-md ${r==="en"?"bg-blue-100 font-semibold":"text-gray-500"}`,children:"EN"})]})]}),h.jsxs("main",{className:"flex-1 w-full flex flex-col items-center justify-start py-8",children:[h.jsxs("div",{className:"text-center max-w-xl mx-auto",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:u("AI 智慧媒合平台","AI Talent Matching Platform")}),h.jsx("p",{className:"text-lg md:text-xl text-gray-600 mb-10",children:u("結合語意分析、CRM 標籤與模擬面試系統，推薦最合適的職缺與人才","AI-powered semantic analysis and CRM matching to connect talents with the right opportunities.")})]}),h.jsxs("div",{className:"bg-gradient-to-r from-[#32ADE6] to-[#2A8BC7] p-6 rounded-xl shadow-md max-w-xl w-full mb-8",children:[h.jsx("h2",{className:"text-white text-xl font-bold mb-2",children:"快速開始"}),h.jsx("p",{className:"text-white/90 mb-4",children:"上傳履歷，立即獲得職位推薦"}),h.jsxs("button",{onClick:a,className:"w-full py-3 bg-white text-[#32ADE6] rounded-md font-semibold text-lg hover:bg-gray-50 transition-colors",children:["🔍 ",u("馬上推薦職缺","Find Matching Jobs")]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-6xl mb-16 w-full px-4",children:[h.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-lg shadow-sm text-center",children:[h.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["📄 ",u("履歷分析","Resume Analysis")]}),h.jsx("p",{className:"text-sm text-gray-600",children:u("透過 AI 模型萃取技能與潛力特質","Extract skills and potential using AI")})]}),h.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-lg shadow-sm text-center",children:[h.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["🤖 ",u("智能推薦","Smart Matching")]}),h.jsx("p",{className:"text-sm text-gray-600",children:u("結合職缺與標籤進行精準配對","Precisely match jobs with tags")})]}),h.jsxs("div",{className:"bg-white border border-gray-200 p-6 rounded-lg shadow-sm text-center",children:[h.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["🎤 ",u("模擬面試","Mock Interviews")]}),h.jsx("p",{className:"text-sm text-gray-600",children:u("生成面試題目並提供回饋","Generate interview questions and feedback")})]})]}),h.jsxs("div",{className:"w-full max-w-md mx-auto space-y-4 mb-12",children:[h.jsxs(_t,{variant:"gradient",size:"large",fullWidth:!0,onClick:i,className:"shadow-lg",children:[h.jsx("span",{className:"text-xl",children:u("我是企業主","I'm a Company")}),h.jsx(Dn,{className:"ml-2",size:24})]}),h.jsxs(_t,{variant:"secondary",size:"large",fullWidth:!0,onClick:o,className:"shadow-lg",children:[h.jsx("span",{className:"text-xl",children:u("我是學生","I'm a Student")}),h.jsx(Dn,{className:"ml-2",size:24})]})]})]})]})},We=({type:t="text",placeholder:e,value:n,onChange:r,label:s,multiline:i=!1,rows:o=4,name:a,required:u=!1,className:c=""})=>{const d="w-full px-4 py-3 rounded-md bg-gray-100 border border-gray-200 focus:outline-none focus:ring-2 focus:ring-[#2D439B]/40 transition-all duration-300 text-gray-700 placeholder-gray-400";return h.jsxs("div",{className:`mb-4 ${c}`,children:[s&&h.jsx("label",{className:"block text-[#5A73C5] mb-2 text-lg",children:s}),i?h.jsx("textarea",{placeholder:e,value:n,onChange:r,rows:o,name:a,required:u,className:d}):h.jsx("input",{type:t,placeholder:e,value:n,onChange:r,name:a,required:u,className:d})]})},ZC={zh:["科技業","設計業","教育業","金融業","醫療業","製造業","行銷廣告","零售電商"],en:["Tech","Design","Education","Finance","Healthcare","Manufacturing","Marketing","E-Commerce"]},eI={zh:["實體","遠端","混合"],en:["On-site","Remote","Hybrid"]},Ry={zh:{companyName:"公司名稱",contactPerson:"聯絡人姓名",email:"電子郵件",industry:"產業類別",description:"公司簡介",password:"設定密碼 / 第三方登入",next:"下一步",aiPlatformTitle:"AI 智慧媒合平台",aiPlatformDesc:"結合語意分析、CRM 標籤與模擬面試系統，推薦最合適的職缺與人才",student:"我是學生",company:"我是企業主"},en:{companyName:"Company Name",contactPerson:"Contact Person",email:"Email",industry:"Industry",description:"Company Description",password:"Set Password / Third-party Login",next:"Next",aiPlatformTitle:"AI Talent Matching Platform",aiPlatformDesc:"AI-powered semantic analysis and CRM matching to connect talents with the right opportunities.",student:"I’m a Student",company:"I’m a Company"}},Lt=(t,e)=>{var n;return((n=Ry[t])==null?void 0:n[e])||Ry.zh[e]||e},tI=()=>{const t=mt(),{companyFormData:e,setCompanyFormData:n,setCurrentPage:r,language:s,setLanguage:i}=un(),[o,a]=k.useState({companyName:e.companyName||"",contactPerson:e.contactPerson||"",email:e.email||"",industry:e.industry||"",description:e.description||"",password:e.password||"",workMode:e.workMode||""}),u=d=>{const{name:f,value:g}=d.target;a(y=>({...y,[f]:g}))},c=d=>{d.preventDefault(),n({...o,language:s}),r("companyChat"),t("/company/chat")};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[h.jsxs("div",{className:"py-4 px-6 flex justify-between items-center",children:[h.jsx(zn,{size:"medium"}),h.jsxs("div",{className:"text-sm",children:[h.jsx("button",{onClick:()=>i("zh"),className:s==="zh"?"font-bold":"",children:"繁中"})," / ",h.jsx("button",{onClick:()=>i("en"),className:s==="en"?"font-bold":"",children:"EN"})]})]}),h.jsx("div",{className:"flex-1 px-4 py-8 max-w-xl mx-auto w-full",children:h.jsxs("form",{onSubmit:c,className:"space-y-4",children:[h.jsx(We,{label:Lt(s,"companyName"),placeholder:Lt(s,"companyName"),name:"companyName",value:o.companyName,onChange:u,required:!0}),h.jsx(We,{label:Lt(s,"contactPerson"),placeholder:Lt(s,"contactPerson"),name:"contactPerson",value:o.contactPerson,onChange:u,required:!0}),h.jsx(We,{label:Lt(s,"email"),type:"email",placeholder:Lt(s,"email"),name:"email",value:o.email,onChange:u,required:!0}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-semibold mb-1",children:Lt(s,"industry")}),h.jsxs("select",{name:"industry",value:o.industry,onChange:u,required:!0,className:"w-full border border-gray-300 rounded-md px-4 py-2",children:[h.jsx("option",{value:"",children:s==="zh"?"請選擇產業類別":"Select industry"}),ZC[s].map(d=>h.jsx("option",{value:d,children:d},d))]})]}),h.jsx(We,{label:Lt(s,"description"),placeholder:Lt(s,"description"),name:"description",value:o.description,onChange:u,multiline:!0,rows:4}),h.jsxs("div",{children:[h.jsx("label",{className:"block font-semibold mb-1",children:s==="zh"?"工作型態":"Work Mode"}),h.jsxs("select",{name:"workMode",value:o.workMode,onChange:u,required:!0,className:"w-full border border-gray-300 rounded-md px-4 py-2",children:[h.jsx("option",{value:"",children:s==="zh"?"請選擇":"Please select"}),eI[s].map(d=>h.jsx("option",{value:d,children:d},d))]})]}),h.jsx(We,{label:Lt(s,"password"),type:"password",placeholder:Lt(s,"password"),name:"password",value:o.password,onChange:u,required:!0}),h.jsx("div",{className:"pt-4",children:h.jsxs(_t,{type:"submit",variant:"primary",size:"large",fullWidth:!0,children:[h.jsx("span",{className:"text-lg",children:Lt(s,"next")}),h.jsx(Dn,{className:"ml-2",size:20})]})})]})})]})};var ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},nI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},P1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let g=(a&15)<<2|c>>6,y=c&63;u||(y=64,o||(g=64)),r.push(n[d],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(I1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):nI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new rI;const g=i<<2|a>>4;if(r.push(g),c!==64){const y=a<<4&240|c>>2;if(r.push(y),f!==64){const E=c<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class rI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sI=function(t){const e=I1(t);return P1.encodeByteArray(e,!0)},Gl=function(t){return sI(t).replace(/\./g,"")},iI=function(t){try{return P1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=()=>oI().__FIREBASE_DEFAULTS__,lI=()=>{if(typeof process>"u"||typeof ky>"u")return;const t=ky.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iI(t[1]);return e&&JSON.parse(e)},Qf=()=>{try{return aI()||lI()||uI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},cI=t=>{var e,n;return(n=(e=Qf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hI=t=>{const e=cI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},N1=()=>{var t;return(t=Qf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gl(JSON.stringify(n)),Gl(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pI(){var t;const e=(t=Qf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gI(){return!pI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yI(){try{return typeof indexedDB=="object"}catch{return!1}}function vI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI="FirebaseError";class oi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xI,Object.setPrototypeOf(this,oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R1.prototype.create)}}class R1{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?_I(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new oi(s,a,r)}}function _I(t,e){return t.replace(wI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const wI=/\{\$([^}]+)}/g;function sd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(by(i)&&by(o)){if(!sd(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function by(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t){return t&&t._delegate?t._delegate:t}class Ro{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new dI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SI(e))try{this.getOrInitializeService({instanceIdentifier:br})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=br){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=br){return this.instances.has(e)}getOptions(e=br){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=br){return this.component?this.component.multipleInstances?e:br:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TI(t){return t===br?void 0:t}function SI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new EI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ie;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ie||(ie={}));const CI={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},II=ie.INFO,PI={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},NI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=PI[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class k1{constructor(e){this.name=e,this._logLevel=II,this._logHandler=NI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ie))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?CI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...e),this._logHandler(this,ie.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...e),this._logHandler(this,ie.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...e),this._logHandler(this,ie.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...e),this._logHandler(this,ie.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...e),this._logHandler(this,ie.ERROR,...e)}}const RI=(t,e)=>e.some(n=>t instanceof n);let jy,Dy;function kI(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bI(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,id=new WeakMap,j1=new WeakMap,Uc=new WeakMap,Xf=new WeakMap;function jI(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(ur(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&b1.set(n,t)}).catch(()=>{}),Xf.set(e,t),e}function DI(t){if(id.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});id.set(t,e)}let od={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return id.get(t);if(e==="objectStoreNames")return t.objectStoreNames||j1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VI(t){od=t(od)}function MI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($c(this),e,...n);return j1.set(r,e.sort?e.sort():[e]),ur(r)}:bI().includes(t)?function(...e){return t.apply($c(this),e),ur(b1.get(this))}:function(...e){return ur(t.apply($c(this),e))}}function LI(t){return typeof t=="function"?MI(t):(t instanceof IDBTransaction&&DI(t),RI(t,kI())?new Proxy(t,od):t)}function ur(t){if(t instanceof IDBRequest)return jI(t);if(Uc.has(t))return Uc.get(t);const e=LI(t);return e!==t&&(Uc.set(t,e),Xf.set(e,t)),e}const $c=t=>Xf.get(t);function OI(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=ur(o);return r&&o.addEventListener("upgradeneeded",u=>{r(ur(o.result),u.oldVersion,u.newVersion,ur(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const FI=["get","getKey","getAll","getAllKeys","count"],BI=["put","add","delete","clear"],Wc=new Map;function Vy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wc.get(e))return Wc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=BI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||FI.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return Wc.set(e,i),i}VI(t=>({...t,get:(e,n,r)=>Vy(e,n)||t.get(e,n,r),has:(e,n)=>!!Vy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ad="@firebase/app",My="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vn=new k1("@firebase/app"),$I="@firebase/app-compat",WI="@firebase/analytics-compat",qI="@firebase/analytics",HI="@firebase/app-check-compat",KI="@firebase/app-check",GI="@firebase/auth",QI="@firebase/auth-compat",XI="@firebase/database",YI="@firebase/data-connect",JI="@firebase/database-compat",ZI="@firebase/functions",eP="@firebase/functions-compat",tP="@firebase/installations",nP="@firebase/installations-compat",rP="@firebase/messaging",sP="@firebase/messaging-compat",iP="@firebase/performance",oP="@firebase/performance-compat",aP="@firebase/remote-config",lP="@firebase/remote-config-compat",uP="@firebase/storage",cP="@firebase/storage-compat",hP="@firebase/firestore",dP="@firebase/vertexai-preview",fP="@firebase/firestore-compat",mP="firebase",pP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld="[DEFAULT]",gP={[ad]:"fire-core",[$I]:"fire-core-compat",[qI]:"fire-analytics",[WI]:"fire-analytics-compat",[KI]:"fire-app-check",[HI]:"fire-app-check-compat",[GI]:"fire-auth",[QI]:"fire-auth-compat",[XI]:"fire-rtdb",[YI]:"fire-data-connect",[JI]:"fire-rtdb-compat",[ZI]:"fire-fn",[eP]:"fire-fn-compat",[tP]:"fire-iid",[nP]:"fire-iid-compat",[rP]:"fire-fcm",[sP]:"fire-fcm-compat",[iP]:"fire-perf",[oP]:"fire-perf-compat",[aP]:"fire-rc",[lP]:"fire-rc-compat",[uP]:"fire-gcs",[cP]:"fire-gcs-compat",[hP]:"fire-fst",[fP]:"fire-fst-compat",[dP]:"fire-vertex","fire-js":"fire-js",[mP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=new Map,yP=new Map,ud=new Map;function Ly(t,e){try{t.container.addComponent(e)}catch(n){Vn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xl(t){const e=t.name;if(ud.has(e))return Vn.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,t);for(const n of Ql.values())Ly(n,t);for(const n of yP.values())Ly(n,t);return!0}function vP(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new R1("app","Firebase",xP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ro("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=pP;function D1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ld,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw cr.create("bad-app-name",{appName:String(s)});if(n||(n=N1()),!n)throw cr.create("no-options");const i=Ql.get(s);if(i){if(sd(n,i.options)&&sd(r,i.config))return i;throw cr.create("duplicate-app",{appName:s})}const o=new AI(s);for(const u of ud.values())o.addComponent(u);const a=new _P(n,r,o);return Ql.set(s,a),a}function EP(t=ld){const e=Ql.get(t);if(!e&&t===ld&&N1())return D1();if(!e)throw cr.create("no-app",{appName:t});return e}function Ms(t,e,n){var r;let s=(r=gP[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vn.warn(a.join(" "));return}Xl(new Ro(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebase-heartbeat-database",SP=1,ko="firebase-heartbeat-store";let qc=null;function V1(){return qc||(qc=OI(TP,SP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ko)}catch(n){console.warn(n)}}}}).catch(t=>{throw cr.create("idb-open",{originalErrorMessage:t.message})})),qc}async function AP(t){try{const n=(await V1()).transaction(ko),r=await n.objectStore(ko).get(M1(t));return await n.done,r}catch(e){if(e instanceof oi)Vn.warn(e.message);else{const n=cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vn.warn(n.message)}}}async function Oy(t,e){try{const r=(await V1()).transaction(ko,"readwrite");await r.objectStore(ko).put(e,M1(t)),await r.done}catch(n){if(n instanceof oi)Vn.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vn.warn(r.message)}}}function M1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=1024,IP=30*24*60*60*1e3;class PP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new RP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Fy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=IP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Fy(),{heartbeatsToSend:r,unsentEntries:s}=NP(this._heartbeatsCache.heartbeats),i=Gl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Vn.warn(n),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function NP(t,e=CP){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),By(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),By(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class RP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yI()?vI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await AP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function By(t){return Gl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(t){Xl(new Ro("platform-logger",e=>new zI(e),"PRIVATE")),Xl(new Ro("heartbeat",e=>new PP(e),"PRIVATE")),Ms(ad,My,t),Ms(ad,My,"esm2017"),Ms("fire-js","")}kP("");var bP="firebase",jP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ms(bP,jP,"app");var zy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,L1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function C(){}C.prototype=v.prototype,S.D=v.prototype,S.prototype=new C,S.prototype.constructor=S,S.C=function(A,N,b){for(var P=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)P[Ne-2]=arguments[Ne];return v.prototype[N].apply(A,P)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,C){C||(C=0);var A=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)A[N]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(N=0;16>N;++N)A[N]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=S.g[0],C=S.g[1],N=S.g[2];var b=S.g[3],P=v+(b^C&(N^b))+A[0]+3614090360&4294967295;v=C+(P<<7&4294967295|P>>>25),P=b+(N^v&(C^N))+A[1]+3905402710&4294967295,b=v+(P<<12&4294967295|P>>>20),P=N+(C^b&(v^C))+A[2]+606105819&4294967295,N=b+(P<<17&4294967295|P>>>15),P=C+(v^N&(b^v))+A[3]+3250441966&4294967295,C=N+(P<<22&4294967295|P>>>10),P=v+(b^C&(N^b))+A[4]+4118548399&4294967295,v=C+(P<<7&4294967295|P>>>25),P=b+(N^v&(C^N))+A[5]+1200080426&4294967295,b=v+(P<<12&4294967295|P>>>20),P=N+(C^b&(v^C))+A[6]+2821735955&4294967295,N=b+(P<<17&4294967295|P>>>15),P=C+(v^N&(b^v))+A[7]+4249261313&4294967295,C=N+(P<<22&4294967295|P>>>10),P=v+(b^C&(N^b))+A[8]+1770035416&4294967295,v=C+(P<<7&4294967295|P>>>25),P=b+(N^v&(C^N))+A[9]+2336552879&4294967295,b=v+(P<<12&4294967295|P>>>20),P=N+(C^b&(v^C))+A[10]+4294925233&4294967295,N=b+(P<<17&4294967295|P>>>15),P=C+(v^N&(b^v))+A[11]+2304563134&4294967295,C=N+(P<<22&4294967295|P>>>10),P=v+(b^C&(N^b))+A[12]+1804603682&4294967295,v=C+(P<<7&4294967295|P>>>25),P=b+(N^v&(C^N))+A[13]+4254626195&4294967295,b=v+(P<<12&4294967295|P>>>20),P=N+(C^b&(v^C))+A[14]+2792965006&4294967295,N=b+(P<<17&4294967295|P>>>15),P=C+(v^N&(b^v))+A[15]+1236535329&4294967295,C=N+(P<<22&4294967295|P>>>10),P=v+(N^b&(C^N))+A[1]+4129170786&4294967295,v=C+(P<<5&4294967295|P>>>27),P=b+(C^N&(v^C))+A[6]+3225465664&4294967295,b=v+(P<<9&4294967295|P>>>23),P=N+(v^C&(b^v))+A[11]+643717713&4294967295,N=b+(P<<14&4294967295|P>>>18),P=C+(b^v&(N^b))+A[0]+3921069994&4294967295,C=N+(P<<20&4294967295|P>>>12),P=v+(N^b&(C^N))+A[5]+3593408605&4294967295,v=C+(P<<5&4294967295|P>>>27),P=b+(C^N&(v^C))+A[10]+38016083&4294967295,b=v+(P<<9&4294967295|P>>>23),P=N+(v^C&(b^v))+A[15]+3634488961&4294967295,N=b+(P<<14&4294967295|P>>>18),P=C+(b^v&(N^b))+A[4]+3889429448&4294967295,C=N+(P<<20&4294967295|P>>>12),P=v+(N^b&(C^N))+A[9]+568446438&4294967295,v=C+(P<<5&4294967295|P>>>27),P=b+(C^N&(v^C))+A[14]+3275163606&4294967295,b=v+(P<<9&4294967295|P>>>23),P=N+(v^C&(b^v))+A[3]+4107603335&4294967295,N=b+(P<<14&4294967295|P>>>18),P=C+(b^v&(N^b))+A[8]+1163531501&4294967295,C=N+(P<<20&4294967295|P>>>12),P=v+(N^b&(C^N))+A[13]+2850285829&4294967295,v=C+(P<<5&4294967295|P>>>27),P=b+(C^N&(v^C))+A[2]+4243563512&4294967295,b=v+(P<<9&4294967295|P>>>23),P=N+(v^C&(b^v))+A[7]+1735328473&4294967295,N=b+(P<<14&4294967295|P>>>18),P=C+(b^v&(N^b))+A[12]+2368359562&4294967295,C=N+(P<<20&4294967295|P>>>12),P=v+(C^N^b)+A[5]+4294588738&4294967295,v=C+(P<<4&4294967295|P>>>28),P=b+(v^C^N)+A[8]+2272392833&4294967295,b=v+(P<<11&4294967295|P>>>21),P=N+(b^v^C)+A[11]+1839030562&4294967295,N=b+(P<<16&4294967295|P>>>16),P=C+(N^b^v)+A[14]+4259657740&4294967295,C=N+(P<<23&4294967295|P>>>9),P=v+(C^N^b)+A[1]+2763975236&4294967295,v=C+(P<<4&4294967295|P>>>28),P=b+(v^C^N)+A[4]+1272893353&4294967295,b=v+(P<<11&4294967295|P>>>21),P=N+(b^v^C)+A[7]+4139469664&4294967295,N=b+(P<<16&4294967295|P>>>16),P=C+(N^b^v)+A[10]+3200236656&4294967295,C=N+(P<<23&4294967295|P>>>9),P=v+(C^N^b)+A[13]+681279174&4294967295,v=C+(P<<4&4294967295|P>>>28),P=b+(v^C^N)+A[0]+3936430074&4294967295,b=v+(P<<11&4294967295|P>>>21),P=N+(b^v^C)+A[3]+3572445317&4294967295,N=b+(P<<16&4294967295|P>>>16),P=C+(N^b^v)+A[6]+76029189&4294967295,C=N+(P<<23&4294967295|P>>>9),P=v+(C^N^b)+A[9]+3654602809&4294967295,v=C+(P<<4&4294967295|P>>>28),P=b+(v^C^N)+A[12]+3873151461&4294967295,b=v+(P<<11&4294967295|P>>>21),P=N+(b^v^C)+A[15]+530742520&4294967295,N=b+(P<<16&4294967295|P>>>16),P=C+(N^b^v)+A[2]+3299628645&4294967295,C=N+(P<<23&4294967295|P>>>9),P=v+(N^(C|~b))+A[0]+4096336452&4294967295,v=C+(P<<6&4294967295|P>>>26),P=b+(C^(v|~N))+A[7]+1126891415&4294967295,b=v+(P<<10&4294967295|P>>>22),P=N+(v^(b|~C))+A[14]+2878612391&4294967295,N=b+(P<<15&4294967295|P>>>17),P=C+(b^(N|~v))+A[5]+4237533241&4294967295,C=N+(P<<21&4294967295|P>>>11),P=v+(N^(C|~b))+A[12]+1700485571&4294967295,v=C+(P<<6&4294967295|P>>>26),P=b+(C^(v|~N))+A[3]+2399980690&4294967295,b=v+(P<<10&4294967295|P>>>22),P=N+(v^(b|~C))+A[10]+4293915773&4294967295,N=b+(P<<15&4294967295|P>>>17),P=C+(b^(N|~v))+A[1]+2240044497&4294967295,C=N+(P<<21&4294967295|P>>>11),P=v+(N^(C|~b))+A[8]+1873313359&4294967295,v=C+(P<<6&4294967295|P>>>26),P=b+(C^(v|~N))+A[15]+4264355552&4294967295,b=v+(P<<10&4294967295|P>>>22),P=N+(v^(b|~C))+A[6]+2734768916&4294967295,N=b+(P<<15&4294967295|P>>>17),P=C+(b^(N|~v))+A[13]+1309151649&4294967295,C=N+(P<<21&4294967295|P>>>11),P=v+(N^(C|~b))+A[4]+4149444226&4294967295,v=C+(P<<6&4294967295|P>>>26),P=b+(C^(v|~N))+A[11]+3174756917&4294967295,b=v+(P<<10&4294967295|P>>>22),P=N+(v^(b|~C))+A[2]+718787259&4294967295,N=b+(P<<15&4294967295|P>>>17),P=C+(b^(N|~v))+A[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+b&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var C=v-this.blockSize,A=this.B,N=this.h,b=0;b<v;){if(N==0)for(;b<=C;)s(this,S,b),b+=this.blockSize;if(typeof S=="string"){for(;b<v;)if(A[N++]=S.charCodeAt(b++),N==this.blockSize){s(this,A),N=0;break}}else for(;b<v;)if(A[N++]=S[b++],N==this.blockSize){s(this,A),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var C=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=C&255,C/=256;for(this.u(S),S=Array(16),v=C=0;4>v;++v)for(var A=0;32>A;A+=8)S[C++]=this.g[v]>>>A&255;return S};function i(S,v){var C=a;return Object.prototype.hasOwnProperty.call(C,S)?C[S]:C[S]=v(S)}function o(S,v){this.h=v;for(var C=[],A=!0,N=S.length-1;0<=N;N--){var b=S[N]|0;A&&b==v||(C[N]=b,A=!1)}this.g=C}var a={};function u(S){return-128<=S&&128>S?i(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return R(c(-S));for(var v=[],C=1,A=0;S>=C;A++)v[A]=S/C|0,C*=4294967296;return new o(v,0)}function d(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return R(d(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(v,8)),A=f,N=0;N<S.length;N+=8){var b=Math.min(8,S.length-N),P=parseInt(S.substring(N,N+b),v);8>b?(b=c(Math.pow(v,b)),A=A.j(b).add(c(P))):(A=A.j(C),A=A.add(c(P)))}return A}var f=u(0),g=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-R(this).m();for(var S=0,v=1,C=0;C<this.g.length;C++){var A=this.i(C);S+=(0<=A?A:4294967296+A)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(E(this))return"0";if(I(this))return"-"+R(this).toString(S);for(var v=c(Math.pow(S,6)),C=this,A="";;){var N=D(C,v).g;C=x(C,N.j(v));var b=((0<C.g.length?C.g[0]:C.h)>>>0).toString(S);if(C=N,E(C))return b+A;for(;6>b.length;)b="0"+b;A=b+A}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function E(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=x(this,S),I(S)?-1:E(S)?0:1};function R(S){for(var v=S.g.length,C=[],A=0;A<v;A++)C[A]=~S.g[A];return new o(C,~S.h).add(g)}t.abs=function(){return I(this)?R(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],A=0,N=0;N<=v;N++){var b=A+(this.i(N)&65535)+(S.i(N)&65535),P=(b>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);A=P>>>16,b&=65535,P&=65535,C[N]=P<<16|b}return new o(C,C[C.length-1]&-2147483648?-1:0)};function x(S,v){return S.add(R(v))}t.j=function(S){if(E(this)||E(S))return f;if(I(this))return I(S)?R(this).j(R(S)):R(R(this).j(S));if(I(S))return R(this.j(R(S)));if(0>this.l(y)&&0>S.l(y))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,C=[],A=0;A<2*v;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<S.g.length;N++){var b=this.i(A)>>>16,P=this.i(A)&65535,Ne=S.i(N)>>>16,tt=S.i(N)&65535;C[2*A+2*N]+=P*tt,w(C,2*A+2*N),C[2*A+2*N+1]+=b*tt,w(C,2*A+2*N+1),C[2*A+2*N+1]+=P*Ne,w(C,2*A+2*N+1),C[2*A+2*N+2]+=b*Ne,w(C,2*A+2*N+2)}for(A=0;A<v;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=v;A<2*v;A++)C[A]=0;return new o(C,0)};function w(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function T(S,v){this.g=S,this.h=v}function D(S,v){if(E(v))throw Error("division by zero");if(E(S))return new T(f,f);if(I(S))return v=D(R(S),v),new T(R(v.g),R(v.h));if(I(v))return v=D(S,R(v)),new T(R(v.g),v.h);if(30<S.g.length){if(I(S)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var C=g,A=v;0>=A.l(S);)C=V(C),A=V(A);var N=L(C,1),b=L(A,1);for(A=L(A,2),C=L(C,2);!E(A);){var P=b.add(A);0>=P.l(S)&&(N=N.add(C),b=P),A=L(A,1),C=L(C,1)}return v=x(S,N.j(v)),new T(N,v)}for(N=f;0<=S.l(v);){for(C=Math.max(1,Math.floor(S.m()/v.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),b=c(C),P=b.j(v);I(P)||0<P.l(S);)C-=A,b=c(C),P=b.j(v);E(b)&&(b=g),N=N.add(b),S=x(S,P)}return new T(N,S)}t.A=function(S){return D(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)&S.i(A);return new o(C,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)|S.i(A);return new o(C,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),C=[],A=0;A<v;A++)C[A]=this.i(A)^S.i(A);return new o(C,this.h^S.h)};function V(S){for(var v=S.g.length+1,C=[],A=0;A<v;A++)C[A]=S.i(A)<<1|S.i(A-1)>>>31;return new o(C,S.h)}function L(S,v){var C=v>>5;v%=32;for(var A=S.g.length-C,N=[],b=0;b<A;b++)N[b]=0<v?S.i(b+C)>>>v|S.i(b+C+1)<<32-v:S.i(b+C);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,L1=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,$r=o}).apply(typeof zy<"u"?zy:typeof self<"u"?self:typeof window<"u"?window:{});var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var O1,Ui,F1,ml,cd,B1,z1,U1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,p){return l==Array.prototype||l==Object.prototype||(l[m]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof qa=="object"&&qa];for(var m=0;m<l.length;++m){var p=l[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(l,m){if(m)e:{var p=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var j=l[_];if(!(j in p))break e;p=p[j]}l=l[l.length-1],_=p[l],m=m(_),m!=_&&m!=null&&e(p,l,{configurable:!0,writable:!0,value:m})}}function i(l,m){l instanceof String&&(l+="");var p=0,_=!1,j={next:function(){if(!_&&p<l.length){var M=p++;return{value:m(M,l[M]),done:!1}}return _=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(l){return l||function(){return i(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function u(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function c(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function d(l,m,p){return l.call.apply(l.bind,arguments)}function f(l,m,p){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,_),l.apply(m,j)}}return function(){return l.apply(m,arguments)}}function g(l,m,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,g.apply(null,arguments)}function y(l,m){var p=Array.prototype.slice.call(arguments,1);return function(){var _=p.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function E(l,m){function p(){}p.prototype=m.prototype,l.aa=m.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(_,j,M){for(var U=Array(arguments.length-2),de=2;de<arguments.length;de++)U[de-2]=arguments[de];return m.prototype[j].apply(_,U)}}function I(l){const m=l.length;if(0<m){const p=Array(m);for(let _=0;_<m;_++)p[_]=l[_];return p}return[]}function R(l,m){for(let p=1;p<arguments.length;p++){const _=arguments[p];if(u(_)){const j=l.length||0,M=_.length||0;l.length=j+M;for(let U=0;U<M;U++)l[j+U]=_[U]}else l.push(_)}}class x{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function w(l){return/^[\s\xa0]*$/.test(l)}function T(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function D(l){return D[" "](l),l}D[" "]=function(){};var V=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function L(l,m,p){for(const _ in l)m.call(p,l[_],_,l)}function S(l,m){for(const p in l)m.call(void 0,l[p],p,l)}function v(l){const m={};for(const p in l)m[p]=l[p];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,m){let p,_;for(let j=1;j<arguments.length;j++){_=arguments[j];for(p in _)l[p]=_[p];for(let M=0;M<C.length;M++)p=C[M],Object.prototype.hasOwnProperty.call(_,p)&&(l[p]=_[p])}}function N(l){var m=1;l=l.split(":");const p=[];for(;0<m&&l.length;)p.push(l.shift()),m--;return l.length&&p.push(l.join(":")),p}function b(l){a.setTimeout(()=>{throw l},0)}function P(){var l=H;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const _=tt.get();_.set(m,p),this.h?this.h.next=_:this.g=_,this.h=_}}var tt=new x(()=>new ze,l=>l.reset());class ze{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,z=!1,H=new Ne,Q=()=>{const l=a.Promise.resolve(void 0);ne=()=>{l.then(Z)}};var Z=()=>{for(var l;l=P();){try{l.h.call(l.g)}catch(p){b(p)}var m=tt;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}z=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Qt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,m),a.removeEventListener("test",p,m)}catch{}return l}();function Xt(l,m){if(me.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(V){e:{try{D(m.nodeName);var j=!0;break e}catch{}j=!1}j||(m=null)}}else p=="mouseover"?m=l.fromElement:p=="mouseout"&&(m=l.toElement);this.relatedTarget=m,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Tt[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Xt.aa.h.call(this)}}E(Xt,me);var Tt={2:"touch",3:"pen",4:"mouse"};Xt.prototype.h=function(){Xt.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var wn="closure_listenable_"+(1e6*Math.random()|0),MT=0;function LT(l,m,p,_,j){this.listener=l,this.proxy=null,this.src=m,this.type=p,this.capture=!!_,this.ha=j,this.key=++MT,this.da=this.fa=!1}function ca(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ha(l){this.src=l,this.g={},this.h=0}ha.prototype.add=function(l,m,p,_,j){var M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);var U=Ku(l,m,_,j);return-1<U?(m=l[U],p||(m.fa=!1)):(m=new LT(m,this.src,M,!!_,j),m.fa=p,l.push(m)),m};function Hu(l,m){var p=m.type;if(p in l.g){var _=l.g[p],j=Array.prototype.indexOf.call(_,m,void 0),M;(M=0<=j)&&Array.prototype.splice.call(_,j,1),M&&(ca(m),l.g[p].length==0&&(delete l.g[p],l.h--))}}function Ku(l,m,p,_){for(var j=0;j<l.length;++j){var M=l[j];if(!M.da&&M.listener==m&&M.capture==!!p&&M.ha==_)return j}return-1}var Gu="closure_lm_"+(1e6*Math.random()|0),Qu={};function fp(l,m,p,_,j){if(Array.isArray(m)){for(var M=0;M<m.length;M++)fp(l,m[M],p,_,j);return null}return p=gp(p),l&&l[wn]?l.K(m,p,c(_)?!!_.capture:!!_,j):OT(l,m,p,!1,_,j)}function OT(l,m,p,_,j,M){if(!m)throw Error("Invalid event type");var U=c(j)?!!j.capture:!!j,de=Yu(l);if(de||(l[Gu]=de=new ha(l)),p=de.add(m,p,_,U,M),p.proxy)return p;if(_=FT(),p.proxy=_,_.src=l,_.listener=p,l.addEventListener)Qt||(j=U),j===void 0&&(j=!1),l.addEventListener(m.toString(),_,j);else if(l.attachEvent)l.attachEvent(pp(m.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return p}function FT(){function l(p){return m.call(l.src,l.listener,p)}const m=BT;return l}function mp(l,m,p,_,j){if(Array.isArray(m))for(var M=0;M<m.length;M++)mp(l,m[M],p,_,j);else _=c(_)?!!_.capture:!!_,p=gp(p),l&&l[wn]?(l=l.i,m=String(m).toString(),m in l.g&&(M=l.g[m],p=Ku(M,p,_,j),-1<p&&(ca(M[p]),Array.prototype.splice.call(M,p,1),M.length==0&&(delete l.g[m],l.h--)))):l&&(l=Yu(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Ku(m,p,_,j)),(p=-1<l?m[l]:null)&&Xu(p))}function Xu(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[wn])Hu(m.i,l);else{var p=l.type,_=l.proxy;m.removeEventListener?m.removeEventListener(p,_,l.capture):m.detachEvent?m.detachEvent(pp(p),_):m.addListener&&m.removeListener&&m.removeListener(_),(p=Yu(m))?(Hu(p,l),p.h==0&&(p.src=null,m[Gu]=null)):ca(l)}}}function pp(l){return l in Qu?Qu[l]:Qu[l]="on"+l}function BT(l,m){if(l.da)l=!0;else{m=new Xt(m,this);var p=l.listener,_=l.ha||l.src;l.fa&&Xu(l),l=p.call(_,m)}return l}function Yu(l){return l=l[Gu],l instanceof ha?l:null}var Ju="__closure_events_fn_"+(1e9*Math.random()>>>0);function gp(l){return typeof l=="function"?l:(l[Ju]||(l[Ju]=function(m){return l.handleEvent(m)}),l[Ju])}function nt(){se.call(this),this.i=new ha(this),this.M=this,this.F=null}E(nt,se),nt.prototype[wn]=!0,nt.prototype.removeEventListener=function(l,m,p,_){mp(this,l,m,p,_)};function pt(l,m){var p,_=l.F;if(_)for(p=[];_;_=_.F)p.push(_);if(l=l.M,_=m.type||m,typeof m=="string")m=new me(m,l);else if(m instanceof me)m.target=m.target||l;else{var j=m;m=new me(_,l),A(m,j)}if(j=!0,p)for(var M=p.length-1;0<=M;M--){var U=m.g=p[M];j=da(U,_,!0,m)&&j}if(U=m.g=l,j=da(U,_,!0,m)&&j,j=da(U,_,!1,m)&&j,p)for(M=0;M<p.length;M++)U=m.g=p[M],j=da(U,_,!1,m)&&j}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var p=l.g[m],_=0;_<p.length;_++)ca(p[_]);delete l.g[m],l.h--}}this.F=null},nt.prototype.K=function(l,m,p,_){return this.i.add(String(l),m,!1,p,_)},nt.prototype.L=function(l,m,p,_){return this.i.add(String(l),m,!0,p,_)};function da(l,m,p,_){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var j=!0,M=0;M<m.length;++M){var U=m[M];if(U&&!U.da&&U.capture==p){var de=U.listener,He=U.ha||U.src;U.fa&&Hu(l.i,U),j=de.call(He,_)!==!1&&j}}return j&&!_.defaultPrevented}function yp(l,m,p){if(typeof l=="function")p&&(l=g(l,p));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:a.setTimeout(l,m||0)}function vp(l){l.g=yp(()=>{l.g=null,l.i&&(l.i=!1,vp(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class zT extends se{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:vp(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(l){se.call(this),this.h=l,this.g={}}E(pi,se);var xp=[];function _p(l){L(l.g,function(m,p){this.g.hasOwnProperty(p)&&Xu(m)},l),l.g={}}pi.prototype.N=function(){pi.aa.N.call(this),_p(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zu=a.JSON.stringify,UT=a.JSON.parse,$T=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function ec(){}ec.prototype.h=null;function wp(l){return l.h||(l.h=l.i())}function Ep(){}var gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tc(){me.call(this,"d")}E(tc,me);function nc(){me.call(this,"c")}E(nc,me);var Ar={},Tp=null;function fa(){return Tp=Tp||new nt}Ar.La="serverreachability";function Sp(l){me.call(this,Ar.La,l)}E(Sp,me);function yi(l){const m=fa();pt(m,new Sp(m))}Ar.STAT_EVENT="statevent";function Ap(l,m){me.call(this,Ar.STAT_EVENT,l),this.stat=m}E(Ap,me);function gt(l){const m=fa();pt(m,new Ap(m,l))}Ar.Ma="timingevent";function Cp(l,m){me.call(this,Ar.Ma,l),this.size=m}E(Cp,me);function vi(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},m)}function xi(){this.g=!0}xi.prototype.xa=function(){this.g=!1};function WT(l,m,p,_,j,M){l.info(function(){if(l.g)if(M)for(var U="",de=M.split("&"),He=0;He<de.length;He++){var ae=de[He].split("=");if(1<ae.length){var rt=ae[0];ae=ae[1];var st=rt.split("_");U=2<=st.length&&st[1]=="type"?U+(rt+"="+ae+"&"):U+(rt+"=redacted&")}}else U=null;else U=M;return"XMLHTTP REQ ("+_+") [attempt "+j+"]: "+m+`
`+p+`
`+U})}function qT(l,m,p,_,j,M,U){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+j+"]: "+m+`
`+p+`
`+M+" "+U})}function is(l,m,p,_){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+KT(l,p)+(_?" "+_:"")})}function HT(l,m){l.info(function(){return"TIMEOUT: "+m})}xi.prototype.info=function(){};function KT(l,m){if(!l.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var _=p[l];if(!(2>_.length)){var j=_[1];if(Array.isArray(j)&&!(1>j.length)){var M=j[0];if(M!="noop"&&M!="stop"&&M!="close")for(var U=1;U<j.length;U++)j[U]=""}}}}return Zu(p)}catch{return m}}var ma={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ip={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},rc;function pa(){}E(pa,ec),pa.prototype.g=function(){return new XMLHttpRequest},pa.prototype.i=function(){return{}},rc=new pa;function Un(l,m,p,_){this.j=l,this.i=m,this.l=p,this.R=_||1,this.U=new pi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pp}function Pp(){this.i=null,this.g="",this.h=!1}var Np={},sc={};function ic(l,m,p){l.L=1,l.v=xa(En(m)),l.m=p,l.P=!0,Rp(l,null)}function Rp(l,m){l.F=Date.now(),ga(l),l.A=En(l.v);var p=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),Wp(p.i,"t",_),l.C=0,p=l.j.J,l.h=new Pp,l.g=lg(l.j,p?m:null,!l.m),0<l.O&&(l.M=new zT(g(l.Y,l,l.g),l.O)),m=l.U,p=l.g,_=l.ca;var j="readystatechange";Array.isArray(j)||(j&&(xp[0]=j.toString()),j=xp);for(var M=0;M<j.length;M++){var U=fp(p,j[M],_||m.handleEvent,!1,m.h||m);if(!U)break;m.g[U.key]=U}m=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),yi(),WT(l.i,l.u,l.A,l.l,l.R,l.m)}Un.prototype.ca=function(l){l=l.target;const m=this.M;m&&Tn(l)==3?m.j():this.Y(l)},Un.prototype.Y=function(l){try{if(l==this.g)e:{const st=Tn(this.g);var m=this.g.Ba();const ls=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Yp(this.g)))){this.J||st!=4||m==7||(m==8||0>=ls?yi(3):yi(2)),oc(this);var p=this.g.Z();this.X=p;t:if(kp(this)){var _=Yp(this.g);l="";var j=_.length,M=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),_i(this);var U="";break t}this.h.i=new a.TextDecoder}for(m=0;m<j;m++)this.h.h=!0,l+=this.h.i.decode(_[m],{stream:!(M&&m==j-1)});_.length=0,this.h.g+=l,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=p==200,qT(this.i,this.u,this.A,this.l,this.R,st,p),this.o){if(this.T&&!this.K){t:{if(this.g){var de,He=this.g;if((de=He.g?He.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(de)){var ae=de;break t}}ae=null}if(p=ae)is(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ac(this,p);else{this.o=!1,this.s=3,gt(12),Cr(this),_i(this);break e}}if(this.P){p=!0;let Yt;for(;!this.J&&this.C<U.length;)if(Yt=GT(this,U),Yt==sc){st==4&&(this.s=4,gt(14),p=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==Np){this.s=4,gt(15),is(this.i,this.l,U,"[Invalid Chunk]"),p=!1;break}else is(this.i,this.l,Yt,null),ac(this,Yt);if(kp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||U.length!=0||this.h.h||(this.s=1,gt(16),p=!1),this.o=this.o&&p,!p)is(this.i,this.l,U,"[Invalid Chunked Response]"),Cr(this),_i(this);else if(0<U.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),fc(rt),rt.M=!0,gt(11))}}else is(this.i,this.l,U,null),ac(this,U);st==4&&Cr(this),this.o&&!this.J&&(st==4?sg(this.j,this):(this.o=!1,ga(this)))}else hS(this.g),p==400&&0<U.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),Cr(this),_i(this)}}}catch{}finally{}};function kp(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function GT(l,m){var p=l.C,_=m.indexOf(`
`,p);return _==-1?sc:(p=Number(m.substring(p,_)),isNaN(p)?Np:(_+=1,_+p>m.length?sc:(m=m.slice(_,_+p),l.C=_+p,m)))}Un.prototype.cancel=function(){this.J=!0,Cr(this)};function ga(l){l.S=Date.now()+l.I,bp(l,l.I)}function bp(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=vi(g(l.ba,l),m)}function oc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Un.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(HT(this.i,this.A),this.L!=2&&(yi(),gt(17)),Cr(this),this.s=2,_i(this)):bp(this,this.S-l)};function _i(l){l.j.G==0||l.J||sg(l.j,l)}function Cr(l){oc(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,_p(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function ac(l,m){try{var p=l.j;if(p.G!=0&&(p.g==l||lc(p.h,l))){if(!l.K&&lc(p.h,l)&&p.G==3){try{var _=p.Da.g.parse(m)}catch{_=null}if(Array.isArray(_)&&_.length==3){var j=_;if(j[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)Aa(p),Ta(p);else break e;dc(p),gt(18)}}else p.za=j[1],0<p.za-p.T&&37500>j[2]&&p.F&&p.v==0&&!p.C&&(p.C=vi(g(p.Za,p),6e3));if(1>=Vp(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Pr(p,11)}else if((l.K||p.g==l)&&Aa(p),!w(m))for(j=p.Da.g.parse(m),m=0;m<j.length;m++){let ae=j[m];if(p.T=ae[0],ae=ae[1],p.G==2)if(ae[0]=="c"){p.K=ae[1],p.ia=ae[2];const rt=ae[3];rt!=null&&(p.la=rt,p.j.info("VER="+p.la));const st=ae[4];st!=null&&(p.Aa=st,p.j.info("SVER="+p.Aa));const ls=ae[5];ls!=null&&typeof ls=="number"&&0<ls&&(_=1.5*ls,p.L=_,p.j.info("backChannelRequestTimeoutMs_="+_)),_=p;const Yt=l.g;if(Yt){const Ia=Yt.g?Yt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ia){var M=_.h;M.g||Ia.indexOf("spdy")==-1&&Ia.indexOf("quic")==-1&&Ia.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(uc(M,M.h),M.h=null))}if(_.D){const mc=Yt.g?Yt.g.getResponseHeader("X-HTTP-Session-Id"):null;mc&&(_.ya=mc,pe(_.I,_.D,mc))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),_=p;var U=l;if(_.qa=ag(_,_.J?_.ia:null,_.W),U.K){Mp(_.h,U);var de=U,He=_.L;He&&(de.I=He),de.B&&(oc(de),ga(de)),_.g=U}else ng(_);0<p.i.length&&Sa(p)}else ae[0]!="stop"&&ae[0]!="close"||Pr(p,7);else p.G==3&&(ae[0]=="stop"||ae[0]=="close"?ae[0]=="stop"?Pr(p,7):hc(p):ae[0]!="noop"&&p.l&&p.l.ta(ae),p.v=0)}}yi(4)}catch{}}var QT=class{constructor(l,m){this.g=l,this.map=m}};function jp(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dp(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Vp(l){return l.h?1:l.g?l.g.size:0}function lc(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function uc(l,m){l.g?l.g.add(m):l.h=m}function Mp(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}jp.prototype.cancel=function(){if(this.i=Lp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Lp(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const p of l.g.values())m=m.concat(p.D);return m}return I(l.i)}function XT(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var m=[],p=l.length,_=0;_<p;_++)m.push(l[_]);return m}m=[],p=0;for(_ in l)m[p++]=l[_];return m}function YT(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var m=[];l=l.length;for(var p=0;p<l;p++)m.push(p);return m}m=[],p=0;for(const _ in l)m[p++]=_;return m}}}function Op(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var p=YT(l),_=XT(l),j=_.length,M=0;M<j;M++)m.call(void 0,_[M],p&&p[M],l)}var Fp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function JT(l,m){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var _=l[p].indexOf("="),j=null;if(0<=_){var M=l[p].substring(0,_);j=l[p].substring(_+1)}else M=l[p];m(M,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Ir(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ir){this.h=l.h,ya(this,l.j),this.o=l.o,this.g=l.g,va(this,l.s),this.l=l.l;var m=l.i,p=new Ti;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Bp(this,p),this.m=l.m}else l&&(m=String(l).match(Fp))?(this.h=!1,ya(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),va(this,m[4]),this.l=wi(m[5]||"",!0),Bp(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Ir.prototype.toString=function(){var l=[],m=this.j;m&&l.push(Ei(m,zp,!0),":");var p=this.g;return(p||m=="file")&&(l.push("//"),(m=this.o)&&l.push(Ei(m,zp,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(Ei(p,p.charAt(0)=="/"?tS:eS,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",Ei(p,rS)),l.join("")};function En(l){return new Ir(l)}function ya(l,m,p){l.j=p?wi(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function va(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function Bp(l,m,p){m instanceof Ti?(l.i=m,sS(l.i,l.h)):(p||(m=Ei(m,nS)),l.i=new Ti(m,l.h))}function pe(l,m,p){l.i.set(m,p)}function xa(l){return pe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function wi(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Ei(l,m,p){return typeof l=="string"?(l=encodeURI(l).replace(m,ZT),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function ZT(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var zp=/[#\/\?@]/g,eS=/[#\?:]/g,tS=/[#\?]/g,nS=/[#\?@]/g,rS=/#/g;function Ti(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function $n(l){l.g||(l.g=new Map,l.h=0,l.i&&JT(l.i,function(m,p){l.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}t=Ti.prototype,t.add=function(l,m){$n(this),this.i=null,l=os(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(m),this.h+=1,this};function Up(l,m){$n(l),m=os(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function $p(l,m){return $n(l),m=os(l,m),l.g.has(m)}t.forEach=function(l,m){$n(this),this.g.forEach(function(p,_){p.forEach(function(j){l.call(m,j,_,this)},this)},this)},t.na=function(){$n(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let _=0;_<m.length;_++){const j=l[_];for(let M=0;M<j.length;M++)p.push(m[_])}return p},t.V=function(l){$n(this);let m=[];if(typeof l=="string")$p(this,l)&&(m=m.concat(this.g.get(os(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)m=m.concat(l[p])}return m},t.set=function(l,m){return $n(this),this.i=null,l=os(this,l),$p(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},t.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function Wp(l,m,p){Up(l,m),0<p.length&&(l.i=null,l.g.set(os(l,m),I(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var _=m[p];const M=encodeURIComponent(String(_)),U=this.V(_);for(_=0;_<U.length;_++){var j=M;U[_]!==""&&(j+="="+encodeURIComponent(String(U[_]))),l.push(j)}}return this.i=l.join("&")};function os(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function sS(l,m){m&&!l.j&&($n(l),l.i=null,l.g.forEach(function(p,_){var j=_.toLowerCase();_!=j&&(Up(this,_),Wp(this,j,p))},l)),l.j=m}function iS(l,m){const p=new xi;if(a.Image){const _=new Image;_.onload=y(Wn,p,"TestLoadImage: loaded",!0,m,_),_.onerror=y(Wn,p,"TestLoadImage: error",!1,m,_),_.onabort=y(Wn,p,"TestLoadImage: abort",!1,m,_),_.ontimeout=y(Wn,p,"TestLoadImage: timeout",!1,m,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else m(!1)}function oS(l,m){const p=new xi,_=new AbortController,j=setTimeout(()=>{_.abort(),Wn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:_.signal}).then(M=>{clearTimeout(j),M.ok?Wn(p,"TestPingServer: ok",!0,m):Wn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Wn(p,"TestPingServer: error",!1,m)})}function Wn(l,m,p,_,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),_(p)}catch{}}function aS(){this.g=new $T}function lS(l,m,p){const _=p||"";try{Op(l,function(j,M){let U=j;c(j)&&(U=Zu(j)),m.push(_+M+"="+encodeURIComponent(U))})}catch(j){throw m.push(_+"type="+encodeURIComponent("_badmap")),j}}function _a(l){this.l=l.Ub||null,this.j=l.eb||!1}E(_a,ec),_a.prototype.g=function(){return new wa(this.l,this.j)},_a.prototype.i=function(l){return function(){return l}}({});function wa(l,m){nt.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}E(wa,nt),t=wa.prototype,t.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,Ai(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||a).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Si(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Ai(this)),this.g&&(this.readyState=3,Ai(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;qp(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function qp(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?Si(this):Ai(this),this.readyState==3&&qp(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,Si(this))},t.Qa=function(l){this.g&&(this.response=l,Si(this))},t.ga=function(){this.g&&Si(this)};function Si(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Ai(l)}t.setRequestHeader=function(l,m){this.u.append(l,m)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=m.next();return l.join(`\r
`)};function Ai(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Hp(l){let m="";return L(l,function(p,_){m+=_,m+=":",m+=p,m+=`\r
`}),m}function cc(l,m,p){e:{for(_ in p){var _=!1;break e}_=!0}_||(p=Hp(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):pe(l,m,p))}function Ce(l){nt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}E(Ce,nt);var uS=/^https?$/i,cS=["POST","PUT"];t=Ce.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,m,p,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():rc.g(),this.v=this.o?wp(this.o):wp(rc),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch(M){Kp(this,M);return}if(l=p||"",p=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var j in _)p.set(j,_[j]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const M of _.keys())p.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(p.keys()).find(M=>M.toLowerCase()=="content-type"),j=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cS,m,void 0))||_||j||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,U]of p)this.g.setRequestHeader(M,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xp(this),this.u=!0,this.g.send(l),this.u=!1}catch(M){Kp(this,M)}};function Kp(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,Gp(l),Ea(l)}function Gp(l){l.A||(l.A=!0,pt(l,"complete"),pt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,pt(this,"complete"),pt(this,"abort"),Ea(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ea(this,!0)),Ce.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Qp(this):this.bb())},t.bb=function(){Qp(this)};function Qp(l){if(l.h&&typeof o<"u"&&(!l.v[1]||Tn(l)!=4||l.Z()!=2)){if(l.u&&Tn(l)==4)yp(l.Ea,0,l);else if(pt(l,"readystatechange"),Tn(l)==4){l.h=!1;try{const U=l.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var p;if(!(p=m)){var _;if(_=U===0){var j=String(l.D).match(Fp)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),_=!uS.test(j?j.toLowerCase():"")}p=_}if(p)pt(l,"complete"),pt(l,"success");else{l.m=6;try{var M=2<Tn(l)?l.g.statusText:""}catch{M=""}l.l=M+" ["+l.Z()+"]",Gp(l)}}finally{Ea(l)}}}}function Ea(l,m){if(l.g){Xp(l);const p=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||pt(l,"ready");try{p.onreadystatechange=_}catch{}}}function Xp(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Tn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),UT(m)}};function Yp(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function hS(l){const m={};l=(l.g&&2<=Tn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(w(l[_]))continue;var p=N(l[_]);const j=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const M=m[j]||[];m[j]=M,M.push(p)}S(m,function(_){return _.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(l,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||m}function Jp(l){this.Aa=0,this.i=[],this.j=new xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ci("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ci("baseRetryDelayMs",5e3,l),this.cb=Ci("retryDelaySeedMs",1e4,l),this.Wa=Ci("forwardChannelMaxRetries",2,l),this.wa=Ci("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new jp(l&&l.concurrentRequestLimit),this.Da=new aS,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Jp.prototype,t.la=8,t.G=1,t.connect=function(l,m,p,_){gt(0),this.W=l,this.H=m||{},p&&_!==void 0&&(this.H.OSID=p,this.H.OAID=_),this.F=this.X,this.I=ag(this,null,this.W),Sa(this)};function hc(l){if(Zp(l),l.G==3){var m=l.U++,p=En(l.I);if(pe(p,"SID",l.K),pe(p,"RID",m),pe(p,"TYPE","terminate"),Ii(l,p),m=new Un(l,l.j,m),m.L=2,m.v=xa(En(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=m.v,p=!0),p||(m.g=lg(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ga(m)}og(l)}function Ta(l){l.g&&(fc(l),l.g.cancel(),l.g=null)}function Zp(l){Ta(l),l.u&&(a.clearTimeout(l.u),l.u=null),Aa(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function Sa(l){if(!Dp(l.h)&&!l.s){l.s=!0;var m=l.Ga;ne||Q(),z||(ne(),z=!0),H.add(m,l),l.B=0}}function dS(l,m){return Vp(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=vi(g(l.Ga,l,m),ig(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const j=new Un(this,this.j,l);let M=this.o;if(this.S&&(M?(M=v(M),A(M,this.S)):M=this.S),this.m!==null||this.O||(j.H=M,M=null),this.P)e:{for(var m=0,p=0;p<this.i.length;p++){t:{var _=this.i[p];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(m+=_,4096<m){m=p;break e}if(m===4096||p===this.i.length-1){m=p+1;break e}}m=1e3}else m=1e3;m=tg(this,j,m),p=En(this.I),pe(p,"RID",l),pe(p,"CVER",22),this.D&&pe(p,"X-HTTP-Session-Id",this.D),Ii(this,p),M&&(this.O?m="headers="+encodeURIComponent(String(Hp(M)))+"&"+m:this.m&&cc(p,this.m,M)),uc(this.h,j),this.Ua&&pe(p,"TYPE","init"),this.P?(pe(p,"$req",m),pe(p,"SID","null"),j.T=!0,ic(j,p,null)):ic(j,p,m),this.G=2}}else this.G==3&&(l?eg(this,l):this.i.length==0||Dp(this.h)||eg(this))};function eg(l,m){var p;m?p=m.l:p=l.U++;const _=En(l.I);pe(_,"SID",l.K),pe(_,"RID",p),pe(_,"AID",l.T),Ii(l,_),l.m&&l.o&&cc(_,l.m,l.o),p=new Un(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),m&&(l.i=m.D.concat(l.i)),m=tg(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),uc(l.h,p),ic(p,_,m)}function Ii(l,m){l.H&&L(l.H,function(p,_){pe(m,_,p)}),l.l&&Op({},function(p,_){pe(m,_,p)})}function tg(l,m,p){p=Math.min(l.i.length,p);var _=l.l?g(l.l.Na,l.l,l):null;e:{var j=l.i;let M=-1;for(;;){const U=["count="+p];M==-1?0<p?(M=j[0].g,U.push("ofs="+M)):M=0:U.push("ofs="+M);let de=!0;for(let He=0;He<p;He++){let ae=j[He].g;const rt=j[He].map;if(ae-=M,0>ae)M=Math.max(0,j[He].g-100),de=!1;else try{lS(rt,U,"req"+ae+"_")}catch{_&&_(rt)}}if(de){_=U.join("&");break e}}}return l=l.i.splice(0,p),m.D=l,_}function ng(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;ne||Q(),z||(ne(),z=!0),H.add(m,l),l.v=0}}function dc(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=vi(g(l.Fa,l),ig(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,rg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=vi(g(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Ta(this),rg(this))};function fc(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function rg(l){l.g=new Un(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=En(l.qa);pe(m,"RID","rpc"),pe(m,"SID",l.K),pe(m,"AID",l.T),pe(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&pe(m,"TO",l.ja),pe(m,"TYPE","xmlhttp"),Ii(l,m),l.m&&l.o&&cc(m,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=xa(En(m)),p.m=null,p.P=!0,Rp(p,l)}t.Za=function(){this.C!=null&&(this.C=null,Ta(this),dc(this),gt(19))};function Aa(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function sg(l,m){var p=null;if(l.g==m){Aa(l),fc(l),l.g=null;var _=2}else if(lc(l.h,m))p=m.D,Mp(l.h,m),_=1;else return;if(l.G!=0){if(m.o)if(_==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var j=l.B;_=fa(),pt(_,new Cp(_,p)),Sa(l)}else ng(l);else if(j=m.s,j==3||j==0&&0<m.X||!(_==1&&dS(l,m)||_==2&&dc(l)))switch(p&&0<p.length&&(m=l.h,m.i=m.i.concat(p)),j){case 1:Pr(l,5);break;case 4:Pr(l,10);break;case 3:Pr(l,6);break;default:Pr(l,2)}}}function ig(l,m){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*m}function Pr(l,m){if(l.j.info("Error code "+m),m==2){var p=g(l.fb,l),_=l.Xa;const j=!_;_=new Ir(_||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ya(_,"https"),xa(_),j?iS(_.toString(),p):oS(_.toString(),p)}else gt(2);l.G=0,l.l&&l.l.sa(m),og(l),Zp(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function og(l){if(l.G=0,l.ka=[],l.l){const m=Lp(l.h);(m.length!=0||l.i.length!=0)&&(R(l.ka,m),R(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function ag(l,m,p){var _=p instanceof Ir?En(p):new Ir(p);if(_.g!="")m&&(_.g=m+"."+_.g),va(_,_.s);else{var j=a.location;_=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;var M=new Ir(null);_&&ya(M,_),m&&(M.g=m),j&&va(M,j),p&&(M.l=p),_=M}return p=l.D,m=l.ya,p&&m&&pe(_,p,m),pe(_,"VER",l.la),Ii(l,_),_}function lg(l,m,p){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new Ce(new _a({eb:p})):new Ce(l.pa),m.Ha(l.J),m}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ug(){}t=ug.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ca(){}Ca.prototype.g=function(l,m){return new Rt(l,m)};function Rt(l,m){nt.call(this),this.g=new Jp(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!w(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new as(this)}E(Rt,nt),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){hc(this.g)},Rt.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=Zu(l),l=p);m.i.push(new QT(m.Ya++,l)),m.G==3&&Sa(m)},Rt.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,Rt.aa.N.call(this)};function cg(l){tc.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const p in m){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}E(cg,tc);function hg(){nc.call(this),this.status=1}E(hg,nc);function as(l){this.g=l}E(as,ug),as.prototype.ua=function(){pt(this.g,"a")},as.prototype.ta=function(l){pt(this.g,new cg(l))},as.prototype.sa=function(l){pt(this.g,new hg)},as.prototype.ra=function(){pt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,U1=function(){return new Ca},z1=function(){return fa()},B1=Ar,cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ma.NO_ERROR=0,ma.TIMEOUT=8,ma.HTTP_ERROR=6,ml=ma,Ip.COMPLETE="complete",F1=Ip,Ep.EventType=gi,gi.OPEN="a",gi.CLOSE="b",gi.ERROR="c",gi.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Ui=Ep,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,O1=Ce}).apply(typeof qa<"u"?qa:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ai="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new k1("@firebase/firestore");function Mi(){return Yr.logLevel}function q(t,...e){if(Yr.logLevel<=ie.DEBUG){const n=e.map(Yf);Yr.debug(`Firestore (${ai}): ${t}`,...n)}}function Mn(t,...e){if(Yr.logLevel<=ie.ERROR){const n=e.map(Yf);Yr.error(`Firestore (${ai}): ${t}`,...n)}}function Ks(t,...e){if(Yr.logLevel<=ie.WARN){const n=e.map(Yf);Yr.warn(`Firestore (${ai}): ${t}`,...n)}}function Yf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t="Unexpected state"){const e=`FIRESTORE (${ai}) INTERNAL ASSERTION FAILED: `+t;throw Mn(e),new Error(e)}function he(t,e){t||X()}function J(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends oi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ut.UNAUTHENTICATED))}shutdown(){}}class VP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class MP{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){he(this.o===void 0);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new hr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(he(typeof r.accessToken=="string"),new $1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return he(e===null||typeof e=="string"),new ut(e)}}class LP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class OP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new LP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class FP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){he(this.o===void 0);const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(he(typeof n.token=="string"),this.R=n.token,new FP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=zP(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function le(t,e){return t<e?-1:t>e?1:0}function Gs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Le.fromMillis(Date.now())}static fromDate(e){return Le.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Le(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?le(this.nanoseconds,e.nanoseconds):le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Y(e)}static min(){return new Y(new Le(0,0))}static max(){return new Y(new Le(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(),r===void 0?r=e.length-n:r>e.length-n&&X(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return bo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends bo{construct(e,n,r){return new ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const UP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xe extends bo{construct(e,n,r){return new Xe(e,n,r)}static isValidIdentifier(e){return UP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Xe(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new W(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xe(n)}static emptyPath(){return new Xe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(ye.fromString(e))}static fromName(e){return new K(ye.fromString(e).popFirst(5))}static empty(){return new K(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new ye(e.slice()))}}function $P(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Y.fromTimestamp(r===1e9?new Le(n+1,0):new Le(n,r));return new pr(s,K.empty(),e)}function WP(t){return new pr(t.readTime,t.key,-1)}class pr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(Y.min(),K.empty(),-1)}static max(){return new pr(Y.max(),K.empty(),-1)}}function qP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==HP)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(s=>s?F.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new F((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new F((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function GP(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ta(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Jf.oe=-1;function Ru(t){return t==null}function Yl(t){return t===0&&1/t==-1/0}function QP(t){return typeof t=="number"&&Number.isInteger(t)&&!Yl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.comparator=e,this.root=n||Qe.EMPTY}insert(e,n){return new Ae(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ha(this.root,e,this.comparator,!0)}}class Ha{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qe{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Qe.RED,this.left=s??Qe.EMPTY,this.right=i??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Qe(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Qe.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();const e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Qe(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Je)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Je(this.comparator);return n.data=e,n}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(Xe.comparator)}static empty(){return new rn([])}unionWith(e){let n=new Je(Xe.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new H1("Invalid base64 string: "+i):i}}(e);return new et(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new et(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}et.EMPTY_BYTE_STRING=new et("");const XP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(t){if(he(!!t),typeof t=="string"){let e=0;const n=XP.exec(t);if(he(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Jr(t){return typeof t=="string"?et.fromBase64String(t):et.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function em(t){const e=t.mapValue.fields.__previous_value__;return Zf(e)?em(e):e}function jo(t){const e=gr(t.mapValue.fields.__local_write_time__.timestampValue);return new Le(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Do{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Do&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Zf(t)?4:ZP(t)?9007199254740991:JP(t)?10:11:X()}function _n(t,e){if(t===e)return!0;const n=Zr(t);if(n!==Zr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jo(t).isEqual(jo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=gr(s.timestampValue),a=gr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Jr(s.bytesValue).isEqual(Jr(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ke(s.geoPointValue.latitude)===ke(i.geoPointValue.latitude)&&ke(s.geoPointValue.longitude)===ke(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ke(s.integerValue)===ke(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ke(s.doubleValue),a=ke(i.doubleValue);return o===a?Yl(o)===Yl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Gs(t.arrayValue.values||[],e.arrayValue.values||[],_n);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if($y(o)!==$y(a))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!_n(o[u],a[u])))return!1;return!0}(t,e);default:return X()}}function Vo(t,e){return(t.values||[]).find(n=>_n(n,e))!==void 0}function Qs(t,e){if(t===e)return 0;const n=Zr(t),r=Zr(e);if(n!==r)return le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return le(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ke(i.integerValue||i.doubleValue),u=ke(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return qy(t.timestampValue,e.timestampValue);case 4:return qy(jo(t),jo(e));case 5:return le(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Jr(i),u=Jr(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),u=o.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=le(a[c],u[c]);if(d!==0)return d}return le(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=le(ke(i.latitude),ke(o.latitude));return a!==0?a:le(ke(i.longitude),ke(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hy(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,u,c,d;const f=i.fields||{},g=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,E=(u=g.value)===null||u===void 0?void 0:u.arrayValue,I=le(((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0,((d=E==null?void 0:E.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:Hy(y,E)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ka.mapValue&&o===Ka.mapValue)return 0;if(i===Ka.mapValue)return 1;if(o===Ka.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),c=o.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let f=0;f<u.length&&f<d.length;++f){const g=le(u[f],d[f]);if(g!==0)return g;const y=Qs(a[u[f]],c[d[f]]);if(y!==0)return y}return le(u.length,d.length)}(t.mapValue,e.mapValue);default:throw X()}}function qy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return le(t,e);const n=gr(t),r=gr(e),s=le(n.seconds,r.seconds);return s!==0?s:le(n.nanos,r.nanos)}function Hy(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Qs(n[s],r[s]);if(i)return i}return le(n.length,r.length)}function Xs(t){return hd(t)}function hd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Jr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=hd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${hd(n.fields[o])}`;return s+"}"}(t.mapValue):X()}function Ky(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function dd(t){return!!t&&"integerValue"in t}function tm(t){return!!t&&"arrayValue"in t}function Gy(t){return!!t&&"nullValue"in t}function Qy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function pl(t){return!!t&&"mapValue"in t}function JP(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function to(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=to(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=to(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ZP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.value=e}static empty(){return new Ut({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=to(n)}setAll(e){let n=Xe.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=to(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());pl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];pl(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){li(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Ut(to(this.value))}}function K1(t){const e=[];return li(t.fields,(n,r)=>{const s=new Xe([n]);if(pl(r)){const i=K1(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ht(e,0,Y.min(),Y.min(),Y.min(),Ut.empty(),0)}static newFoundDocument(e,n,r,s){return new ht(e,1,n,Y.min(),r,s,0)}static newNoDocument(e,n){return new ht(e,2,n,Y.min(),Y.min(),Ut.empty(),0)}static newUnknownDocument(e,n){return new ht(e,3,n,Y.min(),Y.min(),Ut.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Y.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ut.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ut.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Y.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.position=e,this.inclusive=n}}function Xy(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Qs(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Yy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n="asc"){this.field=e,this.dir=n}}function eN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{}class Ve extends G1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new nN(e,n,r):n==="array-contains"?new iN(e,r):n==="in"?new oN(e,r):n==="not-in"?new aN(e,r):n==="array-contains-any"?new lN(e,r):new Ve(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new rN(e,r):new sN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Qs(n,this.value)):n!==null&&Zr(this.value)===Zr(n)&&this.matchesComparison(Qs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ln extends G1{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ln(e,n)}matches(e){return Q1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Q1(t){return t.op==="and"}function X1(t){return tN(t)&&Q1(t)}function tN(t){for(const e of t.filters)if(e instanceof ln)return!1;return!0}function fd(t){if(t instanceof Ve)return t.field.canonicalString()+t.op.toString()+Xs(t.value);if(X1(t))return t.filters.map(e=>fd(e)).join(",");{const e=t.filters.map(n=>fd(n)).join(",");return`${t.op}(${e})`}}function Y1(t,e){return t instanceof Ve?function(r,s){return s instanceof Ve&&r.op===s.op&&r.field.isEqual(s.field)&&_n(r.value,s.value)}(t,e):t instanceof ln?function(r,s){return s instanceof ln&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&Y1(o,s.filters[a]),!0):!1}(t,e):void X()}function J1(t){return t instanceof Ve?function(n){return`${n.field.canonicalString()} ${n.op} ${Xs(n.value)}`}(t):t instanceof ln?function(n){return n.op.toString()+" {"+n.getFilters().map(J1).join(" ,")+"}"}(t):"Filter"}class nN extends Ve{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class rN extends Ve{constructor(e,n){super(e,"in",n),this.keys=Z1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sN extends Ve{constructor(e,n){super(e,"not-in",n),this.keys=Z1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Z1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class iN extends Ve{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tm(n)&&Vo(n.arrayValue,this.value)}}class oN extends Ve{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vo(this.value.arrayValue,n)}}class aN extends Ve{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vo(this.value.arrayValue,n)}}class lN extends Ve{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Jy(t,e=null,n=[],r=[],s=null,i=null,o=null){return new uN(t,e,n,r,s,i,o)}function nm(t){const e=J(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>fd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Ru(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xs(r)).join(",")),e.ue=n}return e.ue}function rm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!eN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yy(t.startAt,e.startAt)&&Yy(t.endAt,e.endAt)}function md(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cN(t,e,n,r,s,i,o,a){return new ui(t,e,n,r,s,i,o,a)}function ew(t){return new ui(t)}function Zy(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function tw(t){return t.collectionGroup!==null}function no(t){const e=J(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Je(Xe.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Mo(i,r))}),n.has(Xe.keyField().canonicalString())||e.ce.push(new Mo(Xe.keyField(),r))}return e.ce}function pn(t){const e=J(t);return e.le||(e.le=hN(e,no(t))),e.le}function hN(t,e){if(t.limitType==="F")return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Mo(s.field,i)});const n=t.endAt?new Jl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jl(t.startAt.position,t.startAt.inclusive):null;return Jy(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function pd(t,e){const n=t.filters.concat([e]);return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Zl(t,e,n){return new ui(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ku(t,e){return rm(pn(t),pn(e))&&t.limitType===e.limitType}function nw(t){return`${nm(pn(t))}|lt:${t.limitType}`}function cs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>J1(s)).join(", ")}]`),Ru(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Xs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Xs(s)).join(",")),`Target(${r})`}(pn(t))}; limitType=${t.limitType})`}function bu(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of no(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,u){const c=Xy(o,a,u);return o.inclusive?c<=0:c<0}(r.startAt,no(r),s)||r.endAt&&!function(o,a,u){const c=Xy(o,a,u);return o.inclusive?c>=0:c>0}(r.endAt,no(r),s))}(t,e)}function dN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function rw(t){return(e,n)=>{let r=!1;for(const s of no(t)){const i=fN(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function fN(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,a){const u=o.data.field(i),c=a.data.field(i);return u!==null&&c!==null?Qs(u,c):X()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new Ae(K.comparator);function Ln(){return mN}const sw=new Ae(K.comparator);function $i(...t){let e=sw;for(const n of t)e=e.insert(n.key,n);return e}function iw(t){let e=sw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Lr(){return ro()}function ow(){return ro()}function ro(){return new ci(t=>t.toString(),(t,e)=>t.isEqual(e))}const pN=new Ae(K.comparator),gN=new Je(K.comparator);function te(...t){let e=gN;for(const n of t)e=e.add(n);return e}const yN=new Je(le);function vN(){return yN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yl(e)?"-0":e}}function aw(t){return{integerValue:""+t}}function xN(t,e){return QP(e)?aw(e):sm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(){this._=void 0}}function _N(t,e,n){return t instanceof eu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Zf(i)&&(i=em(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Lo?uw(t,e):t instanceof Oo?cw(t,e):function(s,i){const o=lw(s,i),a=e0(o)+e0(s.Pe);return dd(o)&&dd(s.Pe)?aw(a):sm(s.serializer,a)}(t,e)}function wN(t,e,n){return t instanceof Lo?uw(t,e):t instanceof Oo?cw(t,e):n}function lw(t,e){return t instanceof tu?function(r){return dd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class eu extends ju{}class Lo extends ju{constructor(e){super(),this.elements=e}}function uw(t,e){const n=hw(e);for(const r of t.elements)n.some(s=>_n(s,r))||n.push(r);return{arrayValue:{values:n}}}class Oo extends ju{constructor(e){super(),this.elements=e}}function cw(t,e){let n=hw(e);for(const r of t.elements)n=n.filter(s=>!_n(s,r));return{arrayValue:{values:n}}}class tu extends ju{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function e0(t){return ke(t.integerValue||t.doubleValue)}function hw(t){return tm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function EN(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Lo&&s instanceof Lo||r instanceof Oo&&s instanceof Oo?Gs(r.elements,s.elements,_n):r instanceof tu&&s instanceof tu?_n(r.Pe,s.Pe):r instanceof eu&&s instanceof eu}(t.transform,e.transform)}class TN{constructor(e,n){this.version=e,this.transformResults=n}}class Nn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Nn}static exists(e){return new Nn(void 0,e)}static updateTime(e){return new Nn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Du{}function dw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mw(t.key,Nn.none()):new na(t.key,t.data,Nn.none());{const n=t.data,r=Ut.empty();let s=new Je(Xe.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new rs(t.key,r,new rn(s.toArray()),Nn.none())}}function SN(t,e,n){t instanceof na?function(s,i,o){const a=s.value.clone(),u=n0(s.fieldTransforms,i,o.transformResults);a.setAll(u),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof rs?function(s,i,o){if(!gl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=n0(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(fw(s)),u.setAll(a),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function so(t,e,n,r){return t instanceof na?function(i,o,a,u){if(!gl(i.precondition,o))return a;const c=i.value.clone(),d=r0(i.fieldTransforms,u,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof rs?function(i,o,a,u){if(!gl(i.precondition,o))return a;const c=r0(i.fieldTransforms,u,o),d=o.data;return d.setAll(fw(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return gl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AN(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=lw(r.transform,s||null);i!=null&&(n===null&&(n=Ut.empty()),n.set(r.field,i))}return n||null}function t0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Gs(r,s,(i,o)=>EN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class na extends Du{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class rs extends Du{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function fw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function n0(t,e,n){const r=new Map;he(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,wN(o,a,n[s]))}return r}function r0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,_N(i,o,e))}return r}class mw extends Du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CN extends Du{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&SN(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=so(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=so(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ow();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=dw(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(Y.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),te())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(n,r)=>t0(n,r))&&Gs(this.baseMutations,e.baseMutations,(n,r)=>t0(n,r))}}class im{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){he(e.mutations.length===r.length);let s=function(){return pN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new im(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je,re;function RN(t){switch(t){default:return X();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function pw(t){if(t===void 0)return Mn("GRPC error has no .code"),O.UNKNOWN;switch(t){case je.OK:return O.OK;case je.CANCELLED:return O.CANCELLED;case je.UNKNOWN:return O.UNKNOWN;case je.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case je.INTERNAL:return O.INTERNAL;case je.UNAVAILABLE:return O.UNAVAILABLE;case je.UNAUTHENTICATED:return O.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case je.NOT_FOUND:return O.NOT_FOUND;case je.ALREADY_EXISTS:return O.ALREADY_EXISTS;case je.PERMISSION_DENIED:return O.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case je.ABORTED:return O.ABORTED;case je.OUT_OF_RANGE:return O.OUT_OF_RANGE;case je.UNIMPLEMENTED:return O.UNIMPLEMENTED;case je.DATA_LOSS:return O.DATA_LOSS;default:return X()}}(re=je||(je={}))[re.OK=0]="OK",re[re.CANCELLED=1]="CANCELLED",re[re.UNKNOWN=2]="UNKNOWN",re[re.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",re[re.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",re[re.NOT_FOUND=5]="NOT_FOUND",re[re.ALREADY_EXISTS=6]="ALREADY_EXISTS",re[re.PERMISSION_DENIED=7]="PERMISSION_DENIED",re[re.UNAUTHENTICATED=16]="UNAUTHENTICATED",re[re.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",re[re.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",re[re.ABORTED=10]="ABORTED",re[re.OUT_OF_RANGE=11]="OUT_OF_RANGE",re[re.UNIMPLEMENTED=12]="UNIMPLEMENTED",re[re.INTERNAL=13]="INTERNAL",re[re.UNAVAILABLE=14]="UNAVAILABLE",re[re.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new $r([4294967295,4294967295],0);function s0(t){const e=kN().encode(t),n=new L1;return n.update(e),new Uint8Array(n.digest())}function i0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new $r([n,r],0),new $r([s,i],0)]}class om{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wi(`Invalid padding: ${n}`);if(r<0)throw new Wi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$r.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply($r.fromNumber(r)));return s.compare(bN)===1&&(s=new $r([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=s0(e),[r,s]=i0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new om(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=s0(e),[r,s]=i0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ra.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Vu(Y.min(),s,new Ae(le),Ln(),te())}}class ra{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ra(r,n,te(),te(),te())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class gw{constructor(e,n){this.targetId=e,this.me=n}}class yw{constructor(e,n,r=et.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class o0{constructor(){this.fe=0,this.ge=l0(),this.pe=et.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=te(),n=te(),r=te();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:X()}}),new ra(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=l0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,he(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jN{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ln(),this.qe=a0(),this.Qe=new Ae(le)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:X()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(md(i))if(r===0){const o=new K(i.path);this.Ue(n,o,ht.newNoDocument(o,Y.min()))}else he(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Jr(r).toUint8Array()}catch(u){if(u instanceof H1)return Ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new om(o,s,i)}catch(u){return Ks(u instanceof Wi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&md(a.target)){const u=new K(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,ht.newNoDocument(u,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=te();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Vu(e,n,this.Qe,this.ke,r);return this.ke=Ln(),this.qe=a0(),this.Qe=new Ae(le),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new o0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Je(le),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new o0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function a0(){return new Ae(K.comparator)}function l0(){return new Ae(K.comparator)}const DN={asc:"ASCENDING",desc:"DESCENDING"},VN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MN={and:"AND",or:"OR"};class LN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function gd(t,e){return t.useProto3Json||Ru(e)?e:{value:e}}function nu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ON(t,e){return nu(t,e.toTimestamp())}function gn(t){return he(!!t),Y.fromTimestamp(function(n){const r=gr(n);return new Le(r.seconds,r.nanos)}(t))}function am(t,e){return yd(t,e).canonicalString()}function yd(t,e){const n=function(s){return new ye(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function xw(t){const e=ye.fromString(t);return he(Sw(e)),e}function vd(t,e){return am(t.databaseId,e.path)}function Hc(t,e){const n=xw(e);if(n.get(1)!==t.databaseId.projectId)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new W(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(ww(n))}function _w(t,e){return am(t.databaseId,e)}function FN(t){const e=xw(t);return e.length===4?ye.emptyPath():ww(e)}function xd(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ww(t){return he(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function u0(t,e,n){return{name:vd(t,e),fields:n.value.mapValue.fields}}function BN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:X()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(he(d===void 0||typeof d=="string"),et.fromBase64String(d||"")):(he(d===void 0||d instanceof Buffer||d instanceof Uint8Array),et.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?O.UNKNOWN:pw(c.code);return new W(d,c.message||"")}(o);n=new yw(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Hc(t,r.document.name),i=gn(r.document.updateTime),o=r.document.createTime?gn(r.document.createTime):Y.min(),a=new Ut({mapValue:{fields:r.document.fields}}),u=ht.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new yl(c,d,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Hc(t,r.document),i=r.readTime?gn(r.readTime):Y.min(),o=ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new yl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Hc(t,r.document),i=r.removedTargetIds||[];n=new yl([],i,s,null)}else{if(!("filter"in e))return X();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new NN(s,i),a=r.targetId;n=new gw(a,o)}}return n}function zN(t,e){let n;if(e instanceof na)n={update:u0(t,e.key,e.value)};else if(e instanceof mw)n={delete:vd(t,e.key)};else if(e instanceof rs)n={update:u0(t,e.key,e.data),updateMask:XN(e.fieldMask)};else{if(!(e instanceof CN))return X();n={verify:vd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof eu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Lo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oo)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw X()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ON(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X()}(t,e.precondition)),n}function UN(t,e){return t&&t.length>0?(he(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?gn(s.updateTime):gn(i);return o.isEqual(Y.min())&&(o=gn(i)),new TN(o,s.transformResults||[])}(n,e))):[]}function $N(t,e){return{documents:[_w(t,e.path)]}}function WN(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_w(t,s);const i=function(c){if(c.length!==0)return Tw(ln.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(g){return{field:hs(g.field),direction:KN(g.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=gd(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function qN(t){let e=FN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){he(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const g=Ew(f);return g instanceof ln&&X1(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(E){return new Mo(ds(E.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(g))}(n.orderBy));let a=null;n.limit&&(a=function(f){let g;return g=typeof f=="object"?f.value:f,Ru(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(f){const g=!!f.before,y=f.values||[];return new Jl(y,g)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const g=!f.before,y=f.values||[];return new Jl(y,g)}(n.endAt)),cN(e,s,o,i,a,"F",u,c)}function HN(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return X()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ew(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ds(n.unaryFilter.field);return Ve.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ds(n.unaryFilter.field);return Ve.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ds(n.unaryFilter.field);return Ve.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ds(n.unaryFilter.field);return Ve.create(o,"!=",{nullValue:"NULL_VALUE"});default:return X()}}(t):t.fieldFilter!==void 0?function(n){return Ve.create(ds(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return X()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ln.create(n.compositeFilter.filters.map(r=>Ew(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X()}}(n.compositeFilter.op))}(t):X()}function KN(t){return DN[t]}function GN(t){return VN[t]}function QN(t){return MN[t]}function hs(t){return{fieldPath:t.canonicalString()}}function ds(t){return Xe.fromServerFormat(t.fieldPath)}function Tw(t){return t instanceof Ve?function(n){if(n.op==="=="){if(Qy(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NAN"}};if(Gy(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Qy(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NAN"}};if(Gy(n.value))return{unaryFilter:{field:hs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(n.field),op:GN(n.op),value:n.value}}}(t):t instanceof ln?function(n){const r=n.getFilters().map(s=>Tw(s));return r.length===1?r[0]:{compositeFilter:{op:QN(n.op),filters:r}}}(t):X()}function XN(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Sw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n,r,s,i=Y.min(),o=Y.min(),a=et.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new er(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new er(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.ct=e}}function JN(t){const e=qN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zl(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.un=new eR}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(pr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(pr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class eR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Je(ye.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Je(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ys(0)}static kn(){return new Ys(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.changes=new ci(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&so(r.mutation,s,rn.empty(),Le.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,te()).next(()=>r))}getLocalViewOfDocuments(e,n,r=te()){const s=Lr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=$i();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Lr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,te()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Ln();const o=ro(),a=function(){return ro()}();return n.forEach((u,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof rs)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),so(d.mutation,c,d.mutation.getFieldMask(),Le.now())):o.set(c.key,rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new nR(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ro();let s=new Ae((o,a)=>o-a),i=te();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let d=r.get(u)||rn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const f=(s.get(a.batchId)||te()).add(u);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,f=ow();d.forEach(g=>{if(!i.has(g)){const y=dw(n.get(g),r.get(g));y!==null&&f.set(g,y),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return K.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):tw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):F.resolve(Lr());let a=-1,u=i;return o.next(c=>F.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(g=>{u=u.insert(d,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,te())).next(d=>({batchId:a,changes:iw(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=$i();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=$i();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,u=>{const c=function(f,g){return new ui(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,ht.newInvalidDocument(d)))});let a=$i();return o.forEach((u,c)=>{const d=i.get(u);d!==void 0&&so(d.mutation,c,rn.empty(),Le.now()),bu(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:gn(s.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:JN(s.bundledQuery),readTime:gn(s.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.overlays=new Ae(K.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Lr();return F.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const s=Lr(),i=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return F.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Ae((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Lr(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Lr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return F.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new PN(n,r));let i=this.Ir.get(n);i===void 0&&(i=te(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.sessionToken=et.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.Tr=new Je(Ue.Er),this.dr=new Je(Ue.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Ue(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Ue(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new K(new ye([])),r=new Ue(n,e),s=new Ue(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new K(new ye([])),r=new Ue(n,e),s=new Ue(n,e+1);let i=te();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ue(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ue{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return K.comparator(e.key,n.key)||le(e.wr,n.wr)}static Ar(e,n){return le(e.wr,n.wr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Je(Ue.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new IN(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Ue(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ue(n,0),s=new Ue(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Je(le);return n.forEach(s=>{const i=new Ue(s,0),o=new Ue(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new Ue(new K(i),0);let a=new Je(le);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){he(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(n.mutations,s=>{const i=new Ue(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Ue(n,0),s=this.br.firstAfterOrEqual(r);return F.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.Mr=e,this.docs=function(){return new Ae(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ht.newInvalidDocument(n))}getEntries(e,n){let r=Ln();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():ht.newInvalidDocument(s))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Ln();const o=n.path,a=new K(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||qP(WP(d),r)<=0||(s.has(d.key)||bu(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X()}Or(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new uR(this)}getSize(e){return F.resolve(this.size)}}class uR extends tR{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.persistence=e,this.Nr=new ci(n=>nm(n),rm),this.lastRemoteSnapshotVersion=Y.min(),this.highestTargetId=0,this.Lr=0,this.Br=new lm,this.targetCount=0,this.kr=Ys.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ys(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),F.waitFor(i).next(()=>s)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Jf(0),this.Kr=!1,this.Kr=!0,this.$r=new oR,this.referenceDelegate=e(this),this.Ur=new cR(this),this.indexManager=new ZN,this.remoteDocumentCache=function(s){return new lR(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new YN(n),this.Gr=new sR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new iR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new aR(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new dR(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class dR extends KP{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Jr=new lm,this.Yr=null}static Zr(e){return new um(e)}get Xr(){if(this.Yr)return this.Yr;throw X()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{const s=K.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,Y.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=te(),s=te();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new cm(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return gI()?8:GP(mI())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new fR;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Mi()<=ie.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",cs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Mi()<=ie.DEBUG&&q("QueryEngine","Query:",cs(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Mi()<=ie.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",cs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pn(n))):F.resolve())}Yi(e,n){if(Zy(n))return F.resolve(null);let r=pn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Zl(n,null,"F"),r=pn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=te(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,o,u.readTime)?this.Yi(e,Zl(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,s){return Zy(n)||s.isEqual(Y.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?F.resolve(null):(Mi()<=ie.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),cs(n)),this.rs(e,o,n,$P(s,-1)).next(a=>a))})}ts(e,n){let r=new Je(rw(e));return n.forEach((s,i)=>{bu(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Mi()<=ie.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",cs(n)),this.Ji.getDocumentsMatchingQuery(e,n,pr.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new Ae(le),this._s=new ci(i=>nm(i),rm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rR(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function gR(t,e,n,r){return new pR(t,e,n,r)}async function Aw(t,e){const n=J(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=te();for(const c of s){o.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function yR(t,e){const n=J(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const f=c.batch,g=f.keys();let y=F.resolve();return g.forEach(E=>{y=y.next(()=>d.getEntry(u,E)).next(I=>{const R=c.docVersions.get(E);he(R!==null),I.version.compareTo(R)<0&&(f.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=te();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Cw(t){const e=J(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function vR(t,e){const n=J(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const g=s.get(f);if(!g)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let y=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(et.EMPTY_BYTE_STRING,Y.min()).withLastLimboFreeSnapshotVersion(Y.min()):d.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(d.resumeToken,r)),s=s.insert(f,y),function(I,R,x){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,y,d)&&a.push(n.Ur.updateTargetData(i,y))});let u=Ln(),c=te();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(xR(i,o,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(Y.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.os=s,i))}function xR(t,e,n){let r=te(),s=te();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Ln();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(Y.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:o,Is:s}})}function _R(t,e){const n=J(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wR(t,e){const n=J(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,F.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new er(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function _d(t,e,n){const r=J(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ta(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function c0(t,e,n){const r=J(t);let s=Y.min(),i=te();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,d){const f=J(u),g=f._s.get(d);return g!==void 0?F.resolve(f.os.get(g)):f.Ur.getTargetData(c,d)}(r,o,pn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:Y.min(),n?i:te())).next(a=>(ER(r,dN(e),a),{documents:a,Ts:i})))}function ER(t,e,n){let r=t.us.get(e)||Y.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class h0{constructor(){this.activeTargetIds=vN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TR{constructor(){this.so=new h0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new h0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ga=null;function Kc(){return Ga===null?Ga=function(){return 268435456+Math.round(2147483648*Math.random())}():Ga++,"0x"+Ga.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at="WebChannelConnection";class IR extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Kc(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,u,c,s).then(d=>(q("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw Ks("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",u,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ai}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=AR[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Kc();return new Promise((o,a)=>{const u=new O1;u.setWithCredentials(!0),u.listenOnce(F1.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case ml.NO_ERROR:const d=u.getResponseJson();q(at,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case ml.TIMEOUT:q(at,`RPC '${e}' ${i} timed out`),a(new W(O.DEADLINE_EXCEEDED,"Request time out"));break;case ml.HTTP_ERROR:const f=u.getStatus();if(q(at,`RPC '${e}' ${i} failed with status:`,f,"response text:",u.getResponseText()),f>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const E=function(R){const x=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(x)>=0?x:O.UNKNOWN}(y.status);a(new W(E,y.message))}else a(new W(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(O.UNAVAILABLE,"Connection failed."));break;default:X()}}finally{q(at,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);q(at,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Kc(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=U1(),a=z1(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const d=i.join("");q(at,`Creating RPC '${e}' stream ${s}: ${d}`,u);const f=o.createWebChannel(d,u);let g=!1,y=!1;const E=new CR({Io:R=>{y?q(at,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(g||(q(at,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),q(at,`RPC '${e}' stream ${s} sending:`,R),f.send(R))},To:()=>f.close()}),I=(R,x,w)=>{R.listen(x,T=>{try{w(T)}catch(D){setTimeout(()=>{throw D},0)}})};return I(f,Ui.EventType.OPEN,()=>{y||(q(at,`RPC '${e}' stream ${s} transport opened.`),E.yo())}),I(f,Ui.EventType.CLOSE,()=>{y||(y=!0,q(at,`RPC '${e}' stream ${s} transport closed`),E.So())}),I(f,Ui.EventType.ERROR,R=>{y||(y=!0,Ks(at,`RPC '${e}' stream ${s} transport errored:`,R),E.So(new W(O.UNAVAILABLE,"The operation could not be completed")))}),I(f,Ui.EventType.MESSAGE,R=>{var x;if(!y){const w=R.data[0];he(!!w);const T=w,D=T.error||((x=T[0])===null||x===void 0?void 0:x.error);if(D){q(at,`RPC '${e}' stream ${s} received error:`,D);const V=D.status;let L=function(C){const A=je[C];if(A!==void 0)return pw(A)}(V),S=D.message;L===void 0&&(L=O.INTERNAL,S="Unknown error status: "+V+" with message "+D.message),y=!0,E.So(new W(L,S)),f.close()}else q(at,`RPC '${e}' stream ${s} received:`,w),E.bo(w)}}),I(a,B1.STAT_EVENT,R=>{R.stat===cd.PROXY?q(at,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===cd.NOPROXY&&q(at,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{E.wo()},0),E}}function Gc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){return new LN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,r,s,i,o,a,u){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Iw(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Mn(n.toString()),Mn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new W(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PR extends Pw{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=BN(this.serializer,e),r=function(i){if(!("targetChange"in i))return Y.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Y.min():o.readTime?gn(o.readTime):Y.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=xd(this.serializer),n.addTarget=function(i,o){let a;const u=o.target;if(a=md(u)?{documents:$N(i,u)}:{query:WN(i,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vw(i,o.resumeToken);const c=gd(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Y.min())>0){a.readTime=nu(i,o.snapshotVersion.toTimestamp());const c=gd(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=HN(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=xd(this.serializer),n.removeTarget=e,this.a_(n)}}class NR extends Pw{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return he(!!e.streamToken),this.lastStreamToken=e.streamToken,he(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){he(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=UN(e.writeResults,e.commitTime),r=gn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=xd(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>zN(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,yd(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(O.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,yd(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(O.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class kR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mn(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{ss(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=J(u);c.L_.add(4),await sa(c),c.q_.set("Unknown"),c.L_.delete(4),await Lu(c)}(this))})}),this.q_=new kR(r,s)}}async function Lu(t){if(ss(t))for(const e of t.B_)await e(!0)}async function sa(t){for(const e of t.B_)await e(!1)}function Nw(t,e){const n=J(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),mm(n)?fm(n):hi(n).r_()&&dm(n,e))}function hm(t,e){const n=J(t),r=hi(n);n.N_.delete(e),r.r_()&&Rw(n,e),n.N_.size===0&&(r.r_()?r.o_():ss(n)&&n.q_.set("Unknown"))}function dm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Y.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}hi(t).A_(e)}function Rw(t,e){t.Q_.xe(e),hi(t).R_(e)}function fm(t){t.Q_=new jN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),hi(t).start(),t.q_.v_()}function mm(t){return ss(t)&&!hi(t).n_()&&t.N_.size>0}function ss(t){return J(t).L_.size===0}function kw(t){t.Q_=void 0}async function jR(t){t.q_.set("Online")}async function DR(t){t.N_.forEach((e,n)=>{dm(t,e)})}async function VR(t,e){kw(t),mm(t)?(t.q_.M_(e),fm(t)):t.q_.set("Unknown")}async function MR(t,e,n){if(t.q_.set("Online"),e instanceof yw&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ru(t,r)}else if(e instanceof yl?t.Q_.Ke(e):e instanceof gw?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Y.min()))try{const r=await Cw(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,c)=>{const d=i.N_.get(u);if(!d)return;i.N_.set(u,d.withResumeToken(et.EMPTY_BYTE_STRING,d.snapshotVersion)),Rw(i,u);const f=new er(d.target,u,c,d.sequenceNumber);dm(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await ru(t,r)}}async function ru(t,e,n){if(!ta(e))throw e;t.L_.add(1),await sa(t),t.q_.set("Offline"),n||(n=()=>Cw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Lu(t)})}function bw(t,e){return e().catch(n=>ru(t,n,e))}async function Ou(t){const e=J(t),n=yr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;LR(e);)try{const s=await _R(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,OR(e,s)}catch(s){await ru(e,s)}jw(e)&&Dw(e)}function LR(t){return ss(t)&&t.O_.length<10}function OR(t,e){t.O_.push(e);const n=yr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function jw(t){return ss(t)&&!yr(t).n_()&&t.O_.length>0}function Dw(t){yr(t).start()}async function FR(t){yr(t).p_()}async function BR(t){const e=yr(t);for(const n of t.O_)e.m_(n.mutations)}async function zR(t,e,n){const r=t.O_.shift(),s=im.from(r,e,n);await bw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Ou(t)}async function UR(t,e){e&&yr(t).V_&&await async function(r,s){if(function(o){return RN(o)&&o!==O.ABORTED}(s.code)){const i=r.O_.shift();yr(r).s_(),await bw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Ou(r)}}(t,e),jw(t)&&Dw(t)}async function f0(t,e){const n=J(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=ss(n);n.L_.add(3),await sa(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Lu(n)}async function $R(t,e){const n=J(t);e?(n.L_.delete(2),await Lu(n)):e||(n.L_.add(2),await sa(n),n.q_.set("Unknown"))}function hi(t){return t.K_||(t.K_=function(n,r,s){const i=J(n);return i.w_(),new PR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:jR.bind(null,t),Ro:DR.bind(null,t),mo:VR.bind(null,t),d_:MR.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),mm(t)?fm(t):t.q_.set("Unknown")):(await t.K_.stop(),kw(t))})),t.K_}function yr(t){return t.U_||(t.U_=function(n,r,s){const i=J(n);return i.w_(),new NR(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:FR.bind(null,t),mo:UR.bind(null,t),f_:BR.bind(null,t),g_:zR.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Ou(t)):(await t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new pm(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gm(t,e){if(Mn("AsyncQueue",`${e}: ${t}`),ta(t))return new W(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=$i(),this.sortedSet=new Ae(this.comparator)}static emptySet(e){return new Ls(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ls;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this.W_=new Ae(K.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):X():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Js{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Js(e,n,Ls.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class qR{constructor(){this.queries=p0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=J(n),i=s.queries;s.queries=p0(),i.forEach((o,a)=>{for(const u of a.j_)u.onError(r)})})(this,new W(O.ABORTED,"Firestore shutting down"))}}function p0(){return new ci(t=>nw(t),ku)}async function HR(t,e){const n=J(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new WR,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=gm(o,`Initialization of query '${cs(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&ym(n)}async function KR(t,e){const n=J(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function GR(t,e){const n=J(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&ym(n)}function QR(t,e,n){const r=J(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function ym(t){t.Y_.forEach(e=>{e.next()})}var wd,g0;(g0=wd||(wd={})).ea="default",g0.Cache="cache";class XR{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==wd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.key=e}}class Mw{constructor(e){this.key=e}}class YR{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=te(),this.mutatedKeys=te(),this.Aa=rw(e),this.Ra=new Ls(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new m0,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const g=s.get(d),y=bu(this.query,f)?f:null,E=!!g&&this.mutatedKeys.has(g.key),I=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let R=!1;g&&y?g.data.isEqual(y.data)?E!==I&&(r.track({type:3,doc:y}),R=!0):this.ga(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||c&&this.Aa(y,c)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||c)&&(a=!0)),R&&(y?(o=o.add(y),i=I?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(y,E){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return X()}};return I(y)-I(E)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],u=this.da.size===0&&this.current&&!s?1:0,c=u!==this.Ea;return this.Ea=u,o.length!==0||c?{snapshot:new Js(this.query,e.Ra,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new m0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=te(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Mw(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Vw(r))}),n}ba(e){this.Ta=e.Ts,this.da=te();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Js.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class JR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class ZR{constructor(e){this.key=e,this.va=!1}}class ek{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ci(a=>nw(a),ku),this.Ma=new Map,this.xa=new Set,this.Oa=new Ae(K.comparator),this.Na=new Map,this.La=new lm,this.Ba={},this.ka=new Map,this.qa=Ys.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function tk(t,e,n=!0){const r=Uw(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Lw(r,e,n,!0),s}async function nk(t,e){const n=Uw(t);await Lw(n,e,!0,!1)}async function Lw(t,e,n,r){const s=await wR(t.localStore,pn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await rk(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Nw(t.remoteStore,s),a}async function rk(t,e,n,r,s){t.Ka=(f,g,y)=>async function(I,R,x,w){let T=R.view.ma(x);T.ns&&(T=await c0(I.localStore,R.query,!1).then(({documents:S})=>R.view.ma(S,T)));const D=w&&w.targetChanges.get(R.targetId),V=w&&w.targetMismatches.get(R.targetId)!=null,L=R.view.applyChanges(T,I.isPrimaryClient,D,V);return v0(I,R.targetId,L.wa),L.snapshot}(t,f,g,y);const i=await c0(t.localStore,e,!0),o=new YR(e,i.Ts),a=o.ma(i.documents),u=ra.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);v0(t,n,c.wa);const d=new JR(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function sk(t,e,n){const r=J(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!ku(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await _d(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&hm(r.remoteStore,s.targetId),Ed(r,s.targetId)}).catch(ea)):(Ed(r,s.targetId),await _d(r.localStore,s.targetId,!0))}async function ik(t,e){const n=J(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),hm(n.remoteStore,r.targetId))}async function ok(t,e,n){const r=fk(t);try{const s=await function(o,a){const u=J(o),c=Le.now(),d=a.reduce((y,E)=>y.add(E.key),te());let f,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let E=Ln(),I=te();return u.cs.getEntries(y,d).next(R=>{E=R,E.forEach((x,w)=>{w.isValidDocument()||(I=I.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,E)).next(R=>{f=R;const x=[];for(const w of a){const T=AN(w,f.get(w.key).overlayedDocument);T!=null&&x.push(new rs(w.key,T,K1(T.value.mapValue),Nn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,c,x,a)}).next(R=>{g=R;const x=R.applyToLocalDocumentSet(f,I);return u.documentOverlayCache.saveOverlays(y,R.batchId,x)})}).then(()=>({batchId:g.batchId,changes:iw(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,u){let c=o.Ba[o.currentUser.toKey()];c||(c=new Ae(le)),c=c.insert(a,u),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await ia(r,s.changes),await Ou(r.remoteStore)}catch(s){const i=gm(s,"Failed to persist write");n.reject(i)}}async function Ow(t,e){const n=J(t);try{const r=await vR(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(he(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?he(o.va):s.removedDocuments.size>0&&(he(o.va),o.va=!1))}),await ia(n,r,e)}catch(r){await ea(r)}}function y0(t,e,n){const r=J(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const u=J(o);u.onlineState=a;let c=!1;u.queries.forEach((d,f)=>{for(const g of f.j_)g.Z_(a)&&(c=!0)}),c&&ym(u)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ak(t,e,n){const r=J(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new Ae(K.comparator);o=o.insert(i,ht.newNoDocument(i,Y.min()));const a=te().add(i),u=new Vu(Y.min(),new Map,new Ae(le),o,a);await Ow(r,u),r.Oa=r.Oa.remove(i),r.Na.delete(e),vm(r)}else await _d(r.localStore,e,!1).then(()=>Ed(r,e,n)).catch(ea)}async function lk(t,e){const n=J(t),r=e.batch.batchId;try{const s=await yR(n.localStore,e);Bw(n,r,null),Fw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ia(n,s)}catch(s){await ea(s)}}async function uk(t,e,n){const r=J(t);try{const s=await function(o,a){const u=J(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(he(f!==null),d=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);Bw(r,e,n),Fw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ia(r,s)}catch(s){await ea(s)}}function Fw(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Bw(t,e,n){const r=J(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Ed(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||zw(t,r)})}function zw(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(hm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),vm(t))}function v0(t,e,n){for(const r of n)r instanceof Vw?(t.La.addReference(r.key,e),ck(t,r)):r instanceof Mw?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||zw(t,r.key)):X()}function ck(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),vm(t))}function vm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new K(ye.fromString(e)),r=t.qa.next();t.Na.set(r,new ZR(n)),t.Oa=t.Oa.insert(n,r),Nw(t.remoteStore,new er(pn(ew(n.path)),r,"TargetPurposeLimboResolution",Jf.oe))}}async function ia(t,e,n){const r=J(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(u.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){s.push(c);const f=cm.Wi(u.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(u,c){const d=J(u);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(c,g=>F.forEach(g.$i,y=>d.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>F.forEach(g.Ui,y=>d.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!ta(f))throw f;q("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const g=f.targetId;if(!f.fromCache){const y=d.os.get(g),E=y.snapshotVersion,I=y.withLastLimboFreeSnapshotVersion(E);d.os=d.os.insert(g,I)}}}(r.localStore,i))}async function hk(t,e){const n=J(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await Aw(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(O.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ia(n,r.hs)}}function dk(t,e){const n=J(t),r=n.Na.get(e);if(r&&r.va)return te().add(r.key);{let s=te();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function Uw(t){const e=J(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=dk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ak.bind(null,e),e.Ca.d_=GR.bind(null,e.eventManager),e.Ca.$a=QR.bind(null,e.eventManager),e}function fk(t){const e=J(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=lk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uk.bind(null,e),e}class su{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mu(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return gR(this.persistence,new mR,e.initialUser,this.serializer)}Ga(e){return new hR(um.Zr,this.serializer)}Wa(e){return new TR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}su.provider={build:()=>new su};class Td{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>y0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hk.bind(null,this.syncEngine),await $R(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new qR}()}createDatastore(e){const n=Mu(e.databaseInfo.databaseId),r=function(i){return new IR(i)}(e.databaseInfo);return function(i,o,a,u){return new RR(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new bR(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>y0(this.syncEngine,n,0),function(){return d0.D()?new d0:new SR}())}createSyncEngine(e,n){return function(s,i,o,a,u,c,d){const f=new ek(s,i,o,a,u,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=J(s);q("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await sa(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Td.provider={build:()=>new Td};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Mn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=ut.UNAUTHENTICATED,this.clientId=W1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{q("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=gm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Qc(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Aw(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function x0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await gk(t);q("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>f0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>f0(e.remoteStore,s)),t._onlineComponents=e}async function gk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await Qc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Ks("Error using user provided cache. Falling back to memory cache: "+n),await Qc(t,new su)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await Qc(t,new su);return t._offlineComponents}async function $w(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await x0(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await x0(t,new Td))),t._onlineComponents}function yk(t){return $w(t).then(e=>e.syncEngine)}async function vk(t){const e=await $w(t),n=e.eventManager;return n.onListen=tk.bind(null,e.syncEngine),n.onUnlisten=sk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=nk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ik.bind(null,e.syncEngine),n}function xk(t,e,n={}){const r=new hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,u,c){const d=new mk({next:g=>{d.Za(),o.enqueueAndForget(()=>KR(i,f)),g.fromCache&&u.source==="server"?c.reject(new W(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),f=new XR(a,d,{includeMetadataChanges:!0,_a:!0});return HR(i,f)}(await vk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e,n){if(!n)throw new W(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _k(t,e,n,r){if(e===!0&&r===!0)throw new W(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w0(t){if(!K.isDocumentKey(t))throw new W(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function E0(t){if(K.isDocumentKey(t))throw new W(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Fu(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X()}function iu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fu(t);throw new W(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_k("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ww((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bu{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new T0({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new T0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DP;switch(r.type){case"firstParty":return new OP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=_0.get(n);r&&(q("ComponentProvider","Removing Datastore"),_0.delete(n),r.terminate())}(this),Promise.resolve()}}function wk(t,e,n,r={}){var s;const i=(t=iu(t,Bu))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ut.MOCK_USER;else{a=fI(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new W(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ut(c)}t._authCredentials=new VP(new $1(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Tr(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class dr extends Tr{constructor(e,n,r){super(e,n,ew(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new K(e))}withConverter(e){return new dr(this.firestore,e,this._path)}}function Hw(t,e,...n){if(t=Hs(t),qw("collection","path",e),t instanceof Bu){const r=ye.fromString(e,...n);return E0(r),new dr(t,null,r)}{if(!(t instanceof qt||t instanceof dr))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return E0(r),new dr(t.firestore,null,r)}}function Ek(t,e,...n){if(t=Hs(t),arguments.length===1&&(e=W1.newId()),qw("doc","path",e),t instanceof Bu){const r=ye.fromString(e,...n);return w0(r),new qt(t,null,new K(r))}{if(!(t instanceof qt||t instanceof dr))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ye.fromString(e,...n));return w0(r),new qt(t.firestore,t instanceof dr?t.converter:null,new K(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Iw(this,"async_queue_retry"),this.Vu=()=>{const r=Gc();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=Gc();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Gc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new hr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ta(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Mn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=pm.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&X()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class xm extends Bu{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new S0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new S0(e),this._firestoreClient=void 0,await e}}}function Tk(t,e){const n=typeof t=="object"?t:EP(),r=typeof t=="string"?t:"(default)",s=vP(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=hI("firestore");i&&wk(s,...i)}return s}function Kw(t){if(t._terminated)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Sk(t),t._firestoreClient}function Sk(t){var e,n,r;const s=t._freezeSettings(),i=function(a,u,c,d){return new YP(a,u,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ww(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new pk(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zs(et.fromBase64String(e))}catch(n){throw new W(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Zs(et.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return le(this._lat,e._lat)||le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Em{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=/^__.*__$/;class Ck{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new rs(e,this.data,this.fieldMask,n,this.fieldTransforms):new na(e,this.data,n,this.fieldTransforms)}}function Qw(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X()}}class Tm{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Tm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return ou(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Qw(this.Cu)&&Ak.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ik{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mu(e)}Qu(e,n,r,s=!1){return new Tm({Cu:e,methodName:n,qu:r,path:Xe.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xw(t){const e=t._freezeSettings(),n=Mu(t._databaseId);return new Ik(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pk(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);Zw("Data must be an object, but it was:",o,r);const a=Yw(r,o);let u,c;if(i.merge)u=new rn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const g=Rk(e,f,n);if(!o.contains(g))throw new W(O.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);bk(d,g)||d.push(g)}u=new rn(d),c=o.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=o.fieldTransforms;return new Ck(new Ut(a),u,c)}function Nk(t,e,n,r=!1){return Sm(n,t.Qu(r?4:3,e))}function Sm(t,e){if(Jw(t=Hs(t)))return Zw("Unsupported field value:",e,t),Yw(t,e);if(t instanceof Gw)return function(r,s){if(!Qw(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let u=Sm(a,s.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Hs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Le.fromDate(r);return{timestampValue:nu(s.serializer,i)}}if(r instanceof Le){const i=new Le(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:nu(s.serializer,i)}}if(r instanceof wm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Zs)return{bytesValue:vw(s.serializer,r._byteString)};if(r instanceof qt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:am(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Em)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return sm(a.serializer,u)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Fu(r)}`)}(t,e)}function Yw(t,e){const n={};return q1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(t,(r,s)=>{const i=Sm(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Jw(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Le||t instanceof wm||t instanceof Zs||t instanceof qt||t instanceof Gw||t instanceof Em)}function Zw(t,e,n){if(!Jw(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Fu(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Rk(t,e,n){if((e=Hs(e))instanceof _m)return e._internalPath;if(typeof e=="string")return eE(t,e);throw ou("Field path arguments must be of type string or ",t,!1,void 0,n)}const kk=new RegExp("[~\\*/\\[\\]]");function eE(t,e,n){if(e.search(kk)>=0)throw ou(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new _m(...e.split("."))._internalPath}catch{throw ou(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ou(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new W(O.INVALID_ARGUMENT,a+t+u)}function bk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Am("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jk extends tE{data(){return super.data()}}function Am(t,e){return typeof e=="string"?eE(t,e):e instanceof _m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new W(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cm{}class Im extends Cm{}function Vk(t,e,...n){let r=[];e instanceof Cm&&r.push(e),r=r.concat(n),function(i){const o=i.filter(u=>u instanceof Nm).length,a=i.filter(u=>u instanceof Pm).length;if(o>1||o>0&&a>0)throw new W(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Pm extends Im{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Pm(e,n,r)}_apply(e){const n=this._parse(e);return nE(e._query,n),new Tr(e.firestore,e.converter,pd(e._query,n))}_parse(e){const n=Xw(e.firestore);return function(i,o,a,u,c,d,f){let g;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new W(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){C0(f,d);const y=[];for(const E of f)y.push(A0(u,i,E));g={arrayValue:{values:y}}}else g=A0(u,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||C0(f,d),g=Nk(a,o,f,d==="in"||d==="not-in");return Ve.create(c,d,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Nm extends Cm{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Nm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const u of a)nE(o,u),o=pd(o,u)}(e._query,n),new Tr(e.firestore,e.converter,pd(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rm extends Im{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rm(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new W(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new W(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Mo(i,o)}(e._query,this._field,this._direction);return new Tr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ui(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function Mk(t,e="asc"){const n=e,r=Am("orderBy",t);return Rm._create(r,n)}class km extends Im{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new km(e,n,r)}_apply(e){return new Tr(e.firestore,e.converter,Zl(e._query,this._limit,this._limitType))}}function Lk(t){return km._create("limit",t,"F")}function A0(t,e,n){if(typeof(n=Hs(n))=="string"){if(n==="")throw new W(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tw(e)&&n.indexOf("/")!==-1)throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ye.fromString(n));if(!K.isDocumentKey(r))throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ky(t,new K(r))}if(n instanceof qt)return Ky(t,n._key);throw new W(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fu(n)}.`)}function C0(t,e){if(!Array.isArray(t)||t.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function nE(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Ok{convertValue(e,n="none"){switch(Zr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ke(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw X()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return li(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ke(o.doubleValue));return new Em(i)}convertGeoPoint(e){return new wm(ke(e.latitude),ke(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=em(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jo(e));default:return null}}convertTimestamp(e){const n=gr(e);return new Le(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ye.fromString(e);he(Sw(r));const s=new Do(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||Mn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bk extends tE{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Am("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vl extends Bk{data(e={}){return super.data(e)}}class zk{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qa(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vl(this._firestore,this._userDataWriter,r.key,r,new Qa(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const u=new vl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new vl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:Uk(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Uk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X()}}class $k extends Ok{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function Wk(t){t=iu(t,Tr);const e=iu(t.firestore,xm),n=Kw(e),r=new $k(e);return Dk(t._query),xk(n,t._query).then(s=>new zk(e,r,t,s))}function qk(t,e){const n=iu(t.firestore,xm),r=Ek(t),s=Fk(t.converter,e);return Hk(n,[Pk(Xw(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Nn.exists(!1))]).then(()=>r)}function Hk(t,e){return function(r,s){const i=new hr;return r.asyncQueue.enqueueAndForget(async()=>ok(await yk(r),s,i)),i.promise}(Kw(t),e)}(function(e,n=!0){(function(s){ai=s})(wP),Xl(new Ro("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new xm(new MP(r.getProvider("auth-internal")),new BP(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new W(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ms(Uy,"4.7.3",e),Ms(Uy,"4.7.3","esm2017")})();const Kk={apiKey:"AIzaSyByk_WD0-njdbPMnHQfhzCsTQGrTuTimYE",authDomain:"talentagdata.firebaseapp.com",projectId:"talentagdata",storageBucket:"talentagdata.appspot.com",messagingSenderId:"726309884439",appId:"1:726309884439:web:e8c8057d12f89c17680252"},Gk=D1(Kk),rE=Tk(Gk),I0="https://openrouter.ai/api/v1/chat/completions",P0="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",Sd="openai/gpt-3.5-turbo",Ad="https://talentag.com",Cd="TalenTag AI Chat";console.log("API Key:","已設定");console.log("Model:",Sd);console.log("Referer:",Ad);console.log("Title:",Cd);const Xa=["title","description","skills","plus","location","mode","salary"],N0={title:{zh:"職缺名稱",en:"Job Title"},description:{zh:"工作內容",en:"Job Description"},skills:{zh:"必備技能",en:"Required Skills"},plus:{zh:"加分條件",en:"Preferred Qualifications"},location:{zh:"工作地點",en:"Job Location"},mode:{zh:"工作型態",en:"Work Type"},salary:{zh:"薪資範圍",en:"Salary Range"}},Qk=()=>{const[t,e]=k.useState("zh"),[n,r]=k.useState(""),[s,i]=k.useState([{role:"assistant",content:t==="zh"?"嗨！請問您想建立哪一個職缺呢？我會一步步引導您填寫職缺資訊。":"Hi! What position would you like to post? I will guide you step by step."}]),[o,a]=k.useState({}),[u,c]=k.useState(!1),[d,f]=k.useState(!1),[g,y]=k.useState(!1),E=mt(),I=k.useRef(null),R=t==="zh"?"你是一位親切、耐心且語氣自然的繁體中文 AI 助理，協助企業一步步建立職缺資料。請依照以下 7 個欄位順序收集資訊：職缺名稱、工作內容、必備技能、加分條件、工作地點、工作型態、薪資範圍。每次只問一題。若使用者回答模糊請補問細節，不要總結或跳過欄位。":"You are a friendly and patient AI assistant guiding the user to complete job posting fields. Please collect these 7 fields: Job Title, Job Description, Required Skills, Preferred Qualifications, Location, Work Mode, Salary Range. Ask one question at a time. If vague, follow up. Do not summarize or skip fields.";k.useEffect(()=>{var A;(A=I.current)==null||A.scrollIntoView({behavior:"smooth"})},[s]);const x=(A,N)=>{switch(A){case 402:return N==="zh"?"⚠️ API 服務需要付費或帳戶餘額不足。請檢查 OpenRouter 帳戶狀態和 API 金鑰是否有效。":"⚠️ API service requires payment or insufficient account balance. Please check your OpenRouter account status and API key validity.";case 401:return N==="zh"?"⚠️ API 金鑰無效或已過期。請檢查您的 OpenRouter API 金鑰。":"⚠️ Invalid or expired API key. Please check your OpenRouter API key.";case 429:return N==="zh"?"⚠️ API 請求次數超過限制。請稍後再試。":"⚠️ API rate limit exceeded. Please try again later.";case 500:return N==="zh"?"⚠️ API 服務暫時不可用。請稍後再試。":"⚠️ API service temporarily unavailable. Please try again later.";default:return N==="zh"?`⚠️ API 請求失敗 (狀態碼: ${A})。請稍後再試。`:`⚠️ API request failed (status: ${A}). Please try again later.`}},w=async A=>{var N,b,P,Ne;try{const tt=Xa.map(H=>`${N0[H][t]}: ${A[H]}`).join(`
`),ze=t==="zh"?`以下是公司職缺資訊，請產生一段 2~3 句的分析摘要，建議應徵人選特質或能力方向：
${tt}`:`Here is a job posting. Please generate a 2-3 sentence summary with recommended candidate traits and skills:
${tt}`,ne=await fetch(I0,{method:"POST",headers:{Authorization:`Bearer ${P0}`,"Content-Type":"application/json","HTTP-Referer":Ad,"X-Title":Cd},body:JSON.stringify({model:Sd,messages:[{role:"system",content:R},{role:"user",content:ze}],max_tokens:300})});if(!ne.ok)return console.error(`AI Analysis API Error: ${ne.status}`),t==="zh"?"(分析失敗，請稍後再試)":"(Analysis failed, please try again later)";const z=await ne.json();return((Ne=(P=(b=(N=z==null?void 0:z.choices)==null?void 0:N[0])==null?void 0:b.message)==null?void 0:P.content)==null?void 0:Ne.trim())||"(分析失敗)"}catch(tt){return console.error("AI Analysis Error:",tt),t==="zh"?"(分析失敗，請稍後再試)":"(Analysis failed, please try again later)"}},T=async()=>{var b,P,Ne,tt;if(!n.trim()||g)return;const A=n.trim(),N=[...s,{role:"user",content:A}];i(N),r(""),y(!0);try{const ze=await fetch(I0,{method:"POST",headers:{Authorization:`Bearer ${P0}`,"Content-Type":"application/json","HTTP-Referer":Ad,"X-Title":Cd},body:JSON.stringify({model:Sd,messages:[{role:"system",content:R},...N.map(Z=>({role:Z.role,content:Z.content}))],max_tokens:300,temperature:.5})});if(!ze.ok){const Z=x(ze.status,t);i(se=>[...se,{role:"assistant",content:Z}]);return}const ne=await ze.json(),z=((tt=(Ne=(P=(b=ne==null?void 0:ne.choices)==null?void 0:b[0])==null?void 0:P.message)==null?void 0:Ne.content)==null?void 0:tt.trim())||"(無回應)";i(Z=>[...Z,{role:"assistant",content:z}]);const H=Xa.find(Z=>!o[Z]);if(H&&a(Z=>({...Z,[H]:A})),Xa.every(Z=>o[Z]||Z===H&&A)&&!d){f(!0);const Z={...o,[H]:A};try{await qk(Hw(rE,"jobs"),{...Z,createdAt:Le.now()});const se=Xa.map(Tt=>`🔹 ${N0[Tt][t]}：${Z[Tt]}`).join(`
`),me=t==="zh"?"📄 職缺資料已成功儲存至 Firebase ✅":"📄 Job data has been saved to Firebase ✅",Qt=await w(Z),Xt=t==="zh"?"📊 分析報告摘要":"📊 Summary";i(Tt=>[...Tt,{role:"assistant",content:`${me}

${se}

${Xt}
${Qt}`}]),c(!0)}catch(se){console.error("Firebase Upload Error:",se),i(me=>[...me,{role:"assistant",content:t==="zh"?"⚠️ 儲存資料時發生錯誤，請稍後再試。":"⚠️ Error saving data. Please try again later."}])}}}catch(ze){console.error("API Error:",ze);const ne=t==="zh"?`⚠️ 網路連線錯誤，請檢查網路連線後再試。(${ze instanceof Error?ze.message:"Unknown error"})`:`⚠️ Network connection error. Please check your connection and try again. (${ze instanceof Error?ze.message:"Unknown error"})`;i(z=>[...z,{role:"assistant",content:ne}])}finally{y(!1)}},D=A=>{A.key==="Enter"&&!A.shiftKey&&(A.preventDefault(),T())},V=A=>{E(A)},L=()=>{E(d?"/company/jobs":"/company/register")},S=()=>{E("/company/matching")},v=()=>{E("/company/jobs")},C=()=>{E("/company/settings")};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-gray-100 to-gray-200",children:[h.jsxs("header",{className:"sticky top-0 bg-white shadow-md z-10 p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("button",{onClick:L,className:"text-gray-600 hover:text-gray-800 flex items-center transition-colors",children:[h.jsx(v1,{className:"mr-1"}),t==="zh"?"返回":"Back"]}),h.jsx("h1",{className:"text-3xl font-bold text-gray-800 text-center flex-1",children:"TalenTag AI"}),h.jsxs("div",{className:"w-12 text-right",children:[h.jsx("button",{onClick:()=>e("zh"),className:t==="zh"?"font-bold":"",children:"繁中"})," / ",h.jsx("button",{onClick:()=>e("en"),className:t==="en"?"font-bold":"",children:"EN"})]})]}),h.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[h.jsxs("button",{onClick:()=>V("/company/dashboard"),className:"flex items-center gap-1 px-3 py-1 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",children:[h.jsx(qC,{size:16}),t==="zh"?"儀表板":"Dashboard"]}),h.jsxs("button",{onClick:v,className:"flex items-center gap-1 px-3 py-1 rounded-full bg-green-50 text-green-600 hover:bg-green-100 transition-colors",children:[h.jsx($C,{size:16}),t==="zh"?"職缺管理":"Jobs"]}),h.jsxs("button",{onClick:S,className:"flex items-center gap-1 px-3 py-1 rounded-full bg-purple-50 text-purple-600 hover:bg-purple-100 transition-colors",children:[h.jsx(YC,{size:16}),t==="zh"?"人才配對":"Matching"]}),h.jsxs("button",{onClick:C,className:"flex items-center gap-1 px-3 py-1 rounded-full bg-gray-50 text-gray-600 hover:bg-gray-100 transition-colors",children:[h.jsx(Kf,{size:16}),t==="zh"?"設定":"Settings"]})]})]}),h.jsx("main",{className:"flex-1 overflow-auto px-4 py-6 max-w-3xl w-full mx-auto",children:h.jsxs("div",{className:"flex flex-col gap-3",children:[s.map((A,N)=>h.jsx("div",{className:`p-3 max-w-[75%] rounded-xl shadow-md whitespace-pre-wrap transition-all duration-300 ${A.role==="user"?"bg-blue-100 text-blue-900 self-end rounded-br-none":"bg-white text-gray-800 self-start rounded-bl-none"}`,children:A.content},N)),h.jsx("div",{ref:I})]})}),h.jsx("div",{className:"sticky bottom-0 bg-white p-4 shadow-inner",children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx("textarea",{value:n,onChange:A=>r(A.target.value),onKeyDown:D,placeholder:t==="zh"?"輸入訊息...":"Enter your message...",className:"flex-1 border border-gray-300 rounded-xl px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400 resize-none",rows:2,disabled:g}),h.jsx("button",{onClick:T,disabled:g,className:`bg-blue-500 text-white px-6 py-2 rounded-full transition ${g?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:g?t==="zh"?"處理中...":"Processing...":t==="zh"?"發送":"Send"})]})}),u&&d&&h.jsxs("div",{className:"p-4 bg-transparent text-center space-y-2",children:[h.jsx("button",{onClick:S,className:"bg-green-500 text-white font-semibold py-2 px-6 rounded-full shadow-md hover:bg-green-600 transition w-full max-w-xs",children:t==="zh"?"開始人才配對":"Start Talent Matching"}),h.jsx("button",{onClick:v,className:"bg-blue-500 text-white font-semibold py-2 px-6 rounded-full shadow-md hover:bg-blue-600 transition w-full max-w-xs",children:t==="zh"?"查看已發布職缺":"View Posted Jobs"})]})]})},Xk=()=>{const t=mt(),[e,n]=k.useState(null),[r,s]=k.useState(!0);k.useEffect(()=>{(async()=>{var a;try{const u=Vk(Hw(rE,"jobs"),Mk("createdAt","desc"),Lk(1)),d=(a=(await Wk(u)).docs[0])==null?void 0:a.data();n(d)}catch(u){console.error("無法載入職缺資料：",u)}finally{s(!1)}})()},[]);const i=()=>{t("/company/talent-matching")};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-100 to-gray-200 flex flex-col items-center justify-center p-6",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"AI 分析結果"}),h.jsx("p",{className:"text-gray-600 text-lg",children:"根據您與 AI 的對話，我們為您準備了以下建議"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 max-w-2xl w-full mb-10 border border-gray-200",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"📄 職缺資訊"}),r?h.jsx("p",{className:"text-gray-500",children:"載入中..."}):e?h.jsxs(h.Fragment,{children:[h.jsxs("p",{className:"text-gray-700 mb-1",children:["🔹 職缺名稱：",e.title]}),h.jsxs("p",{className:"text-gray-700 mb-1",children:["🔹 技能需求：",e.skills]}),h.jsxs("p",{className:"text-gray-700 mb-1",children:["🔹 工作地點：",e.location]})]}):h.jsx("p",{className:"text-red-500",children:"未找到最新職缺資料"})]}),h.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 max-w-2xl w-full mb-10 border border-gray-200",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"📊 分析報告摘要"}),r?h.jsx("p",{className:"text-gray-500",children:"載入中..."}):e!=null&&e.analysis?h.jsx("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.analysis}):h.jsx("p",{className:"text-gray-400",children:"尚無分析摘要。"})]}),h.jsxs("button",{onClick:i,className:"bg-blue-600 hover:bg-blue-700 text-white text-lg font-semibold py-3 px-6 rounded-full shadow-md flex items-center transition duration-300 group",children:[h.jsx("span",{children:"開始人才配對"}),h.jsx("svg",{className:"w-5 h-5 ml-2 transform group-hover:translate-x-1 transition",fill:"none",stroke:"currentColor",strokeWidth:2,viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})]})]})},Yk=({candidate:t,onMessage:e,onSave:n,onNext:r,onPrev:s})=>h.jsxs("div",{className:"w-full bg-white rounded-lg overflow-hidden relative",children:[h.jsxs("div",{className:"flex flex-col md:flex-row",children:[h.jsx("div",{className:"w-full md:w-2/5 h-96",children:h.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"w-full md:w-3/5 p-6",children:[h.jsx("div",{className:"bg-[#0039CB] text-white py-2 px-4 mb-4 rounded-md",children:h.jsxs("h2",{className:"text-xl font-bold",children:[t.school," ",t.major," ",t.year]})}),h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((i,o)=>h.jsxs("span",{className:"bg-gray-100 text-[#2D439B] px-3 py-1 rounded-full text-sm",children:["#",i]},o))}),h.jsxs("div",{className:"bg-[#0039CB]/10 p-4 rounded-md",children:[h.jsx("h3",{className:"text-lg font-semibold text-[#0039CB] mb-2",children:"實際經驗"}),h.jsx("ul",{className:"list-disc pl-5",children:t.experience.map((i,o)=>h.jsx("li",{className:"mb-1",children:i},o))})]})]}),h.jsxs("div",{className:"flex space-x-4 mt-auto",children:[h.jsxs(_t,{variant:"primary",onClick:()=>e(t.id),className:"flex-1",children:[h.jsx(A1,{size:18,className:"mr-2"}),"傳訊息"]}),h.jsxs(_t,{variant:"outline",onClick:()=>n(t.id),className:"flex-1",children:[h.jsx(Hf,{size:18,className:"mr-2"}),"儲存"]})]})]})]}),h.jsx("div",{className:"absolute top-1/2 left-0 -translate-y-1/2 flex items-center justify-center",children:h.jsx("button",{onClick:s,className:"bg-white/80 p-3 rounded-full shadow-md text-[#2D439B] hover:bg-white transition-all",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M15 18l-6-6 6-6"})}),h.jsx("span",{className:"font-medium",children:"下一位"})]})})}),h.jsx("div",{className:"absolute top-1/2 right-0 -translate-y-1/2 flex items-center justify-center",children:h.jsx("button",{onClick:r,className:"bg-white/80 p-3 rounded-full shadow-md text-[#2D439B] hover:bg-white transition-all",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{className:"font-medium",children:"上一位"}),h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:h.jsx("path",{d:"M9 18l6-6-6-6"})})]})})})]}),Jk=()=>{const t=mt(),{candidateData:e,setSavedCandidates:n,setCurrentPage:r}=un(),[s,i]=k.useState(0),o=g=>{r("chatWithCandidate"),t("/company/chat-with-candidate")},a=g=>{const y=e.find(E=>E.id===g);y&&n(E=>[...E,y])},u=()=>{i(g=>g===0?e.length-1:g-1)},c=()=>{i(g=>g===e.length-1?0:g+1)},d=()=>{r("chatWithCandidate"),t("/company/chat-with-candidate")},f=()=>{r("savedCandidates"),t("/company/saved-candidates")};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[h.jsx("div",{className:"py-4 px-6 border-b border-gray-200 flex justify-center",children:h.jsx(zn,{size:"medium"})}),h.jsx("div",{className:"flex-1 px-4 py-8 overflow-hidden",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"bg-[#2D439B] text-white p-4 rounded-lg mb-6",children:h.jsxs("h2",{className:"text-xl font-bold",children:["以下為您推薦的 ",e.length," 位人選，依照適配度高低排序。"]})}),e.length>0&&h.jsx(Yk,{candidate:e[s],onMessage:o,onSave:a,onNext:c,onPrev:u})]})}),h.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:h.jsxs("div",{className:"max-w-4xl mx-auto flex justify-around",children:[h.jsxs("button",{onClick:d,className:"flex flex-col items-center px-6 py-2 text-[#2D439B] hover:bg-[#2D439B]/10 rounded-lg transition-colors",children:[h.jsx(rd,{size:24}),h.jsx("span",{className:"mt-1 text-sm font-medium",children:"訊息"})]}),h.jsxs("button",{onClick:f,className:"flex flex-col items-center px-6 py-2 text-[#2D439B] hover:bg-[#2D439B]/10 rounded-lg transition-colors",children:[h.jsx(Hf,{size:24}),h.jsx("span",{className:"mt-1 text-sm font-medium",children:"已儲存"})]})]})})]})},Zk=({message:t,isUser:e=!1,timestamp:n})=>h.jsx("div",{className:`mb-4 ${e?"flex justify-end":"flex justify-start"}`,children:h.jsxs("div",{className:`
        max-w-[80%] px-4 py-3 rounded-2xl
        ${e?"bg-gray-200 text-gray-800":"bg-[#2D439B] text-white"}
      `,children:[h.jsx("p",{className:"text-base",children:t}),n&&h.jsx("p",{className:`text-xs mt-1 ${e?"text-gray-500":"text-gray-300"}`,children:n})]})}),eb=()=>{const t=mt(),{candidateData:e,setCurrentPage:n}=un(),r=k.useRef(null),[s,i]=k.useState([{text:"您好！我對貴公司的職位很感興趣。我有使用Premiere的經驗，也做過幾個TikTok短片專案。",isUser:!1}]),[o,a]=k.useState("");k.useEffect(()=>{var f;(f=r.current)==null||f.scrollIntoView({behavior:"smooth"})},[s]);const u=()=>{o.trim()&&(i(f=>[...f,{text:o,isUser:!0}]),a(""),setTimeout(()=>{i(f=>[...f,{text:"謝謝您的回覆！我在上一個專案中學習了很多關於短影音製作的技巧，希望有機會能為貴公司帶來新的創意。",isUser:!1}])},1500))},c=f=>{f.key==="Enter"&&!f.shiftKey&&(f.preventDefault(),u())},d=()=>{n("candidateView"),t("/company/candidate-view")};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[h.jsxs("div",{className:"py-3 px-4 border-b border-gray-200 flex items-center",children:[h.jsx("button",{onClick:d,className:"p-2 rounded-full hover:bg-gray-100 transition-colors",children:h.jsx(v1,{size:20,className:"text-gray-700"})}),h.jsxs("div",{className:"flex items-center ml-4",children:[h.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-gray-200 mr-3",children:e.length>0?h.jsx("img",{src:e[0].imageUrl,alt:"Profile",className:"w-full h-full object-cover"}):h.jsx("div",{className:"w-full h-full flex items-center justify-center",children:h.jsx(Gf,{size:20,className:"text-gray-400"})})}),h.jsxs("div",{children:[h.jsx("h2",{className:"font-medium",children:e.length>0?e[0].name:"應徵者"}),h.jsx("p",{className:"text-xs text-gray-500",children:e.length>0?`${e[0].school} ${e[0].major}`:"學生"})]})]})]}),h.jsx("div",{className:"flex-1 px-4 py-4 overflow-y-auto bg-gray-50",children:h.jsx("div",{className:"max-w-xl mx-auto",children:h.jsxs("div",{className:"space-y-4",children:[s.map((f,g)=>h.jsx(Zk,{message:f.text,isUser:f.isUser},g)),h.jsx("div",{ref:r})]})})}),h.jsx("div",{className:"border-t border-gray-200 px-4 py-3 bg-white",children:h.jsxs("div",{className:"max-w-xl mx-auto flex",children:[h.jsx("textarea",{value:o,onChange:f=>a(f.target.value),onKeyPress:c,placeholder:"輸入訊息...",className:"flex-1 resize-none border border-gray-300 rounded-l-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-[#2D439B]/40",rows:1}),h.jsx("button",{onClick:u,className:"bg-[#2D439B] text-white px-4 rounded-r-lg flex items-center justify-center hover:bg-[#3A51B1] transition-colors",children:h.jsx(A1,{size:20})})]})})]})},tb=()=>{const t=mt(),{studentFormData:e,setStudentFormData:n,setCurrentPage:r}=un(),[s,i]=k.useState({name:e.name||"",school:e.school||"",major:e.major||"",year:e.year||"",email:e.email||"",phone:e.phone||"",password:e.password||""}),o=u=>{const{name:c,value:d}=u.target;i(f=>({...f,[c]:d}))},a=u=>{u.preventDefault(),n(s),r("resumeCompletion"),t("/student/resume-completion")};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[h.jsx("div",{className:"py-4 px-6 flex justify-center",children:h.jsx(zn,{size:"medium"})}),h.jsx("div",{className:"flex-1 px-4 py-8 max-w-xl mx-auto w-full",children:h.jsxs("form",{onSubmit:a,className:"space-y-4",children:[h.jsx(We,{label:"姓名",placeholder:"請輸入您的姓名",name:"name",value:s.name,onChange:o,required:!0}),h.jsx(We,{label:"學校",placeholder:"請輸入您的學校",name:"school",value:s.school,onChange:o,required:!0}),h.jsx(We,{label:"科系",placeholder:"請輸入您的科系",name:"major",value:s.major,onChange:o,required:!0}),h.jsx(We,{label:"年級",placeholder:"請輸入您的年級",name:"year",value:s.year,onChange:o,required:!0}),h.jsx(We,{label:"電子郵件",type:"email",placeholder:"請輸入您的電子郵件",name:"email",value:s.email,onChange:o,required:!0}),h.jsx(We,{label:"手機號碼",placeholder:"請輸入您的手機號碼",name:"phone",value:s.phone,onChange:o}),h.jsx(We,{label:"設定密碼 / 第三方登入",type:"password",placeholder:"設定密碼或選擇第三方登入",name:"password",value:s.password,onChange:o,required:!0}),h.jsx("div",{className:"pt-4",children:h.jsxs(_t,{type:"submit",variant:"primary",size:"large",fullWidth:!0,children:[h.jsx("span",{className:"text-lg",children:"下一步"}),h.jsx(Dn,{className:"ml-2",size:20})]})})]})})]})},nb=()=>{const t=mt(),{setCurrentPage:e}=un(),n=()=>{e("careerObjectives"),t("/student/career-objectives")},r=()=>{e("skills"),t("/student/skills")},s=()=>{e("studentProjects"),t("/student/projects")};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"bg-[#2D439B] text-white rounded-xl p-6 mb-8",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"您的履歷完成度"}),h.jsx("div",{className:"relative h-2 bg-white/30 rounded-full mb-4",children:h.jsx("div",{className:"absolute left-0 top-0 h-full w-[35%] bg-cyan-400 rounded-full"})}),h.jsx("p",{className:"text-white/90",children:"請補充以下資訊，提高您的適配機會："})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-white rounded-lg p-4 flex items-center",children:[h.jsx("div",{className:"w-8 h-8 bg-[#2D439B]/10 rounded-full flex items-center justify-center mr-4",children:h.jsx("svg",{className:"w-5 h-5 text-[#2D439B]",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h2",{className:"font-semibold",children:"基本資料"}),h.jsx("p",{className:"text-green-600 text-sm",children:"已完成"})]})]}),h.jsxs("button",{onClick:n,className:"w-full bg-white rounded-lg p-4 flex items-center hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-4",children:h.jsx("span",{className:"text-gray-500 font-medium",children:"2"})}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("h2",{className:"font-semibold",children:"求職動機和期望發展方向"}),h.jsx("p",{className:"text-amber-600 text-sm",children:"尚未完成"})]}),h.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),h.jsxs("button",{onClick:r,className:"w-full bg-white rounded-lg p-4 flex items-center hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-4",children:h.jsx("span",{className:"text-gray-500 font-medium",children:"3"})}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("h2",{className:"font-semibold",children:"技能與專長"}),h.jsx("p",{className:"text-amber-600 text-sm",children:"尚未完成"})]}),h.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]}),h.jsxs("button",{onClick:s,className:"w-full bg-white rounded-lg p-4 flex items-center hover:bg-gray-50 transition-colors",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center mr-4",children:h.jsx("span",{className:"text-gray-500 font-medium",children:"4"})}),h.jsxs("div",{className:"flex-1 text-left",children:[h.jsx("h2",{className:"font-semibold",children:"作品集與專案經驗"}),h.jsx("p",{className:"text-amber-600 text-sm",children:"尚未完成"})]}),h.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]}),h.jsx("button",{onClick:n,className:"w-full bg-[#2D439B] text-white py-4 rounded-lg mt-8 hover:bg-[#1E2F7B] transition-colors",children:"繼續填寫履歷"})]})})},rb=()=>{const t=mt(),{studentFormData:e,setStudentFormData:n,setCurrentPage:r,setResumeCompletion:s}=un(),[i,o]=k.useState({careerObjective:e.careerObjective||"",desiredIndustry:e.desiredIndustry||"",expectations:e.expectations||""}),a=c=>{const{name:d,value:f}=c.target;o(g=>({...g,[d]:f}))},u=c=>{c.preventDefault(),console.log("Form submitted, saving data..."),n(d=>{console.log("Previous student data:",d);const f={...d,...i};return console.log("New student data:",f),f}),s(d=>{const f=Math.min(d+15,100);return console.log("Updated resume completion:",f),f}),console.log("Setting current page to studentSkills"),r("studentSkills"),console.log("Navigating to /student/skills"),t("/student/skills",{replace:!1})};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[h.jsx("div",{className:"py-4 px-6 border-b border-gray-200 flex justify-center",children:h.jsx(zn,{size:"medium"})}),h.jsxs("div",{className:"flex-1 px-4 py-8 max-w-xl mx-auto w-full",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsx("div",{className:"w-10 h-10 bg-[#2D439B] rounded-full flex items-center justify-center mr-3",children:h.jsx("span",{className:"text-white font-medium",children:"2"})}),h.jsx("h2",{className:"text-xl font-bold",children:"求職動機和期望發展方向"}),h.jsx("div",{className:"ml-auto",children:h.jsx(x1,{className:"text-green-500",size:24})})]}),h.jsxs("form",{onSubmit:u,className:"space-y-6",children:[h.jsx(We,{label:"您的求職動機",placeholder:"請描述您為什麼想要應徵這個職位...",name:"careerObjective",value:i.careerObjective,onChange:a,multiline:!0,rows:4,required:!0}),h.jsx(We,{label:"期望的產業領域",placeholder:"例如：科技業、金融業...",name:"desiredIndustry",value:i.desiredIndustry,onChange:a,required:!0}),h.jsx(We,{label:"職涯發展期望",placeholder:"請描述您的職涯規劃和期望...",name:"expectations",value:i.expectations,onChange:a,multiline:!0,rows:4,required:!0}),h.jsx("div",{className:"pt-4",children:h.jsxs(_t,{type:"submit",variant:"primary",size:"large",fullWidth:!0,children:[h.jsx("span",{className:"text-lg",children:"下一步"}),h.jsx(Dn,{className:"ml-2",size:20})]})})]})]})]})},sb=()=>{console.log("SkillsPage rendered");const t=mt(),{studentFormData:e,setStudentFormData:n,setCurrentPage:r,setResumeCompletion:s}=un(),[i,o]=k.useState(e.skills||[]),[a,u]=k.useState(""),[c,d]=k.useState(e.softSkills||[]),[f,g]=k.useState(""),[y,E]=k.useState(e.languages||[]),[I,R]=k.useState(""),x=(L,S,v,C)=>{L.trim()&&!S.includes(L.trim())&&(v([...S,L.trim()]),C(""))},w=(L,S,v)=>{v(S.filter(C=>C!==L))},T=(L,S,v,C,A)=>{L.key==="Enter"&&(L.preventDefault(),x(S,v,C,A))},D=async L=>{L.preventDefault(),console.log("Form submitted"),await Promise.all([n(S=>({...S,skills:i,softSkills:c,languages:y})),s(S=>Math.min(S+15,100)),r("projects")]),console.log("Navigating to projects page"),t("/student/projects")},V=(L,S,v,C,A,N)=>h.jsxs("div",{className:"space-y-3",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700",children:L}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(We,{value:A,onChange:b=>N(b.target.value),onKeyPress:b=>T(b,A,v,C,N),placeholder:S}),h.jsx(_t,{type:"button",variant:"secondary",onClick:()=>x(A,v,C,N),children:h.jsx(S1,{size:20})})]}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:v.map(b=>h.jsxs("div",{className:"bg-blue-50 text-blue-700 px-3 py-1.5 rounded-full flex items-center text-sm",children:[h.jsx("span",{children:b}),h.jsx("button",{type:"button",onClick:()=>w(b,v,C),className:"ml-2 hover:text-blue-900",children:h.jsx(qs,{size:14})})]},b))})]});return h.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[h.jsx("div",{className:"py-4 px-6 border-b border-gray-200 flex justify-center",children:h.jsx(zn,{size:"medium"})}),h.jsxs("div",{className:"flex-1 px-4 py-8 max-w-xl mx-auto w-full",children:[h.jsxs("div",{className:"flex items-center mb-6",children:[h.jsx("div",{className:"w-10 h-10 bg-[#2D439B] rounded-full flex items-center justify-center mr-3",children:h.jsx("span",{className:"text-white font-medium",children:"3"})}),h.jsx("h2",{className:"text-xl font-bold",children:"技能與專長"}),h.jsx("div",{className:"ml-auto",children:h.jsx(x1,{className:"text-green-500",size:24})})]}),h.jsxs("form",{onSubmit:D,className:"space-y-8",children:[V("技術技能","輸入技術技能，例如：React、Python...",i,o,a,u),V("軟實力","輸入軟實力，例如：團隊合作、溝通能力...",c,d,f,g),V("語言能力","輸入語言能力，例如：英文 TOEIC 750、日文 N2...",y,E,I,R),h.jsx("div",{className:"pt-4",children:h.jsxs(_t,{type:"submit",variant:"primary",size:"large",fullWidth:!0,disabled:i.length===0&&c.length===0&&y.length===0,children:[h.jsx("span",{className:"text-lg",children:"下一步"}),h.jsx(Dn,{className:"ml-2",size:20})]})})]})]})]})},ib=()=>{const t=mt(),{studentFormData:e,setStudentFormData:n,setResumeCompletion:r}=un(),[s,i]=k.useState(e.projects||[]),[o,a]=k.useState({name:"",description:"",technologies:[]}),[u,c]=k.useState(""),d=x=>{const{name:w,value:T}=x.target;a(D=>({...D,[w]:T}))},f=()=>{u.trim()&&!o.technologies.includes(u.trim())&&(a(x=>({...x,technologies:[...x.technologies,u.trim()]})),c(""))},g=x=>{x.key==="Enter"&&(x.preventDefault(),f())},y=x=>{a(w=>({...w,technologies:w.technologies.filter(T=>T!==x)}))},E=()=>{o.name&&o.description&&(i([...s,o]),a({name:"",description:"",technologies:[]}))},I=x=>{i(s.filter((w,T)=>T!==x))},R=x=>{x.preventDefault(),(o.name||o.description)&&E(),n(w=>({...w,projects:s})),r(w=>Math.min(w+20,100)),t("/student/analysis")};return h.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsx("div",{className:"mb-8",children:h.jsx(zn,{size:"medium"})}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h1",{className:"text-2xl font-bold mb-6",children:"作品集與專案經驗"}),h.jsxs("div",{className:"space-y-6",children:[s.map((x,w)=>h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg relative",children:[h.jsx("button",{onClick:()=>I(w),className:"absolute top-2 right-2 text-gray-400 hover:text-gray-600",children:h.jsx(qs,{size:20})}),h.jsx("h3",{className:"font-semibold",children:x.name}),h.jsx("p",{className:"text-gray-600 text-sm mt-1",children:x.description}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:x.technologies.map(T=>h.jsx("span",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-full text-sm",children:T},T))})]},w)),h.jsxs("form",{className:"space-y-4",children:[h.jsx(We,{name:"name",value:o.name,onChange:d,placeholder:"專案名稱"}),h.jsx("textarea",{name:"description",value:o.description,onChange:d,placeholder:"專案描述",className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex gap-2 mb-2",children:[h.jsx(We,{value:u,onChange:x=>c(x.target.value),onKeyPress:g,placeholder:"使用的技術",className:"flex-1"}),h.jsx(_t,{type:"button",onClick:f,variant:"secondary",children:"添加"})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:o.technologies.map(x=>h.jsxs("div",{className:"bg-blue-50 text-blue-700 px-2 py-1 rounded-full flex items-center text-sm",children:[h.jsx("span",{children:x}),h.jsx("button",{type:"button",onClick:()=>y(x),className:"ml-1 hover:text-blue-900",children:h.jsx(qs,{size:14})})]},x))})]}),h.jsxs(_t,{type:"button",onClick:E,variant:"secondary",fullWidth:!0,disabled:!o.name||!o.description,children:[h.jsx(S1,{size:20,className:"mr-2"}),"添加專案"]})]}),h.jsx("div",{className:"pt-4",children:h.jsx(_t,{onClick:R,variant:"primary",fullWidth:!0,children:"完成"})})]})]})]})})},bm=k.createContext({});function zu(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const jm=typeof window<"u",Dm=jm?k.useLayoutEffect:k.useEffect,Uu=k.createContext(null);function Vm(t,e){t.indexOf(e)===-1&&t.push(e)}function Mm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const On=(t,e,n)=>n>e?e:n<t?t:n;let au=()=>{};const Fn={},sE=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iE(t){return typeof t=="object"&&t!==null}const oE=t=>/^0[^.\s]+$/u.test(t);function Lm(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ht=t=>t,ob=(t,e)=>n=>e(t(n)),oa=(...t)=>t.reduce(ob),Fo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Om{constructor(){this.subscriptions=[]}add(e){return Vm(this.subscriptions,e),()=>Mm(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yn=t=>t*1e3,vn=t=>t/1e3;function aE(t,e){return e?t*(1e3/e):0}const lE=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,ab=1e-7,lb=12;function ub(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=lE(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>ab&&++a<lb);return o}function aa(t,e,n,r){if(t===e&&n===r)return Ht;const s=i=>ub(i,0,1,t,n);return i=>i===0||i===1?i:lE(s(i),e,r)}const uE=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cE=t=>e=>1-t(1-e),hE=aa(.33,1.53,.69,.99),Fm=cE(hE),dE=uE(Fm),fE=t=>(t*=2)<1?.5*Fm(t):.5*(2-Math.pow(2,-10*(t-1))),Bm=t=>1-Math.sin(Math.acos(t)),mE=cE(Bm),pE=uE(Bm),cb=aa(.42,0,1,1),hb=aa(0,0,.58,1),gE=aa(.42,0,.58,1),db=t=>Array.isArray(t)&&typeof t[0]!="number",yE=t=>Array.isArray(t)&&typeof t[0]=="number",R0={linear:Ht,easeIn:cb,easeInOut:gE,easeOut:hb,circIn:Bm,circInOut:pE,circOut:mE,backIn:Fm,backInOut:dE,backOut:hE,anticipate:fE},fb=t=>typeof t=="string",k0=t=>{if(yE(t)){au(t.length===4);const[e,n,r,s]=t;return aa(e,n,r,s)}else if(fb(t))return au(R0[t]!==void 0),R0[t];return t},Ya=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],b0={value:null,addProjectionMetrics:null};function mb(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},u=0;function c(f){o.has(f)&&(d.schedule(f),t()),u++,f(a)}const d={schedule:(f,g=!1,y=!1)=>{const I=y&&s?n:r;return g&&o.add(f),I.has(f)||I.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(c),e&&b0.value&&b0.value.frameloop[e].push(u),u=0,n.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const pb=40;function vE(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=Ya.reduce((T,D)=>(T[D]=mb(i,e?D:void 0),T),{}),{setup:a,read:u,resolveKeyframes:c,preUpdate:d,update:f,preRender:g,render:y,postRender:E}=o,I=()=>{const T=Fn.useManualTiming?s.timestamp:performance.now();n=!1,Fn.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(T-s.timestamp,pb),1)),s.timestamp=T,s.isProcessing=!0,a.process(s),u.process(s),c.process(s),d.process(s),f.process(s),g.process(s),y.process(s),E.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(I))},R=()=>{n=!0,r=!0,s.isProcessing||t(I)};return{schedule:Ya.reduce((T,D)=>{const V=o[D];return T[D]=(L,S=!1,v=!1)=>(n||R(),V.schedule(L,S,v)),T},{}),cancel:T=>{for(let D=0;D<Ya.length;D++)o[Ya[D]].cancel(T)},state:s,steps:o}}const{schedule:Te,cancel:vr,state:Ge,steps:Xc}=vE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ht,!0);let xl;function gb(){xl=void 0}const Ct={now:()=>(xl===void 0&&Ct.set(Ge.isProcessing||Fn.useManualTiming?Ge.timestamp:performance.now()),xl),set:t=>{xl=t,queueMicrotask(gb)}},xE=t=>e=>typeof e=="string"&&e.startsWith(t),zm=xE("--"),yb=xE("var(--"),Um=t=>yb(t)?vb.test(t.split("/*")[0].trim()):!1,vb=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,di={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bo={...di,transform:t=>On(0,1,t)},Ja={...di,default:1},io=t=>Math.round(t*1e5)/1e5,$m=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xb(t){return t==null}const _b=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Wm=(t,e)=>n=>!!(typeof n=="string"&&_b.test(n)&&n.startsWith(t)||e&&!xb(n)&&Object.prototype.hasOwnProperty.call(n,e)),_E=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match($m);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},wb=t=>On(0,255,t),Yc={...di,transform:t=>Math.round(wb(t))},Or={test:Wm("rgb","red"),parse:_E("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Yc.transform(t)+", "+Yc.transform(e)+", "+Yc.transform(n)+", "+io(Bo.transform(r))+")"};function Eb(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Id={test:Wm("#"),parse:Eb,transform:Or.transform},la=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Hn=la("deg"),xn=la("%"),G=la("px"),Tb=la("vh"),Sb=la("vw"),j0={...xn,parse:t=>xn.parse(t)/100,transform:t=>xn.transform(t*100)},As={test:Wm("hsl","hue"),parse:_E("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xn.transform(io(e))+", "+xn.transform(io(n))+", "+io(Bo.transform(r))+")"},lt={test:t=>Or.test(t)||Id.test(t)||As.test(t),parse:t=>Or.test(t)?Or.parse(t):As.test(t)?As.parse(t):Id.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Or.transform(t):As.transform(t)},Ab=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Cb(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match($m))==null?void 0:e.length)||0)+(((n=t.match(Ab))==null?void 0:n.length)||0)>0}const wE="number",EE="color",Ib="var",Pb="var(",D0="${}",Nb=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zo(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(Nb,u=>(lt.test(u)?(r.color.push(i),s.push(EE),n.push(lt.parse(u))):u.startsWith(Pb)?(r.var.push(i),s.push(Ib),n.push(u)):(r.number.push(i),s.push(wE),n.push(parseFloat(u))),++i,D0)).split(D0);return{values:n,split:a,indexes:r,types:s}}function TE(t){return zo(t).values}function SE(t){const{split:e,types:n}=zo(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===wE?i+=io(s[o]):a===EE?i+=lt.transform(s[o]):i+=s[o]}return i}}const Rb=t=>typeof t=="number"?0:t;function kb(t){const e=TE(t);return SE(t)(e.map(Rb))}const xr={test:Cb,parse:TE,createTransformer:SE,getAnimatableNone:kb};function Jc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function bb({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,u=2*n-a;s=Jc(u,a,t+1/3),i=Jc(u,a,t),o=Jc(u,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function lu(t,e){return n=>n>0?e:t}const we=(t,e,n)=>t+(e-t)*n,Zc=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},jb=[Id,Or,As],Db=t=>jb.find(e=>e.test(t));function V0(t){const e=Db(t);if(!e)return!1;let n=e.parse(t);return e===As&&(n=bb(n)),n}const M0=(t,e)=>{const n=V0(t),r=V0(e);if(!n||!r)return lu(t,e);const s={...n};return i=>(s.red=Zc(n.red,r.red,i),s.green=Zc(n.green,r.green,i),s.blue=Zc(n.blue,r.blue,i),s.alpha=we(n.alpha,r.alpha,i),Or.transform(s))},Pd=new Set(["none","hidden"]);function Vb(t,e){return Pd.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Mb(t,e){return n=>we(t,e,n)}function qm(t){return typeof t=="number"?Mb:typeof t=="string"?Um(t)?lu:lt.test(t)?M0:Fb:Array.isArray(t)?AE:typeof t=="object"?lt.test(t)?M0:Lb:lu}function AE(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>qm(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function Lb(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=qm(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function Ob(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const Fb=(t,e)=>{const n=xr.createTransformer(e),r=zo(t),s=zo(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Pd.has(t)&&!s.values.length||Pd.has(e)&&!r.values.length?Vb(t,e):oa(AE(Ob(r,s),s.values),n):lu(t,e)};function CE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?we(t,e,n):qm(t)(t,e)}const Bb=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Te.update(e,n),stop:()=>vr(e),now:()=>Ge.isProcessing?Ge.timestamp:Ct.now()}},IE=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},uu=2e4;function Hm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<uu;)e+=n,r=t.next(e);return e>=uu?1/0:e}function zb(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Hm(r),uu);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:vn(s)}}const Ub=5;function PE(t,e,n){const r=Math.max(e-Ub,0);return aE(n-t(r),e-r)}const Ie={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},eh=.001;function $b({duration:t=Ie.duration,bounce:e=Ie.bounce,velocity:n=Ie.velocity,mass:r=Ie.mass}){let s,i,o=1-e;o=On(Ie.minDamping,Ie.maxDamping,o),t=On(Ie.minDuration,Ie.maxDuration,vn(t)),o<1?(s=c=>{const d=c*o,f=d*t,g=d-n,y=Nd(c,o),E=Math.exp(-f);return eh-g/y*E},i=c=>{const f=c*o*t,g=f*n+n,y=Math.pow(o,2)*Math.pow(c,2)*t,E=Math.exp(-f),I=Nd(Math.pow(c,2),o);return(-s(c)+eh>0?-1:1)*((g-y)*E)/I}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-eh+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,u=qb(s,i,a);if(t=yn(t),isNaN(u))return{stiffness:Ie.stiffness,damping:Ie.damping,duration:t};{const c=Math.pow(u,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const Wb=12;function qb(t,e,n){let r=n;for(let s=1;s<Wb;s++)r=r-t(r)/e(r);return r}function Nd(t,e){return t*Math.sqrt(1-e*e)}const Hb=["duration","bounce"],Kb=["stiffness","damping","mass"];function L0(t,e){return e.some(n=>t[n]!==void 0)}function Gb(t){let e={velocity:Ie.velocity,stiffness:Ie.stiffness,damping:Ie.damping,mass:Ie.mass,isResolvedFromDuration:!1,...t};if(!L0(t,Kb)&&L0(t,Hb))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*On(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Ie.mass,stiffness:s,damping:i}}else{const n=$b(t);e={...e,...n,mass:Ie.mass},e.isResolvedFromDuration=!0}return e}function cu(t=Ie.visualDuration,e=Ie.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:u,damping:c,mass:d,duration:f,velocity:g,isResolvedFromDuration:y}=Gb({...n,velocity:-vn(n.velocity||0)}),E=g||0,I=c/(2*Math.sqrt(u*d)),R=o-i,x=vn(Math.sqrt(u/d)),w=Math.abs(R)<5;r||(r=w?Ie.restSpeed.granular:Ie.restSpeed.default),s||(s=w?Ie.restDelta.granular:Ie.restDelta.default);let T;if(I<1){const V=Nd(x,I);T=L=>{const S=Math.exp(-I*x*L);return o-S*((E+I*x*R)/V*Math.sin(V*L)+R*Math.cos(V*L))}}else if(I===1)T=V=>o-Math.exp(-x*V)*(R+(E+x*R)*V);else{const V=x*Math.sqrt(I*I-1);T=L=>{const S=Math.exp(-I*x*L),v=Math.min(V*L,300);return o-S*((E+I*x*R)*Math.sinh(v)+V*R*Math.cosh(v))/V}}const D={calculatedDuration:y&&f||null,next:V=>{const L=T(V);if(y)a.done=V>=f;else{let S=V===0?E:0;I<1&&(S=V===0?yn(E):PE(T,V,L));const v=Math.abs(S)<=r,C=Math.abs(o-L)<=s;a.done=v&&C}return a.value=a.done?o:L,a},toString:()=>{const V=Math.min(Hm(D),uu),L=IE(S=>D.next(V*S).value,V,30);return V+"ms "+L},toTransition:()=>{}};return D}cu.applyToOptions=t=>{const e=zb(t,100,cu);return t.ease=e.ease,t.duration=yn(e.duration),t.type="keyframes",t};function Rd({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:d}){const f=t[0],g={done:!1,value:f},y=v=>a!==void 0&&v<a||u!==void 0&&v>u,E=v=>a===void 0?u:u===void 0||Math.abs(a-v)<Math.abs(u-v)?a:u;let I=n*e;const R=f+I,x=o===void 0?R:o(R);x!==R&&(I=x-f);const w=v=>-I*Math.exp(-v/r),T=v=>x+w(v),D=v=>{const C=w(v),A=T(v);g.done=Math.abs(C)<=c,g.value=g.done?x:A};let V,L;const S=v=>{y(g.value)&&(V=v,L=cu({keyframes:[g.value,E(g.value)],velocity:PE(T,v,g.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return S(0),{calculatedDuration:null,next:v=>{let C=!1;return!L&&V===void 0&&(C=!0,D(v),S(v)),V!==void 0&&v>=V?L.next(v-V):(!C&&D(v),g)}}}function Qb(t,e,n){const r=[],s=n||Fn.mix||CE,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Ht:e;a=oa(u,a)}r.push(a)}return r}function Xb(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(au(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Qb(e,r,s),u=a.length,c=d=>{if(o&&d<t[0])return e[0];let f=0;if(u>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const g=Fo(t[f],t[f+1],d);return a[f](g)};return n?d=>c(On(t[0],t[i-1],d)):c}function Yb(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Fo(0,e,r);t.push(we(n,1,s))}}function Jb(t){const e=[0];return Yb(e,t.length-1),e}function Zb(t,e){return t.map(n=>n*e)}function ej(t,e){return t.map(()=>e||gE).splice(0,t.length-1)}function oo({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=db(r)?r.map(k0):k0(r),i={done:!1,value:e[0]},o=Zb(n&&n.length===e.length?n:Jb(e),t),a=Xb(o,e,{ease:Array.isArray(s)?s:ej(e,s)});return{calculatedDuration:t,next:u=>(i.value=a(u),i.done=u>=t,i)}}const tj=t=>t!==null;function Km(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(tj),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const nj={decay:Rd,inertia:Rd,tween:oo,keyframes:oo,spring:cu};function NE(t){typeof t.type=="string"&&(t.type=nj[t.type])}class Gm{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const rj=t=>t/100;class Qm extends Gm{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=(n=!0)=>{var r,s;if(n){const{motionValue:i}=this.options;i&&i.updatedAt!==Ct.now()&&this.tick(Ct.now())}this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NE(e);const{type:n=oo,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const u=n||oo;u!==oo&&typeof a[0]!="number"&&(this.mixKeyframes=oa(rj,CE(a[0],a[1])),a=[0,100]);const c=u({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=u({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=Hm(c));const{calculatedDuration:d}=c;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:u}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:d,repeat:f,repeatType:g,repeatDelay:y,type:E,onUpdate:I,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const x=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?x<0:x>s;this.currentTime=Math.max(x,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let T=this.currentTime,D=r;if(f){const v=Math.min(this.currentTime,s)/a;let C=Math.floor(v),A=v%1;!A&&v>=1&&(A=1),A===1&&C--,C=Math.min(C,f+1),!!(C%2)&&(g==="reverse"?(A=1-A,y&&(A-=y/a)):g==="mirror"&&(D=o)),T=On(0,1,A)*a}const V=w?{done:!1,value:d[0]}:D.next(T);i&&(V.value=i(V.value));let{done:L}=V;!w&&u!==null&&(L=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return S&&E!==Rd&&(V.value=Km(d,this.options,R,this.speed)),I&&I(V.value),S&&this.finish(),V}then(e,n){return this.finished.then(e,n)}get duration(){return vn(this.calculatedDuration)}get time(){return vn(this.currentTime)}set time(e){var n;e=yn(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ct.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=vn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=Bb,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ct.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function sj(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Fr=t=>t*180/Math.PI,kd=t=>{const e=Fr(Math.atan2(t[1],t[0]));return bd(e)},ij={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:kd,rotateZ:kd,skewX:t=>Fr(Math.atan(t[1])),skewY:t=>Fr(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},bd=t=>(t=t%360,t<0&&(t+=360),t),O0=kd,F0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),B0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),oj={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:F0,scaleY:B0,scale:t=>(F0(t)+B0(t))/2,rotateX:t=>bd(Fr(Math.atan2(t[6],t[5]))),rotateY:t=>bd(Fr(Math.atan2(-t[2],t[0]))),rotateZ:O0,rotate:O0,skewX:t=>Fr(Math.atan(t[4])),skewY:t=>Fr(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function jd(t){return t.includes("scale")?1:0}function Dd(t,e){if(!t||t==="none")return jd(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=oj,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=ij,s=a}if(!s)return jd(e);const i=r[e],o=s[1].split(",").map(lj);return typeof i=="function"?i(o):o[i]}const aj=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Dd(n,e)};function lj(t){return parseFloat(t.trim())}const fi=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],mi=new Set(fi),z0=t=>t===di||t===G,uj=new Set(["x","y","z"]),cj=fi.filter(t=>!uj.has(t));function hj(t){const e=[];return cj.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Wr={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Dd(e,"x"),y:(t,{transform:e})=>Dd(e,"y")};Wr.translateX=Wr.x;Wr.translateY=Wr.y;const qr=new Set;let Vd=!1,Md=!1,Ld=!1;function RE(){if(Md){const t=Array.from(qr).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=hj(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Md=!1,Vd=!1,qr.forEach(t=>t.complete(Ld)),qr.clear()}function kE(){qr.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Md=!0)})}function dj(){Ld=!0,kE(),RE(),Ld=!1}class Xm{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(qr.add(this),Vd||(Vd=!0,Te.read(kE),Te.resolveKeyframes(RE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}sj(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),qr.delete(this)}cancel(){this.state==="scheduled"&&(qr.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const fj=t=>t.startsWith("--");function mj(t,e,n){fj(e)?t.style.setProperty(e,n):t.style[e]=n}const pj=Lm(()=>window.ScrollTimeline!==void 0),gj={};function yj(t,e){const n=Lm(t);return()=>gj[e]??n()}const bE=yj(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qi=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,U0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qi([0,.65,.55,1]),circOut:qi([.55,0,1,.45]),backIn:qi([.31,.01,.66,-.59]),backOut:qi([.33,1.53,.69,.99])};function jE(t,e){if(t)return typeof t=="function"?bE()?IE(t,e):"ease-out":yE(t)?qi(t):Array.isArray(t)?t.map(n=>jE(n,e)||U0.easeOut):U0[t]}function vj(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:u}={},c=void 0){const d={[e]:n};u&&(d.offset=u);const f=jE(a,s);Array.isArray(f)&&(d.easing=f);const g={delay:r,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return c&&(g.pseudoElement=c),t.animate(d,g)}function DE(t){return typeof t=="function"&&"applyToOptions"in t}function xj({type:t,...e}){return DE(t)&&bE()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class _j extends Gm{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:u}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,au(typeof e.type!="string");const c=xj(e);this.animation=vj(n,r,s,c,i),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Km(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(d):mj(n,r,d),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return vn(Number(e))}get time(){return vn(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=yn(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&pj()?(this.animation.timeline=e,Ht):n(this)}}const VE={anticipate:fE,backInOut:dE,circInOut:pE};function wj(t){return t in VE}function Ej(t){typeof t.ease=="string"&&wj(t.ease)&&(t.ease=VE[t.ease])}const $0=10;class Tj extends _j{constructor(e){Ej(e),NE(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Qm({...o,autoplay:!1}),u=yn(this.finishedTime??this.time);n.setWithVelocity(a.sample(u-$0).value,a.sample(u).value,$0),a.stop()}}const W0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xr.test(t)||t==="0")&&!t.startsWith("url("));function Sj(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Aj(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=W0(s,e),a=W0(i,e);return!o||!a?!1:Sj(t)||(n==="spring"||DE(n))&&r}function Ym(t){return iE(t)&&"offsetHeight"in t}const Cj=new Set(["opacity","clipPath","filter","transform"]),Ij=Lm(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Pj(t){var c;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!Ym((c=e==null?void 0:e.owner)==null?void 0:c.current))return!1;const{onUpdate:a,transformTemplate:u}=e.owner.getProps();return Ij()&&n&&Cj.has(n)&&(n!=="transform"||!u)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Nj=40;class Rj extends Gm{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:u,motionValue:c,element:d,...f}){var E;super(),this.stop=()=>{var I,R;this._animation&&(this._animation.stop(),(I=this.stopTimeline)==null||I.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Ct.now();const g={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:u,motionValue:c,element:d,...f},y=(d==null?void 0:d.KeyframeResolver)||Xm;this.keyframeResolver=new y(a,(I,R,x)=>this.onKeyframesResolved(I,R,g,!x),u,c,d),(E=this.keyframeResolver)==null||E.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:u,isHandoff:c,onUpdate:d}=r;this.resolvedAt=Ct.now(),Aj(e,i,o,a)||((Fn.instantAnimations||!u)&&(d==null||d(Km(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Nj?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},y=!c&&Pj(g)?new Tj({...g,element:g.motionValue.owner.current}):new Qm(g);y.finished.then(()=>this.notifyFinished()).catch(Ht),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dj()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const kj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bj(t){const e=kj.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function ME(t,e,n=1){const[r,s]=bj(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return sE(o)?parseFloat(o):o}return Um(s)?ME(s,e,n+1):s}function Jm(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const LE=new Set(["width","height","top","left","right","bottom",...fi]),jj={test:t=>t==="auto",parse:t=>t},OE=t=>e=>e.test(t),FE=[di,G,xn,Hn,Sb,Tb,jj],q0=t=>FE.find(OE(t));function Dj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||oE(t):!0}const Vj=new Set(["brightness","contrast","saturate","opacity"]);function Mj(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match($m)||[];if(!r)return t;const s=n.replace(r,"");let i=Vj.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Lj=/\b([a-z-]*)\(.*?\)/gu,Od={...xr,getAnimatableNone:t=>{const e=t.match(Lj);return e?e.map(Mj).join(" "):t}},H0={...di,transform:Math.round},Oj={rotate:Hn,rotateX:Hn,rotateY:Hn,rotateZ:Hn,scale:Ja,scaleX:Ja,scaleY:Ja,scaleZ:Ja,skew:Hn,skewX:Hn,skewY:Hn,distance:G,translateX:G,translateY:G,translateZ:G,x:G,y:G,z:G,perspective:G,transformPerspective:G,opacity:Bo,originX:j0,originY:j0,originZ:G},Zm={borderWidth:G,borderTopWidth:G,borderRightWidth:G,borderBottomWidth:G,borderLeftWidth:G,borderRadius:G,radius:G,borderTopLeftRadius:G,borderTopRightRadius:G,borderBottomRightRadius:G,borderBottomLeftRadius:G,width:G,maxWidth:G,height:G,maxHeight:G,top:G,right:G,bottom:G,left:G,padding:G,paddingTop:G,paddingRight:G,paddingBottom:G,paddingLeft:G,margin:G,marginTop:G,marginRight:G,marginBottom:G,marginLeft:G,backgroundPositionX:G,backgroundPositionY:G,...Oj,zIndex:H0,fillOpacity:Bo,strokeOpacity:Bo,numOctaves:H0},Fj={...Zm,color:lt,backgroundColor:lt,outlineColor:lt,fill:lt,stroke:lt,borderColor:lt,borderTopColor:lt,borderRightColor:lt,borderBottomColor:lt,borderLeftColor:lt,filter:Od,WebkitFilter:Od},BE=t=>Fj[t];function zE(t,e){let n=BE(t);return n!==Od&&(n=xr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Bj=new Set(["auto","none","0"]);function zj(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!Bj.has(i)&&zo(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=zE(n,s)}class Uj extends Xm{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let c=e[u];if(typeof c=="string"&&(c=c.trim(),Um(c))){const d=ME(c,n.current);d!==void 0&&(e[u]=d),u===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!LE.has(r)||e.length!==2)return;const[s,i]=e,o=q0(s),a=q0(i);if(o!==a)if(z0(o)&&z0(a))for(let u=0;u<e.length;u++){const c=e[u];typeof c=="string"&&(e[u]=parseFloat(c))}else Wr[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Dj(e[s]))&&r.push(s);r.length&&zj(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Wr[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=Wr[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([u,c])=>{e.getValue(u).set(c)}),this.resolveNoneKeyframes()}}function $j(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const s=document.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const K0=30,Wj=t=>!isNaN(parseFloat(t));class qj{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=Ct.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const u of this.dependents)u.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ct.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Wj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Om);const r=this.events[e].add(n);return e==="change"?()=>{r(),Te.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ct.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>K0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,K0);return aE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ei(t,e){return new qj(t,e)}const UE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,{schedule:ep,cancel:iM}=vE(queueMicrotask,!1),Zt={x:!1,y:!1};function $E(){return Zt.x||Zt.y}function Hj(t){return t==="x"||t==="y"?Zt[t]?null:(Zt[t]=!0,()=>{Zt[t]=!1}):Zt.x||Zt.y?null:(Zt.x=Zt.y=!0,()=>{Zt.x=Zt.y=!1})}function WE(t,e){const n=$j(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function G0(t){return!(t.pointerType==="touch"||$E())}function Kj(t,e,n={}){const[r,s,i]=WE(t,n),o=a=>{if(!G0(a))return;const{target:u}=a,c=e(u,a);if(typeof c!="function"||!u)return;const d=f=>{G0(f)&&(c(f),u.removeEventListener("pointerleave",d))};u.addEventListener("pointerleave",d,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const qE=(t,e)=>e?t===e?!0:qE(t,e.parentElement):!1,tp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Gj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Qj(t){return Gj.has(t.tagName)||t.tabIndex!==-1}const _l=new WeakSet;function Q0(t){return e=>{e.key==="Enter"&&t(e)}}function th(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Xj=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Q0(()=>{if(_l.has(n))return;th(n,"down");const s=Q0(()=>{th(n,"up")}),i=()=>th(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function X0(t){return tp(t)&&!$E()}function Yj(t,e,n={}){const[r,s,i]=WE(t,n),o=a=>{const u=a.currentTarget;if(!X0(a))return;_l.add(u);const c=e(u,a),d=(y,E)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),_l.has(u)&&_l.delete(u),X0(y)&&typeof c=="function"&&c(y,{success:E})},f=y=>{d(y,u===window||u===document||n.useGlobalTarget||qE(u,y.target))},g=y=>{d(y,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",g,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Ym(a)&&(a.addEventListener("focus",c=>Xj(c,s)),!Qj(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function HE(t){return iE(t)&&"ownerSVGElement"in t}function Jj(t){return HE(t)&&t.tagName==="svg"}const dt=t=>!!(t&&t.getVelocity),Zj=[...FE,lt,xr],eD=t=>Zj.find(OE(t)),np=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class tD extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=Ym(r)&&r.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function nD({children:t,isPresent:e,anchorX:n}){const r=k.useId(),s=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=k.useContext(np);return k.useInsertionEffect(()=>{const{width:a,height:u,top:c,left:d,right:f}=i.current;if(e||!s.current||!a||!u)return;const g=n==="left"?`left: ${d}`:`right: ${f}`;s.current.dataset.motionPopId=r;const y=document.createElement("style");return o&&(y.nonce=o),document.head.appendChild(y),y.sheet&&y.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${a}px !important;
            height: ${u}px !important;
            ${g}px !important;
            top: ${c}px !important;
          }
        `),()=>{document.head.contains(y)&&document.head.removeChild(y)}},[e]),h.jsx(tD,{isPresent:e,childRef:s,sizeRef:i,children:k.cloneElement(t,{ref:s})})}const rD=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:i,mode:o,anchorX:a})=>{const u=zu(sD),c=k.useId();let d=!0,f=k.useMemo(()=>(d=!1,{id:c,initial:e,isPresent:n,custom:s,onExitComplete:g=>{u.set(g,!0);for(const y of u.values())if(!y)return;r&&r()},register:g=>(u.set(g,!1),()=>u.delete(g))}),[n,u,r]);return i&&d&&(f={...f}),k.useMemo(()=>{u.forEach((g,y)=>u.set(y,!1))},[n]),k.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=h.jsx(nD,{isPresent:n,anchorX:a,children:t})),h.jsx(Uu.Provider,{value:f,children:t})};function sD(){return new Map}function KE(t=!0){const e=k.useContext(Uu);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=k.useId();k.useEffect(()=>{if(t)return s(i)},[t]);const o=k.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const Za=t=>t.key||"";function Y0(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const GE=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:a="left"})=>{const[u,c]=KE(o),d=k.useMemo(()=>Y0(t),[t]),f=o&&!u?[]:d.map(Za),g=k.useRef(!0),y=k.useRef(d),E=zu(()=>new Map),[I,R]=k.useState(d),[x,w]=k.useState(d);Dm(()=>{g.current=!1,y.current=d;for(let V=0;V<x.length;V++){const L=Za(x[V]);f.includes(L)?E.delete(L):E.get(L)!==!0&&E.set(L,!1)}},[x,f.length,f.join("-")]);const T=[];if(d!==I){let V=[...d];for(let L=0;L<x.length;L++){const S=x[L],v=Za(S);f.includes(v)||(V.splice(L,0,S),T.push(S))}return i==="wait"&&T.length&&(V=T),w(Y0(V)),R(d),null}const{forceRender:D}=k.useContext(bm);return h.jsx(h.Fragment,{children:x.map(V=>{const L=Za(V),S=o&&!u?!1:d===x||f.includes(L),v=()=>{if(E.has(L))E.set(L,!0);else return;let C=!0;E.forEach(A=>{A||(C=!1)}),C&&(D==null||D(),w(y.current),o&&(c==null||c()),r&&r())};return h.jsx(rD,{isPresent:S,initial:!g.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,onExitComplete:S?void 0:v,anchorX:a,children:V},L)})})},QE=k.createContext({strict:!1}),J0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ti={};for(const t in J0)ti[t]={isEnabled:e=>J0[t].some(n=>!!e[n])};function iD(t){for(const e in t)ti[e]={...ti[e],...t[e]}}const oD=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function hu(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||oD.has(t)}let XE=t=>!hu(t);function aD(t){t&&(XE=e=>e.startsWith("on")?!hu(e):t(e))}try{aD(require("@emotion/is-prop-valid").default)}catch{}function lD(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(XE(s)||n===!0&&hu(s)||!e&&!hu(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function uD(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const $u=k.createContext({});function Wu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Uo(t){return typeof t=="string"||Array.isArray(t)}const rp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sp=["initial",...rp];function qu(t){return Wu(t.animate)||sp.some(e=>Uo(t[e]))}function YE(t){return!!(qu(t)||t.variants)}function cD(t,e){if(qu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Uo(n)?n:void 0,animate:Uo(r)?r:void 0}}return t.inherit!==!1?e:{}}function hD(t){const{initial:e,animate:n}=cD(t,k.useContext($u));return k.useMemo(()=>({initial:e,animate:n}),[Z0(e),Z0(n)])}function Z0(t){return Array.isArray(t)?t.join(" "):t}const dD=Symbol.for("motionComponentSymbol");function Cs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function fD(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Cs(n)&&(n.current=r))},[e])}const ip=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),mD="framerAppearId",JE="data-"+ip(mD),ZE=k.createContext({});function pD(t,e,n,r,s){var I,R;const{visualElement:i}=k.useContext($u),o=k.useContext(QE),a=k.useContext(Uu),u=k.useContext(np).reducedMotion,c=k.useRef(null);r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:u}));const d=c.current,f=k.useContext(ZE);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&gD(c.current,n,s,f);const g=k.useRef(!1);k.useInsertionEffect(()=>{d&&g.current&&d.update(n,a)});const y=n[JE],E=k.useRef(!!y&&!((I=window.MotionHandoffIsComplete)!=null&&I.call(window,y))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,y)));return Dm(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),ep.render(d.render),E.current&&d.animationState&&d.animationState.animateChanges())}),k.useEffect(()=>{d&&(!E.current&&d.animationState&&d.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var x;(x=window.MotionHandoffMarkAsComplete)==null||x.call(window,y)}),E.current=!1))}),d}function gD(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:u,layoutRoot:c,layoutCrossfade:d}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:eT(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&Cs(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:u,layoutRoot:c})}function eT(t){if(t)return t.options.allowProjection!==!1?t.projection:eT(t.parent)}function yD({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&iD(t);function i(a,u){let c;const d={...k.useContext(np),...a,layoutId:vD(a)},{isStatic:f}=d,g=hD(a),y=r(a,f);if(!f&&jm){xD();const E=_D(d);c=E.MeasureLayout,g.visualElement=pD(s,y,d,e,E.ProjectionNode)}return h.jsxs($u.Provider,{value:g,children:[c&&g.visualElement?h.jsx(c,{visualElement:g.visualElement,...d}):null,n(s,a,fD(y,g.visualElement,u),y,f,g.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=k.forwardRef(i);return o[dD]=s,o}function vD({layoutId:t}){const e=k.useContext(bm).id;return e&&t!==void 0?e+"-"+t:t}function xD(t,e){k.useContext(QE).strict}function _D(t){const{drag:e,layout:n}=ti;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const $o={};function wD(t){for(const e in t)$o[e]=t[e],zm(e)&&($o[e].isCSSVariable=!0)}function tT(t,{layout:e,layoutId:n}){return mi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$o[t]||t==="opacity")}const ED={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TD=fi.length;function SD(t,e,n){let r="",s=!0;for(let i=0;i<TD;i++){const o=fi[i],a=t[o];if(a===void 0)continue;let u=!0;if(typeof a=="number"?u=a===(o.startsWith("scale")?1:0):u=parseFloat(a)===0,!u||n){const c=UE(a,Zm[o]);if(!u){s=!1;const d=ED[o]||o;r+=`${d}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function op(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const u in e){const c=e[u];if(mi.has(u)){o=!0;continue}else if(zm(u)){s[u]=c;continue}else{const d=UE(c,Zm[u]);u.startsWith("origin")?(a=!0,i[u]=d):r[u]=d}}if(e.transform||(o||n?r.transform=SD(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:u="50%",originY:c="50%",originZ:d=0}=i;r.transformOrigin=`${u} ${c} ${d}`}}const ap=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nT(t,e,n){for(const r in e)!dt(e[r])&&!tT(r,n)&&(t[r]=e[r])}function AD({transformTemplate:t},e){return k.useMemo(()=>{const n=ap();return op(n,e,t),Object.assign({},n.vars,n.style)},[e])}function CD(t,e){const n=t.style||{},r={};return nT(r,n,t),Object.assign(r,AD(t,e)),r}function ID(t,e){const n={},r=CD(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const PD={offset:"stroke-dashoffset",array:"stroke-dasharray"},ND={offset:"strokeDashoffset",array:"strokeDasharray"};function RD(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?PD:ND;t[i.offset]=G.transform(-r);const o=G.transform(e),a=G.transform(n);t[i.array]=`${o} ${a}`}function rT(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},u,c,d){if(op(t,a,c),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&RD(f,s,i,o,!1)}const sT=()=>({...ap(),attrs:{}}),iT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function kD(t,e,n,r){const s=k.useMemo(()=>{const i=sT();return rT(i,e,iT(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};nT(i,t.style,t),s.style={...i,...s.style}}return s}const bD=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lp(t){return typeof t!="string"||t.includes("-")?!1:!!(bD.indexOf(t)>-1||/[A-Z]/u.test(t))}function jD(t=!1){return(n,r,s,{latestValues:i},o)=>{const u=(lp(n)?kD:ID)(r,i,o,n),c=lD(r,typeof n=="string",t),d=n!==k.Fragment?{...c,...u,ref:s}:{},{children:f}=r,g=k.useMemo(()=>dt(f)?f.get():f,[f]);return k.createElement(n,{...d,children:g})}}function ev(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function up(t,e,n,r){if(typeof e=="function"){const[s,i]=ev(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=ev(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function wl(t){return dt(t)?t.get():t}function DD({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:VD(n,r,s,t),renderState:e()}}const oT=t=>(e,n)=>{const r=k.useContext($u),s=k.useContext(Uu),i=()=>DD(t,e,r,s);return n?i():zu(i)};function VD(t,e,n,r){const s={},i=r(t,{});for(const g in i)s[g]=wl(i[g]);let{initial:o,animate:a}=t;const u=qu(t),c=YE(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;if(f&&typeof f!="boolean"&&!Wu(f)){const g=Array.isArray(f)?f:[f];for(let y=0;y<g.length;y++){const E=up(t,g[y]);if(E){const{transitionEnd:I,transition:R,...x}=E;for(const w in x){let T=x[w];if(Array.isArray(T)){const D=d?T.length-1:0;T=T[D]}T!==null&&(s[w]=T)}for(const w in I)s[w]=I[w]}}}return s}function cp(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(dt(r[o])||e.style&&dt(e.style[o])||tT(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const MD={useVisualState:oT({scrapeMotionValuesFromProps:cp,createRenderState:ap})};function aT(t,e,n){const r=cp(t,e,n);for(const s in t)if(dt(t[s])||dt(e[s])){const i=fi.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const LD={useVisualState:oT({scrapeMotionValuesFromProps:aT,createRenderState:sT})};function OD(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...lp(r)?LD:MD,preloadedFeatures:t,useRender:jD(s),createVisualElement:e,Component:r};return yD(o)}}function Wo(t,e,n){const r=t.getProps();return up(r,e,n!==void 0?n:r.custom,t)}const Fd=t=>Array.isArray(t);function FD(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ei(n))}function BD(t){return Fd(t)?t[t.length-1]||0:t}function hp(t,e){const n=Wo(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=BD(i[o]);FD(t,o,a)}}function zD(t){return!!(dt(t)&&t.add)}function Bd(t,e){const n=t.getValue("willChange");if(zD(n))return n.add(e);if(!n&&Fn.WillChange){const r=new Fn.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function lT(t){return t.props[JE]}const UD=t=>t!==null;function $D(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(UD),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return!i||r===void 0?s[i]:r}const WD={type:"spring",stiffness:500,damping:25,restSpeed:10},qD=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HD={type:"keyframes",duration:.8},KD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GD=(t,{keyframes:e})=>e.length>2?HD:mi.has(t)?t.startsWith("scale")?qD(e[1]):WD:KD;function QD({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:u,elapsed:c,...d}){return!!Object.keys(d).length}const dp=(t,e,n,r={},s,i)=>o=>{const a=Jm(r,t)||{},u=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-yn(u);const d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:g=>{e.set(g),a.onUpdate&&a.onUpdate(g)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};QD(a)||Object.assign(d,GD(t,d)),d.duration&&(d.duration=yn(d.duration)),d.repeatDelay&&(d.repeatDelay=yn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),(Fn.instantAnimations||Fn.skipAnimations)&&(f=!0,d.duration=0,d.delay=0),d.allowFlatten=!a.type&&!a.ease,f&&!i&&e.get()!==void 0){const g=$D(d.keyframes,a);if(g!==void 0){Te.update(()=>{d.onUpdate(g),d.onComplete()});return}}return a.isSync?new Qm(d):new Rj(d)};function XD({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function uT(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const u=[],c=s&&t.animationState&&t.animationState.getState()[s];for(const d in a){const f=t.getValue(d,t.latestValues[d]??null),g=a[d];if(g===void 0||c&&XD(c,d))continue;const y={delay:n,...Jm(i||{},d)},E=f.get();if(E!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===E&&!y.velocity)continue;let I=!1;if(window.MotionHandoffAnimation){const x=lT(t);if(x){const w=window.MotionHandoffAnimation(x,d,Te);w!==null&&(y.startTime=w,I=!0)}}Bd(t,d),f.start(dp(d,f,g,t.shouldReduceMotion&&LE.has(d)?{type:!1}:y,t,I));const R=f.animation;R&&u.push(R)}return o&&Promise.all(u).then(()=>{Te.update(()=>{o&&hp(t,o)})}),u}function zd(t,e,n={}){var u;const r=Wo(t,e,n.type==="exit"?(u=t.presenceContext)==null?void 0:u.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(uT(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:g}=s;return YD(t,e,d+c,f,g,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[c,d]=a==="beforeChildren"?[i,o]:[o,i];return c().then(()=>d())}else return Promise.all([i(),o(n.delay)])}function YD(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,u=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(JD).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(zd(c,e,{...i,delay:n+u(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function JD(t,e){return t.sortNodePosition(e)}function cT(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>zd(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=zd(t,e,n);else{const s=typeof e=="function"?Wo(t,e,n.custom):e;r=Promise.all(uT(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function hT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const ZD=sp.length;function dT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?dT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZD;n++){const r=sp[n],s=t.props[r];(Uo(s)||s===!1)&&(e[r]=s)}return e}const eV=[...rp].reverse(),tV=rp.length;function nV(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cT(t,n,r)))}function rV(t){let e=nV(t),n=tv(),r=!0;const s=u=>(c,d)=>{var g;const f=Wo(t,d,u==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(f){const{transition:y,transitionEnd:E,...I}=f;c={...c,...I,...E}}return c};function i(u){e=u(t)}function o(u){const{props:c}=t,d=dT(t.parent)||{},f=[],g=new Set;let y={},E=1/0;for(let R=0;R<tV;R++){const x=eV[R],w=n[x],T=c[x]!==void 0?c[x]:d[x],D=Uo(T),V=x===u?w.isActive:null;V===!1&&(E=R);let L=T===d[x]&&T!==c[x]&&D;if(L&&r&&t.manuallyAnimateOnMount&&(L=!1),w.protectedKeys={...y},!w.isActive&&V===null||!T&&!w.prevProp||Wu(T)||typeof T=="boolean")continue;const S=sV(w.prevProp,T);let v=S||x===u&&w.isActive&&!L&&D||R>E&&D,C=!1;const A=Array.isArray(T)?T:[T];let N=A.reduce(s(x),{});V===!1&&(N={});const{prevResolvedValues:b={}}=w,P={...b,...N},Ne=ne=>{v=!0,g.has(ne)&&(C=!0,g.delete(ne)),w.needsAnimating[ne]=!0;const z=t.getValue(ne);z&&(z.liveStyle=!1)};for(const ne in P){const z=N[ne],H=b[ne];if(y.hasOwnProperty(ne))continue;let Q=!1;Fd(z)&&Fd(H)?Q=!hT(z,H):Q=z!==H,Q?z!=null?Ne(ne):g.add(ne):z!==void 0&&g.has(ne)?Ne(ne):w.protectedKeys[ne]=!0}w.prevProp=T,w.prevResolvedValues=N,w.isActive&&(y={...y,...N}),r&&t.blockInitialAnimation&&(v=!1),v&&(!(L&&S)||C)&&f.push(...A.map(ne=>({animation:ne,options:{type:x}})))}if(g.size){const R={};if(typeof c.initial!="boolean"){const x=Wo(t,Array.isArray(c.initial)?c.initial[0]:c.initial);x&&x.transition&&(R.transition=x.transition)}g.forEach(x=>{const w=t.getBaseTarget(x),T=t.getValue(x);T&&(T.liveStyle=!0),R[x]=w??null}),f.push({animation:R})}let I=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(I=!1),r=!1,I?e(f):Promise.resolve()}function a(u,c){var f;if(n[u].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(g=>{var y;return(y=g.animationState)==null?void 0:y.setActive(u,c)}),n[u].isActive=c;const d=o(u);for(const g in n)n[g].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=tv(),r=!0}}}function sV(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!hT(e,t):!1}function Nr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function tv(){return{animate:Nr(!0),whileInView:Nr(),whileHover:Nr(),whileTap:Nr(),whileDrag:Nr(),whileFocus:Nr(),exit:Nr()}}class Sr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iV extends Sr{constructor(e){super(e),e.animationState||(e.animationState=rV(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Wu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oV=0;class aV extends Sr{constructor(){super(...arguments),this.id=oV++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const lV={animation:{Feature:iV},exit:{Feature:aV}};function qo(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ua(t){return{point:{x:t.pageX,y:t.pageY}}}const uV=t=>e=>tp(e)&&t(e,ua(e));function ao(t,e,n,r){return qo(t,e,uV(n),r)}function fT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function cV({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function hV(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const mT=1e-4,dV=1-mT,fV=1+mT,pT=.01,mV=0-pT,pV=0+pT;function vt(t){return t.max-t.min}function gV(t,e,n){return Math.abs(t-e)<=n}function nv(t,e,n,r=.5){t.origin=r,t.originPoint=we(e.min,e.max,t.origin),t.scale=vt(n)/vt(e),t.translate=we(n.min,n.max,t.origin)-t.originPoint,(t.scale>=dV&&t.scale<=fV||isNaN(t.scale))&&(t.scale=1),(t.translate>=mV&&t.translate<=pV||isNaN(t.translate))&&(t.translate=0)}function lo(t,e,n,r){nv(t.x,e.x,n.x,r?r.originX:void 0),nv(t.y,e.y,n.y,r?r.originY:void 0)}function rv(t,e,n){t.min=n.min+e.min,t.max=t.min+vt(e)}function yV(t,e,n){rv(t.x,e.x,n.x),rv(t.y,e.y,n.y)}function sv(t,e,n){t.min=e.min-n.min,t.max=t.min+vt(e)}function uo(t,e,n){sv(t.x,e.x,n.x),sv(t.y,e.y,n.y)}const iv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Is=()=>({x:iv(),y:iv()}),ov=()=>({min:0,max:0}),Re=()=>({x:ov(),y:ov()});function Ft(t){return[t("x"),t("y")]}function nh(t){return t===void 0||t===1}function Ud({scale:t,scaleX:e,scaleY:n}){return!nh(t)||!nh(e)||!nh(n)}function jr(t){return Ud(t)||gT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function gT(t){return av(t.x)||av(t.y)}function av(t){return t&&t!=="0%"}function du(t,e,n){const r=t-n,s=e*r;return n+s}function lv(t,e,n,r,s){return s!==void 0&&(t=du(t,s,r)),du(t,n,r)+e}function $d(t,e=0,n=1,r,s){t.min=lv(t.min,e,n,r,s),t.max=lv(t.max,e,n,r,s)}function yT(t,{x:e,y:n}){$d(t.x,e.translate,e.scale,e.originPoint),$d(t.y,n.translate,n.scale,n.originPoint)}const uv=.999999999999,cv=1.0000000000001;function vV(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ns(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,yT(t,o)),r&&jr(i.latestValues)&&Ns(t,i.latestValues))}e.x<cv&&e.x>uv&&(e.x=1),e.y<cv&&e.y>uv&&(e.y=1)}function Ps(t,e){t.min=t.min+e,t.max=t.max+e}function hv(t,e,n,r,s=.5){const i=we(t.min,t.max,s);$d(t,e,n,i,r)}function Ns(t,e){hv(t.x,e.x,e.scaleX,e.scale,e.originX),hv(t.y,e.y,e.scaleY,e.scale,e.originY)}function vT(t,e){return fT(hV(t.getBoundingClientRect(),e))}function xV(t,e,n){const r=vT(t,n),{scroll:s}=e;return s&&(Ps(r.x,s.offset.x),Ps(r.y,s.offset.y)),r}const xT=({current:t})=>t?t.ownerDocument.defaultView:null,dv=(t,e)=>Math.abs(t-e);function _V(t,e){const n=dv(t.x,e.x),r=dv(t.y,e.y);return Math.sqrt(n**2+r**2)}class _T{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=sh(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,y=_V(f.offset,{x:0,y:0})>=3;if(!g&&!y)return;const{point:E}=f,{timestamp:I}=Ge;this.history.push({...E,timestamp:I});const{onStart:R,onMove:x}=this.handlers;g||(R&&R(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=rh(g,this.transformPagePoint),Te.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:y,onSessionEnd:E,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=sh(f.type==="pointercancel"?this.lastMoveEventInfo:rh(g,this.transformPagePoint),this.history);this.startEvent&&y&&y(f,R),E&&E(f,R)},!tp(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=ua(e),a=rh(o,this.transformPagePoint),{point:u}=a,{timestamp:c}=Ge;this.history=[{...u,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,sh(a,this.history)),this.removeListeners=oa(ao(this.contextWindow,"pointermove",this.handlePointerMove),ao(this.contextWindow,"pointerup",this.handlePointerUp),ao(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),vr(this.updatePoint)}}function rh(t,e){return e?{point:e(t.point)}:t}function fv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function sh({point:t},e){return{point:t,delta:fv(t,wT(e)),offset:fv(t,wV(e)),velocity:EV(e,.1)}}function wV(t){return t[0]}function wT(t){return t[t.length-1]}function EV(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=wT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>yn(e)));)n--;if(!r)return{x:0,y:0};const i=vn(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function TV(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?we(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?we(n,t,r.max):Math.min(t,n)),t}function mv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function SV(t,{top:e,left:n,bottom:r,right:s}){return{x:mv(t.x,n,s),y:mv(t.y,e,r)}}function pv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function AV(t,e){return{x:pv(t.x,e.x),y:pv(t.y,e.y)}}function CV(t,e){let n=.5;const r=vt(t),s=vt(e);return s>r?n=Fo(e.min,e.max-r,t.min):r>s&&(n=Fo(t.min,t.max-s,e.min)),On(0,1,n)}function IV(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Wd=.35;function PV(t=Wd){return t===!1?t=0:t===!0&&(t=Wd),{x:gv(t,"left","right"),y:gv(t,"top","bottom")}}function gv(t,e,n){return{min:yv(t,e),max:yv(t,n)}}function yv(t,e){return typeof t=="number"?t:t[e]||0}const NV=new WeakMap;class RV{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Re(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ua(d).point)},i=(d,f)=>{const{drag:g,dragPropagation:y,onDragStart:E}=this.getProps();if(g&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Hj(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ft(R=>{let x=this.getAxisMotionValue(R).get()||0;if(xn.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const T=w.layout.layoutBox[R];T&&(x=vt(T)*(parseFloat(x)/100))}}this.originPoint[R]=x}),E&&Te.postRender(()=>E(d,f)),Bd(this.visualElement,"transform");const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:g,dragDirectionLock:y,onDirectionLock:E,onDrag:I}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:R}=f;if(y&&this.currentDirection===null){this.currentDirection=kV(R),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",f.point,R),this.updateAxis("y",f.point,R),this.visualElement.render(),I&&I(d,f)},a=(d,f)=>this.stop(d,f),u=()=>Ft(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new _T(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:xT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&Te.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!el(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=TV(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&Cs(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=SV(r.layoutBox,e):this.constraints=!1,this.elastic=PV(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ft(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=IV(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cs(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=xV(r,s.root,this.visualElement.getTransformPagePoint());let o=AV(s.layout.layoutBox,i);if(n){const a=n(cV(o));this.hasMutatedConstraints=!!a,a&&(o=fT(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=Ft(d=>{if(!el(d,n,this.currentDirection))return;let f=u&&u[d]||{};o&&(f={min:0,max:0});const g=s?200:1e6,y=s?40:1e7,E={type:"inertia",velocity:r?e[d]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,E)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Bd(this.visualElement,e),r.start(dp(e,r,0,n,this.visualElement,!1))}stopAnimation(){Ft(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ft(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ft(n=>{const{drag:r}=this.getProps();if(!el(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-we(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cs(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ft(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const u=a.get();s[o]=CV({min:u,max:u},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ft(o=>{if(!el(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(we(u,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;NV.set(this.visualElement,this);const e=this.visualElement.current,n=ao(e,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();Cs(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Te.read(r);const o=qo(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ft(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=u[d].translate,f.set(f.get()+u[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Wd,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function el(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function kV(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class bV extends Sr{constructor(e){super(e),this.removeGroupControls=Ht,this.removeListeners=Ht,this.controls=new RV(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ht}unmount(){this.removeGroupControls(),this.removeListeners()}}const vv=t=>(e,n)=>{t&&Te.postRender(()=>t(e,n))};class jV extends Sr{constructor(){super(...arguments),this.removePointerDownListener=Ht}onPointerDown(e){this.session=new _T(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:vv(e),onStart:vv(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&Te.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=ao(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const El={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Li={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(G.test(t))t=parseFloat(t);else return t;const n=xv(t,e.target.x),r=xv(t,e.target.y);return`${n}% ${r}%`}},DV={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=xr.parse(t);if(s.length>5)return r;const i=xr.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,u=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=u;const c=we(a,u,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class VV extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;wD(MV),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),El.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||Te.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ep.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ET(t){const[e,n]=KE(),r=k.useContext(bm);return h.jsx(VV,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(ZE),isPresent:e,safeToRemove:n})}const MV={borderRadius:{...Li,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Li,borderTopRightRadius:Li,borderBottomLeftRadius:Li,borderBottomRightRadius:Li,boxShadow:DV};function LV(t,e,n){const r=dt(t)?t:ei(t);return r.start(dp("",r,e,n)),r.animation}const OV=(t,e)=>t.depth-e.depth;class FV{constructor(){this.children=[],this.isDirty=!1}add(e){Vm(this.children,e),this.isDirty=!0}remove(e){Mm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(OV),this.isDirty=!1,this.children.forEach(e)}}function BV(t,e){const n=Ct.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(vr(r),t(i-e))};return Te.setup(r,!0),()=>vr(r)}const TT=["TopLeft","TopRight","BottomLeft","BottomRight"],zV=TT.length,_v=t=>typeof t=="string"?parseFloat(t):t,wv=t=>typeof t=="number"||G.test(t);function UV(t,e,n,r,s,i){s?(t.opacity=we(0,n.opacity??1,$V(r)),t.opacityExit=we(e.opacity??1,0,WV(r))):i&&(t.opacity=we(e.opacity??1,n.opacity??1,r));for(let o=0;o<zV;o++){const a=`border${TT[o]}Radius`;let u=Ev(e,a),c=Ev(n,a);if(u===void 0&&c===void 0)continue;u||(u=0),c||(c=0),u===0||c===0||wv(u)===wv(c)?(t[a]=Math.max(we(_v(u),_v(c),r),0),(xn.test(c)||xn.test(u))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=we(e.rotate||0,n.rotate||0,r))}function Ev(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const $V=ST(0,.5,mE),WV=ST(.5,.95,Ht);function ST(t,e,n){return r=>r<t?0:r>e?1:n(Fo(t,e,r))}function Tv(t,e){t.min=e.min,t.max=e.max}function Ot(t,e){Tv(t.x,e.x),Tv(t.y,e.y)}function Sv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Av(t,e,n,r,s){return t-=e,t=du(t,1/n,r),s!==void 0&&(t=du(t,1/s,r)),t}function qV(t,e=0,n=1,r=.5,s,i=t,o=t){if(xn.test(e)&&(e=parseFloat(e),e=we(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=we(i.min,i.max,r);t===i&&(a-=e),t.min=Av(t.min,e,n,a,s),t.max=Av(t.max,e,n,a,s)}function Cv(t,e,[n,r,s],i,o){qV(t,e[n],e[r],e[s],e.scale,i,o)}const HV=["x","scaleX","originX"],KV=["y","scaleY","originY"];function Iv(t,e,n,r){Cv(t.x,e,HV,n?n.x:void 0,r?r.x:void 0),Cv(t.y,e,KV,n?n.y:void 0,r?r.y:void 0)}function Pv(t){return t.translate===0&&t.scale===1}function AT(t){return Pv(t.x)&&Pv(t.y)}function Nv(t,e){return t.min===e.min&&t.max===e.max}function GV(t,e){return Nv(t.x,e.x)&&Nv(t.y,e.y)}function Rv(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function CT(t,e){return Rv(t.x,e.x)&&Rv(t.y,e.y)}function kv(t){return vt(t.x)/vt(t.y)}function bv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QV{constructor(){this.members=[]}add(e){Vm(this.members,e),e.scheduleRender()}remove(e){if(Mm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XV(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:d,rotateX:f,rotateY:g,skewX:y,skewY:E}=n;c&&(r=`perspective(${c}px) ${r}`),d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),g&&(r+=`rotateY(${g}deg) `),y&&(r+=`skewX(${y}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,u=t.y.scale*e.y;return(a!==1||u!==1)&&(r+=`scale(${a}, ${u})`),r||"none"}const ih=["","X","Y","Z"],YV={visibility:"hidden"},JV=1e3;let ZV=0;function oh(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function IT(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Te,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&IT(r)}function PT({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ZV++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(n4),this.nodes.forEach(a4),this.nodes.forEach(l4),this.nodes.forEach(r4)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new FV)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Om),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const u=this.eventHandlers.get(o);u&&u.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=HE(o)&&!Jj(o),this.instance=o;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||a)&&(this.isLayoutDirty=!0),t){let d;const f=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=BV(f,250),El.hasAnimatedSinceResize&&(El.hasAnimatedSinceResize=!1,this.nodes.forEach(Dv))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const E=this.options.transition||c.getDefaultTransition()||f4,{onLayoutAnimationStart:I,onLayoutAnimationComplete:R}=c.getProps(),x=!this.targetLayout||!CT(this.targetLayout,y),w=!f&&g;if(this.options.layoutRoot||this.resumeFrom||w||f&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,w);const T={...Jm(E,"layout"),onPlay:I,onComplete:R};(c.shouldReduceMotion||this.options.layoutRoot)&&(T.delay=0,T.type=!1),this.startAnimation(T)}else f||Dv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),vr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(u4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&IT(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:u}=this.options;if(a===void 0&&!u)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(jv);return}this.isUpdating||this.nodes.forEach(i4),this.isUpdating=!1,this.nodes.forEach(o4),this.nodes.forEach(e4),this.nodes.forEach(t4),this.clearAllSnapshots();const a=Ct.now();Ge.delta=On(0,1e3/60,a-Ge.timestamp),Ge.timestamp=a,Ge.isProcessing=!0,Xc.update.process(Ge),Xc.preRender.process(Ge),Xc.render.process(Ge),Ge.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ep.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(s4),this.sharedNodes.forEach(c4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Te.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Te.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!vt(this.snapshot.measuredBox.x)&&!vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Re(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!AT(this.projectionDelta),u=this.getTransformTemplate(),c=u?u(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||jr(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let u=this.removeElementScroll(a);return o&&(u=this.removeTransform(u)),m4(u),{animationId:this.root.animationId,measuredBox:a,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return Re();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(p4))){const{scroll:d}=this.root;d&&(Ps(a.x,d.offset.x),Ps(a.y,d.offset.y))}return a}removeElementScroll(o){var u;const a=Re();if(Ot(a,o),(u=this.scroll)!=null&&u.wasRoot)return a;for(let c=0;c<this.path.length;c++){const d=this.path[c],{scroll:f,options:g}=d;d!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Ot(a,o),Ps(a.x,f.offset.x),Ps(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const u=Re();Ot(u,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ns(u,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),jr(d.latestValues)&&Ns(u,d.latestValues)}return jr(this.latestValues)&&Ns(u,this.latestValues),u}removeTransform(o){const a=Re();Ot(a,o);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!jr(c.latestValues))continue;Ud(c.latestValues)&&c.updateSnapshot();const d=Re(),f=c.measurePageBox();Ot(d,f),Iv(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return jr(this.latestValues)&&Iv(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ge.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=Ge.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),uo(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Re(),this.targetWithTransforms=Re()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),yV(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ot(this.target,this.layout.layoutBox),yT(this.target,this.targetDelta)):Ot(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Re(),this.relativeTargetOrigin=Re(),uo(this.relativeTargetOrigin,this.target,y.target),Ot(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ud(this.parent.latestValues)||gT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ge.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;Ot(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;vV(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Re());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Sv(this.prevProjectionDelta.x,this.projectionDelta.x),Sv(this.prevProjectionDelta.y,this.projectionDelta.y)),lo(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!bv(this.projectionDelta.x,this.prevProjectionDelta.x)||!bv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Is(),this.projectionDelta=Is(),this.projectionDeltaWithTransform=Is()}setAnimationOrigin(o,a=!1){const u=this.snapshot,c=u?u.latestValues:{},d={...this.latestValues},f=Is();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const g=Re(),y=u?u.source:void 0,E=this.layout?this.layout.source:void 0,I=y!==E,R=this.getStack(),x=!R||R.members.length<=1,w=!!(I&&!x&&this.options.crossfade===!0&&!this.path.some(d4));this.animationProgress=0;let T;this.mixTargetDelta=D=>{const V=D/1e3;Vv(f.x,o.x,V),Vv(f.y,o.y,V),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(uo(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),h4(this.relativeTarget,this.relativeTargetOrigin,g,V),T&&GV(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Re()),Ot(T,this.relativeTarget)),I&&(this.animationValues=d,UV(d,c,this.latestValues,V,w,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,u,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(!1),(c=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||c.stop(!1),this.pendingAnimation&&(vr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Te.update(()=>{El.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ei(0)),this.currentAnimation=LV(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(JV),this.currentAnimation.stop(!1)),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:u,layout:c,latestValues:d}=o;if(!(!a||!u||!c)){if(this!==o&&this.layout&&c&&NT(this.options.animationType,this.layout.layoutBox,c.layoutBox)){u=this.target||Re();const f=vt(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+f;const g=vt(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}Ot(a,u),Ns(a,d),lo(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QV),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:u}={}){const c=this.getStack();c&&c.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(a=!0),!a)return;const c={};u.z&&oh("z",o,c,this.animationValues);for(let d=0;d<ih.length;d++)oh(`rotate${ih[d]}`,o,c,this.animationValues),oh(`skew${ih[d]}`,o,c,this.animationValues);o.render();for(const d in c)o.setStaticValue(d,c[d]),this.animationValues&&(this.animationValues[d]=c[d]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return YV;const a={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=wl(o==null?void 0:o.pointerEvents)||"",a.transform=u?u(this.latestValues,""):"none",a;const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=wl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!jr(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const d=c.animationValues||c.latestValues;this.applyTransformsToTarget(),a.transform=XV(this.projectionDeltaWithTransform,this.treeScale,d),u&&(a.transform=u(d,a.transform));const{x:f,y:g}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${g.origin*100}% 0`,c.animationValues?a.opacity=c===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=c===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const y in $o){if(d[y]===void 0)continue;const{correct:E,applyTo:I,isCSSVariable:R}=$o[y],x=a.transform==="none"?d[y]:E(d[y],c);if(I){const w=I.length;for(let T=0;T<w;T++)a[I[T]]=x}else R?this.options.visualElement.renderState.vars[y]=x:a[y]=x}return this.options.layoutId&&(a.pointerEvents=c===this?wl(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop(!1)}),this.root.nodes.forEach(jv),this.root.sharedNodes.clear()}}}function e4(t){t.updateLayout()}function t4(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Ft(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],y=vt(g);g.min=r[f].min,g.max=g.min+y}):NT(i,e.layoutBox,r)&&Ft(f=>{const g=o?e.measuredBox[f]:e.layoutBox[f],y=vt(r[f]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+y)});const a=Is();lo(a,r,e.layoutBox);const u=Is();o?lo(u,t.applyTransform(s,!0),e.measuredBox):lo(u,r,e.layoutBox);const c=!AT(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:y}=f;if(g&&y){const E=Re();uo(E,e.layoutBox,g.layoutBox);const I=Re();uo(I,r,y.layoutBox),CT(E,I)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=I,t.relativeTargetOrigin=E,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function n4(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function r4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function s4(t){t.clearSnapshot()}function jv(t){t.clearMeasurements()}function i4(t){t.isLayoutDirty=!1}function o4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Dv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function a4(t){t.resolveTargetDelta()}function l4(t){t.calcProjection()}function u4(t){t.resetSkewAndRotation()}function c4(t){t.removeLeadSnapshot()}function Vv(t,e,n){t.translate=we(e.translate,0,n),t.scale=we(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Mv(t,e,n,r){t.min=we(e.min,n.min,r),t.max=we(e.max,n.max,r)}function h4(t,e,n,r){Mv(t.x,e.x,n.x,r),Mv(t.y,e.y,n.y,r)}function d4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const f4={duration:.45,ease:[.4,0,.1,1]},Lv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Ov=Lv("applewebkit/")&&!Lv("chrome/")?Math.round:Ht;function Fv(t){t.min=Ov(t.min),t.max=Ov(t.max)}function m4(t){Fv(t.x),Fv(t.y)}function NT(t,e,n){return t==="position"||t==="preserve-aspect"&&!gV(kv(e),kv(n),.2)}function p4(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const g4=PT({attachResizeListener:(t,e)=>qo(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ah={current:void 0},RT=PT({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ah.current){const t=new g4({});t.mount(window),t.setOptions({layoutScroll:!0}),ah.current=t}return ah.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),y4={pan:{Feature:jV},drag:{Feature:bV,ProjectionNode:RT,MeasureLayout:ET}};function Bv(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&Te.postRender(()=>i(e,ua(e)))}class v4 extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=Kj(e,(n,r)=>(Bv(this.node,r,"Start"),s=>Bv(this.node,s,"End"))))}unmount(){}}class x4 extends Sr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=oa(qo(this.node.current,"focus",()=>this.onFocus()),qo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zv(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&Te.postRender(()=>i(e,ua(e)))}class _4 extends Sr{mount(){const{current:e}=this.node;e&&(this.unmount=Yj(e,(n,r)=>(zv(this.node,r,"Start"),(s,{success:i})=>zv(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const qd=new WeakMap,lh=new WeakMap,w4=t=>{const e=qd.get(t.target);e&&e(t)},E4=t=>{t.forEach(w4)};function T4({root:t,...e}){const n=t||document;lh.has(n)||lh.set(n,{});const r=lh.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(E4,{root:t,...e})),r[s]}function S4(t,e,n){const r=T4(e);return qd.set(t,n),r.observe(t),()=>{qd.delete(t),r.unobserve(t)}}const A4={some:0,all:1};class C4 extends Sr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:A4[s]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),g=c?d:f;g&&g(u)};return S4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(I4(e,n))&&this.startObserver()}unmount(){}}function I4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const P4={inView:{Feature:C4},tap:{Feature:_4},focus:{Feature:x4},hover:{Feature:v4}},N4={layout:{ProjectionNode:RT,MeasureLayout:ET}},Hd={current:null},kT={current:!1};function R4(){if(kT.current=!0,!!jm)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Hd.current=t.matches;t.addListener(e),e()}else Hd.current=!1}const k4=new WeakMap;function b4(t,e,n){for(const r in e){const s=e[r],i=n[r];if(dt(s))t.addValue(r,s);else if(dt(i))t.addValue(r,ei(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,ei(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Uv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class j4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Xm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Ct.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Te.render(this.render,!1,!0))};const{latestValues:u,renderState:c}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=qu(n),this.isVariantNode=YE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in f){const y=f[g];u[g]!==void 0&&dt(y)&&y.set(u[g],!1)}}mount(e){this.current=e,k4.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),kT.current||R4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),vr(this.notifyUpdate),vr(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=mi.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Te.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ti){const n=ti[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Re()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Uv.length;r++){const s=Uv[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=b4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ei(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(sE(r)||oE(r))?r=parseFloat(r):!eD(r)&&xr.test(n)&&(r=zE(e,n)),this.setBaseTarget(e,dt(r)?r.get():r)),dt(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=up(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!dt(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Om),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class bT extends j4{constructor(){super(...arguments),this.KeyframeResolver=Uj}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jT(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function D4(t){return window.getComputedStyle(t)}class V4 extends bT{constructor(){super(...arguments),this.type="html",this.renderInstance=jT}readValueFromInstance(e,n){var r;if(mi.has(n))return(r=this.projection)!=null&&r.isProjecting?jd(n):aj(e,n);{const s=D4(e),i=(zm(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return vT(e,n)}build(e,n,r){op(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return cp(e,n,r)}}const DT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function M4(t,e,n,r){jT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(DT.has(s)?s:ip(s),e.attrs[s])}class L4 extends bT{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Re}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(mi.has(n)){const r=BE(n);return r&&r.default||0}return n=DT.has(n)?n:ip(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aT(e,n,r)}build(e,n,r){rT(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){M4(e,n,r,s)}mount(e){this.isSVGTag=iT(e.tagName),super.mount(e)}}const O4=(t,e)=>lp(t)?new L4(e):new V4(e,{allowProjection:t!==k.Fragment}),F4=OD({...lV,...P4,...y4,...N4},O4),Ho=uD(F4);function B4(t){t.values.forEach(e=>e.stop())}function Kd(t,e){[...e].reverse().forEach(r=>{const s=t.getVariant(r);s&&hp(t,s),t.variantChildren&&t.variantChildren.forEach(i=>{Kd(i,e)})})}function z4(t,e){if(Array.isArray(e))return Kd(t,e);if(typeof e=="string")return Kd(t,[e]);hp(t,e)}function U4(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const s=[];return t.forEach(i=>{s.push(cT(i,n,{transitionOverride:r}))}),Promise.all(s)},set(n){return t.forEach(r=>{z4(r,n)})},stop(){t.forEach(n=>{B4(n)})},mount(){return()=>{e.stop()}}};return e}function $4(){const t=zu(U4);return Dm(t.mount,[]),t}const VT=$4,$v=({job:t,onSwipe:e,isPreview:n=!1})=>{const r=VT(),s=100,[i,o]=k.useState(null),a=async(d,f)=>{if(n)return;const g=f.offset.x,y=f.velocity.x;if(Math.abs(g)>s||Math.abs(y)>500){const E=g>0?"right":"left";await r.start({x:E==="right"?500:-500,opacity:0,transition:{duration:.2}}),e(E)}else r.start({x:0,opacity:1});o(null)},u=(d,f)=>{n||(f.offset.x>50?o("right"):f.offset.x<-50?o("left"):o(null))},c=h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",children:t.title}),h.jsx("p",{className:"text-gray-600",children:t.company})]}),h.jsx("div",{className:"bg-blue-100 px-3 py-1 rounded-full shadow-md",children:h.jsxs("span",{className:"text-blue-800 font-semibold",children:["匹配度 ",Math.round(t.matchScore),"%"]})})]}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-gray-600",children:t.location}),h.jsx("span",{className:"text-blue-600 font-semibold",children:t.salary})]}),h.jsx("div",{className:"text-gray-700",children:t.description}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"要求條件"}),h.jsx("ul",{className:"space-y-2",children:t.requirements.map((d,f)=>h.jsxs("li",{className:"flex items-start text-gray-600",children:[h.jsx("span",{className:"mr-2",children:"•"}),h.jsx("span",{children:d})]},f))})]}),h.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:[h.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"匹配原因"}),h.jsx("ul",{className:"space-y-2",children:t.matchingReasons.map((d,f)=>h.jsxs("li",{className:"flex items-start text-green-700",children:[h.jsx("span",{className:"mr-2",children:"•"}),h.jsx("span",{children:d})]},f))})]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map((d,f)=>h.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:d},f))})]})]});return n?h.jsx("div",{className:"relative bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:c}):h.jsx(Ho.div,{drag:n?!1:"x",dragConstraints:{left:0,right:0},onDragEnd:a,onDrag:u,animate:r,className:"w-full max-w-md mx-auto select-none",whileDrag:{scale:1.05},initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},children:h.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",children:[h.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-red-500 p-3 rounded-full shadow-lg transition-all duration-200
            ${i==="left"?"opacity-100 scale-110":"opacity-0 scale-90"}`,children:h.jsx(qs,{className:"w-6 h-6 text-white"})}),h.jsx("div",{className:`absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-green-500 p-3 rounded-full shadow-lg transition-all duration-200
            ${i==="right"?"opacity-100 scale-110":"opacity-0 scale-90"}`,children:h.jsx(E1,{className:"w-6 h-6 text-white"})}),c]})})},W4=({jobs:t,onLike:e,onDislike:n})=>{const[r,s]=k.useState(0),[i,o]=k.useState(!1),a=t[r],u=t[r+1];k.useEffect(()=>{if(i){const d=setTimeout(()=>{o(!1)},300);return()=>clearTimeout(d)}},[i]);const c=d=>{i||(o(!0),d==="right"?e(a):n(a),r<t.length-1&&s(f=>f+1))};return a?h.jsxs("div",{className:"relative w-full max-w-md mx-auto",children:[h.jsxs("div",{className:"absolute -top-12 left-0 right-0 flex justify-center items-center gap-8 text-gray-500 text-sm",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(_1,{className:"mr-1"}),h.jsx("span",{children:"左滑不感興趣"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("span",{children:"右滑有興趣"}),h.jsx(Dn,{className:"ml-1"})]})]}),h.jsx("div",{className:"relative h-[600px]",children:h.jsxs(GE,{mode:"popLayout",children:[u&&!i&&h.jsx("div",{className:"absolute inset-0 -z-10",style:{transform:"scale(0.95)",opacity:.5,filter:"blur(2px)"},children:h.jsx($v,{job:u,onSwipe:()=>{},isPreview:!0})},`preview-${u.id}`),h.jsx(Ho.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},transition:{duration:.2},className:"absolute inset-0",children:h.jsx($v,{job:a,onSwipe:c,isPreview:!1})},a.id)]})}),h.jsx("div",{className:"mt-6 flex justify-center gap-2",children:t.map((d,f)=>h.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${f===r?"bg-blue-500 scale-125":f<r?"bg-green-500":"bg-gray-300"}`},f))}),h.jsxs("div",{className:"mt-4 text-center text-gray-500 text-sm",children:["還有 ",t.length-r-1," 個職缺"]})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center h-96",children:[h.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-4",children:"沒有更多職缺了"}),h.jsx("p",{className:"text-gray-500",children:"我們會持續為您尋找合適的機會"})]})},q4=async t=>[...t.skills,"團隊合作","問題解決","溝通能力","專案管理","快速學習"],H4=(t,e)=>e.map(r=>{const s=r.skills.filter(a=>t.some(u=>u.toLowerCase().includes(a.toLowerCase()))),i=s.length/r.skills.length*100,o=s.map(a=>`您具備 ${a} 技能，符合職位要求`);return i>0&&o.push(`您的技能組合與該職位匹配度為 ${i.toFixed(0)}%`),{job:r,matchScore:i,matchingSkills:s,matchingReasons:o}}).sort((r,s)=>s.matchScore-r.matchScore),Wv=[{id:"1",title:"前端工程師",company:"TechCorp",requirements:["2年以上前端開發經驗","良好的團隊合作能力"],description:"負責公司產品的前端開發與維護",skills:["React","TypeScript","HTML","CSS","JavaScript"]},{id:"2",title:"後端工程師",company:"DataSys",requirements:["熟悉後端開發框架","資料庫設計經驗"],description:"開發和維護後端服務與API",skills:["Python","Django","PostgreSQL","RESTful API"]},{id:"3",title:"全端工程師",company:"WebTech",requirements:["前後端開發經驗","系統架構設計能力"],description:"負責完整的網站開發與維護",skills:["React","Node.js","MongoDB","Express"]}],K4=()=>{const[t,e]=k.useState("analysis"),[n,r]=k.useState([]),[s,i]=k.useState([]),[o,a]=k.useState([]),[u,c]=k.useState(!0),d={personalInfo:{name:"王小明",email:"wang@example.com",phone:"0912345678"},education:{school:"台灣大學",major:"資訊工程",degree:"學士",graduationYear:"2024"},skills:["React","TypeScript","Node.js","Python"],experience:[{company:"TechStartup",position:"前端工程師實習生",duration:"2023/07 - 2023/08",description:"參與公司產品的前端開發"}],projects:[{name:"個人作品集網站",description:"使用 React 和 TypeScript 開發的個人網站",technologies:["React","TypeScript","Tailwind CSS"]}]};k.useEffect(()=>{(async()=>{try{console.log("開始分析履歷...");const I=await q4(d);console.log("分析得到的標籤:",I),r(I),await new Promise(R=>setTimeout(R,1e3)),c(!1)}catch(I){console.error("分析錯誤:",I),c(!1)}})()},[]);const f=async()=>{c(!0);try{console.log("開始匹配職缺..."),console.log("分析標籤:",n),console.log("可用職缺:",Wv);const E=H4(n,Wv);console.log("匹配結果:",E);const I=E.map(R=>({id:R.job.id,title:R.job.title,company:R.job.company,location:"台北市",salary:"月薪 50,000 - 80,000",description:R.job.description,requirements:R.job.requirements,tags:R.matchingSkills,matchScore:R.matchScore,matchingReasons:R.matchingReasons}));console.log("處理後的職缺:",I),i(I),setTimeout(()=>{e("recommendations"),c(!1)},100)}catch(E){console.error("匹配錯誤:",E),c(!1)}},g=E=>{a(I=>[...I,E]),console.log("已收藏職缺:",E.title)},y=E=>{console.log("不感興趣:",E.title)};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),h.jsx("p",{className:"mt-4 text-gray-700",children:"分析您的履歷中..."})]})}),t==="analysis"&&!u&&h.jsx("div",{className:"container mx-auto py-12 px-4",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"您的履歷強項分析"}),h.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[h.jsx("h2",{className:"text-xl font-semibold mb-6",children:"專業技能"}),h.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:n.filter(E=>["React","TypeScript","Node.js","Python"].includes(E)).map((E,I)=>h.jsx(Ho.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:I*.1},className:"bg-blue-100 text-blue-800 px-4 py-2 rounded-full text-sm font-medium",children:E},E))}),h.jsx("h2",{className:"text-xl font-semibold mb-6",children:"軟實力"}),h.jsx("div",{className:"flex flex-wrap gap-3 mb-8",children:n.filter(E=>!["React","TypeScript","Node.js","Python"].includes(E)).map((E,I)=>h.jsx(Ho.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:I*.1+.5},className:"bg-green-100 text-green-800 px-4 py-2 rounded-full text-sm font-medium",children:E},E))}),h.jsx("div",{className:"text-center",children:h.jsx("button",{onClick:f,className:"bg-blue-500 text-white px-8 py-3 rounded-lg hover:bg-blue-600 transition-colors duration-200 shadow-md",children:"查看匹配職缺"})})]})]})}),t==="recommendations"&&h.jsx("div",{className:"container mx-auto py-8 px-4",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"為您推薦的最佳職缺"}),h.jsx("p",{className:"text-gray-600 text-center mb-12",children:"根據您的履歷分析，我們為您找到了以下最匹配的職位"}),s.length>0?h.jsx(W4,{jobs:s,onLike:g,onDislike:y}):h.jsxs("div",{className:"text-center text-gray-600",children:[h.jsx("p",{children:"目前沒有找到匹配的職缺"}),h.jsx("p",{className:"mt-2",children:"請稍後再試"})]}),o.length>0&&h.jsxs("div",{className:"mt-12",children:[h.jsx("h2",{className:"text-xl font-semibold mb-4 text-center",children:"已收藏的職缺"}),h.jsx("div",{className:"space-y-4",children:o.map(E=>h.jsxs("div",{className:"bg-white rounded-lg p-4 shadow flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold",children:E.title}),h.jsx("p",{className:"text-gray-600",children:E.company})]}),h.jsx("span",{className:"text-blue-600",children:E.salary})]},E.id))})]})]})})]})},G4=()=>{const t=mt(),{setCurrentPage:e,setResumeCompletion:n}=un(),[r,s]=k.useState(!1),[i,o]=k.useState(null),a=y=>{y.preventDefault(),s(!0)},u=()=>{s(!1)},c=y=>{y.preventDefault(),s(!1),y.dataTransfer.files&&y.dataTransfer.files.length>0&&o(y.dataTransfer.files[0])},d=y=>{y.target.files&&y.target.files.length>0&&o(y.target.files[0])},f=()=>{o(null)},g=()=>{n(100),e("studentAnalysis"),t("/student/analysis")};return h.jsxs("div",{className:"min-h-screen flex flex-col bg-white",children:[h.jsx("div",{className:"py-4 px-6 border-b border-gray-200 flex justify-center",children:h.jsx(zn,{size:"medium"})}),h.jsx("div",{className:"flex-1 px-4 py-8",children:h.jsxs("div",{className:"max-w-xl mx-auto",children:[h.jsx("h2",{className:"text-xl font-bold mb-6",children:"上傳您的履歷"}),h.jsx("div",{className:`
              border-2 border-dashed rounded-lg p-8 mb-6 flex flex-col items-center justify-center
              ${r?"border-[#2D439B] bg-[#2D439B]/5":"border-gray-300"}
              ${i?"bg-[#2D439B]/5":""}
            `,onDragOver:a,onDragLeave:u,onDrop:c,children:i?h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-lg shadow-sm",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(WC,{className:"text-[#2D439B] mr-3",size:24}),h.jsxs("div",{children:[h.jsx("p",{className:"font-medium",children:i.name}),h.jsxs("p",{className:"text-xs text-gray-500",children:[(i.size/1024/1024).toFixed(2)," MB"]})]})]}),h.jsx("button",{onClick:f,className:"p-1 hover:bg-gray-100 rounded-full",children:h.jsx(qs,{size:18,className:"text-gray-500"})})]})}):h.jsxs(h.Fragment,{children:[h.jsx(C1,{size:48,className:"text-[#2D439B] mb-4"}),h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"拖曳檔案至此或點擊上傳"}),h.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"支援 PDF, DOC, DOCX 格式"}),h.jsx("input",{type:"file",id:"resume-upload",className:"hidden",accept:".pdf,.doc,.docx",onChange:d}),h.jsx(_t,{variant:"outline",onClick:()=>{var y;return(y=document.getElementById("resume-upload"))==null?void 0:y.click()},children:"選擇檔案"})]})}),h.jsxs(_t,{variant:"primary",size:"large",fullWidth:!0,onClick:g,disabled:!i,children:[h.jsx("span",{className:"text-lg",children:"繼續"}),h.jsx(Dn,{className:"ml-2",size:20})]})]})})]})},Q4=()=>{mt();const{resumeCompletion:t}=un(),e=[{id:1,company:"創新數位行銷有限公司",position:"社群內容實習生",matchScore:95,logo:"https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg?auto=compress&cs=tinysrgb&w=60"},{id:2,company:"未來影視製作公司",position:"影片剪輯實習生",matchScore:91,logo:"https://images.pexels.com/photos/937481/pexels-photo-937481.jpeg?auto=compress&cs=tinysrgb&w=60"},{id:3,company:"星辰科技有限公司",position:"行銷內容實習生",matchScore:87,logo:"https://images.pexels.com/photos/3184418/pexels-photo-3184418.jpeg?auto=compress&cs=tinysrgb&w=60"}];return h.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[h.jsx("div",{className:"py-4 px-6 border-b border-gray-200 flex justify-center bg-white",children:h.jsx(zn,{size:"medium"})}),h.jsx("div",{className:"flex-1 px-4 py-6",children:h.jsxs("div",{className:"max-w-xl mx-auto",children:[h.jsxs("div",{className:"bg-gradient-to-r from-[#2D439B] to-[#3A51B1] text-white p-6 rounded-lg mb-6",children:[h.jsxs("h2",{className:"text-xl font-bold mb-2",children:["您的履歷完成度: ",t,"%"]}),h.jsxs("p",{className:"mb-4",children:["您的履歷已被推薦給 ",e.length," 家企業"]}),h.jsx("div",{className:"flex space-x-2",children:h.jsx(_t,{variant:"secondary",className:"bg-white/20 hover:bg-white/30",children:"提升曝光度"})})]}),h.jsx("h3",{className:"text-lg font-semibold mb-3",children:"為您推薦的機會"}),h.jsx("div",{className:"space-y-4 mb-8",children:e.map(n=>h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 flex items-center hover:shadow-md transition-shadow",children:[h.jsx("div",{className:"w-12 h-12 mr-4 rounded-lg overflow-hidden",children:h.jsx("img",{src:n.logo,alt:n.company,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-semibold",children:n.position}),h.jsx("p",{className:"text-sm text-gray-600",children:n.company})]}),h.jsxs("div",{className:"bg-[#2D439B] text-white px-3 py-1 rounded-full text-sm font-medium",children:["匹配度 ",n.matchScore,"%"]})]},n.id))}),h.jsx("h3",{className:"text-lg font-semibold mb-3",children:"最近訊息"}),h.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[h.jsxs("div",{className:"flex items-center border-b border-gray-100 pb-3 mb-3",children:[h.jsx(qf,{size:18,className:"text-[#2D439B] mr-3"}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm",children:[h.jsx("span",{className:"font-medium",children:"創新數位行銷有限公司"})," 對您的履歷感興趣！"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"2小時前"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(rd,{size:18,className:"text-[#2D439B] mr-3"}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-sm",children:[h.jsx("span",{className:"font-medium",children:"未來影視製作公司"})," 向您發送了訊息"]}),h.jsx("p",{className:"text-xs text-gray-500",children:"昨天"})]})]})]})]})}),h.jsx("div",{className:"border-t border-gray-200 p-4 bg-white",children:h.jsxs("div",{className:"max-w-xl mx-auto flex justify-around",children:[h.jsxs("button",{className:"flex flex-col items-center px-4 py-2 text-[#2D439B]",children:[h.jsx(FC,{size:24}),h.jsx("span",{className:"mt-1 text-xs font-medium",children:"機會"})]}),h.jsxs("button",{className:"flex flex-col items-center px-4 py-2 text-gray-400",children:[h.jsx(rd,{size:24}),h.jsx("span",{className:"mt-1 text-xs font-medium",children:"訊息"})]}),h.jsxs("button",{className:"flex flex-col items-center px-4 py-2 text-gray-400",children:[h.jsx(Gf,{size:24}),h.jsx("span",{className:"mt-1 text-xs font-medium",children:"履歷"})]})]})})]})},qv=({talent:t,onSwipe:e})=>{const n=VT(),r=100,[s,i]=k.useState(null),o=async(u,c)=>{const d=c.offset.x,f=c.velocity.x;if(Math.abs(d)>r||Math.abs(f)>500){const g=d>0?"right":"left";await n.start({x:g==="right"?500:-500,opacity:0,transition:{duration:.2}}),e(g)}else n.start({x:0,opacity:1});i(null)},a=(u,c)=>{c.offset.x>50?i("right"):c.offset.x<-50?i("left"):i(null)};return h.jsx(Ho.div,{drag:"x",dragConstraints:{left:0,right:0},onDragEnd:o,onDrag:a,animate:n,className:"w-full max-w-md mx-auto select-none",whileDrag:{scale:1.05},initial:{scale:.95,opacity:0},children:h.jsxs("div",{className:"relative bg-white rounded-xl shadow-lg overflow-hidden border border-gray-200",style:{backgroundColor:"#ffffff"},children:[h.jsx("div",{className:`absolute left-4 top-1/2 -translate-y-1/2 z-10 bg-red-500 p-3 rounded-full shadow-lg transition-all duration-200
            ${s==="left"?"opacity-100 scale-110":"opacity-0 scale-90"}`,style:{backgroundColor:"#ef4444"},children:h.jsx(qs,{className:"w-6 h-6 text-white"})}),h.jsx("div",{className:`absolute right-4 top-1/2 -translate-y-1/2 z-10 bg-green-500 p-3 rounded-full shadow-lg transition-all duration-200
            ${s==="right"?"opacity-100 scale-110":"opacity-0 scale-90"}`,style:{backgroundColor:"#22c55e"},children:h.jsx(E1,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{className:"relative h-48 bg-gray-100",style:{backgroundColor:"#f3f4f6"},children:[h.jsx("img",{src:t.image,alt:t.name,className:"w-full h-full object-cover",onError:u=>{u.currentTarget.src="https://via.placeholder.com/400x300?text=No+Image"}}),h.jsxs("div",{className:"absolute top-4 right-4 bg-blue-500 text-white px-3 py-1 rounded-full font-semibold shadow-md",style:{backgroundColor:"#3b82f6"},children:["匹配度 ",Math.round(t.matchScore),"%"]})]}),h.jsxs("div",{className:"p-6 space-y-4 bg-white",style:{backgroundColor:"#ffffff"},children:[h.jsxs("div",{children:[h.jsx("h3",{className:"text-xl font-bold text-gray-900",style:{color:"#111827"},children:t.name}),h.jsx("p",{className:"text-gray-600 mt-1",style:{color:"#4b5563"},children:t.title})]}),t.education&&h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800",style:{color:"#1f2937"},children:"學歷"}),h.jsx("p",{className:"text-gray-600 mt-1",style:{color:"#4b5563"},children:t.education.school}),h.jsxs("p",{className:"text-gray-600",style:{color:"#4b5563"},children:[t.education.major," · ",t.education.degree]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800",style:{color:"#1f2937"},children:"專業技能"}),h.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:t.skills.map((u,c)=>h.jsx("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm font-medium",style:{backgroundColor:"#dbeafe",color:"#1e40af"},children:u},c))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-gray-800",style:{color:"#1f2937"},children:"工作經驗"}),h.jsx("p",{className:"text-gray-600 mt-1",style:{color:"#4b5563"},children:t.experience})]}),h.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",style:{backgroundColor:"#f0fdf4",borderColor:"#dcfce7"},children:[h.jsx("h4",{className:"font-semibold text-green-800",style:{color:"#166534"},children:"匹配原因"}),h.jsx("ul",{className:"mt-2 space-y-1 text-green-700",children:t.matchingReasons.map((u,c)=>h.jsxs("li",{className:"flex items-start",style:{color:"#15803d"},children:[h.jsx("span",{className:"mr-2",children:"•"}),h.jsx("span",{children:u})]},c))})]})]})]})})},X4=({talents:t})=>{const[e,n]=k.useState(0),[r,s]=k.useState([]),[i,o]=k.useState(!1),a=t[e],u=t[e+1],c=async d=>{i||(o(!0),d==="right"&&s(f=>[...f,a]),setTimeout(()=>{e<t.length-1&&n(f=>f+1),o(!1)},300))};return e>=t.length?h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[600px] bg-gray-50 p-4",children:[h.jsx("h2",{className:"text-2xl font-bold mb-4",children:"已完成所有候選人評估"}),h.jsxs("p",{className:"text-gray-600 mb-8",children:["您已右滑選擇了 ",r.length," 位候選人"]}),r.length>0?h.jsxs("div",{className:"w-full max-w-md space-y-4",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4",children:"已選擇的候選人："}),r.map(d=>h.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md hover:shadow-lg transition-shadow",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx("img",{src:d.image,alt:d.name,className:"w-16 h-16 rounded-full object-cover mr-4"}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-bold text-lg",children:d.name}),h.jsx("p",{className:"text-gray-600",children:d.title})]}),h.jsxs("div",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:["匹配度 ",Math.round(d.matchScore),"%"]})]}),h.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[d.skills.slice(0,3).map((f,g)=>h.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-full text-sm",children:f},g)),d.skills.length>3&&h.jsxs("span",{className:"text-gray-500 text-sm",children:["+",d.skills.length-3," 項技能"]})]})]})]})},d.id))]}):h.jsx("p",{className:"text-gray-500",children:"您尚未選擇任何候選人"})]}):h.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[600px] bg-gray-50 p-4",children:[h.jsxs("div",{className:"mb-8 flex justify-center items-center gap-12",children:[h.jsxs("div",{className:"flex items-center bg-white px-4 py-2 rounded-full shadow-md",children:[h.jsx(_1,{className:"w-6 h-6 text-red-500",strokeWidth:2.5}),h.jsx("span",{className:"ml-2 text-gray-600",children:"左滑婉拒"})]}),h.jsxs("div",{className:"flex items-center bg-white px-4 py-2 rounded-full shadow-md",children:[h.jsx("span",{className:"mr-2 text-gray-600",children:"右滑有興趣"}),h.jsx(Dn,{className:"w-6 h-6 text-green-500",strokeWidth:2.5})]})]}),h.jsx("div",{className:"relative w-full max-w-md mx-auto h-[600px]",children:h.jsxs(GE,{mode:"popLayout",children:[a&&h.jsx("div",{className:"absolute inset-0",children:h.jsx(qv,{talent:a,onSwipe:c})},a.id),u&&!i&&h.jsx("div",{className:"absolute inset-0 -z-10 transform scale-95 opacity-50 pointer-events-none",style:{filter:"blur(2px)"},children:h.jsx(qv,{talent:u,onSwipe:()=>{}},u.id)})]})}),h.jsxs("div",{className:"mt-8",children:[h.jsx("div",{className:"flex justify-center gap-2 mb-2",children:t.map((d,f)=>h.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${f===e?"bg-blue-500 scale-125":f<e?"bg-green-500":"bg-gray-300"}`},f))}),h.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["還有 ",t.length-e-1," 位候選人"]})]})]})},Y4=[{id:"1",name:"王小明",title:"前端工程師",skills:["React","TypeScript","Node.js"],experience:"3年網頁開發經驗，專注於前端技術",image:"https://randomuser.me/api/portraits/men/1.jpg",matchScore:95,matchingReasons:["具備所需的前端技術棧","有相關的網頁開發經驗","技術專注度符合職位要求"],education:{school:"台灣大學",major:"資訊工程",degree:"學士"}},{id:"2",name:"李小華",title:"後端工程師",skills:["Python","Django","PostgreSQL"],experience:"4年後端開發經驗，擅長數據庫優化",image:"https://randomuser.me/api/portraits/women/2.jpg",matchScore:88,matchingReasons:["擁有豐富的後端開發經驗","數據庫優化能力突出","技術棧完全匹配"],education:{school:"清華大學",major:"資訊工程",degree:"碩士"}},{id:"3",name:"張小龍",title:"全端工程師",skills:["Vue.js","Java","Spring Boot"],experience:"5年全端開發經驗，具備良好的系統架構能力",image:"https://randomuser.me/api/portraits/men/3.jpg",matchScore:92,matchingReasons:["全棧開發能力強","具備系統架構經驗","技術領域廣泛"],education:{school:"交通大學",major:"資訊工程",degree:"碩士"}},{id:"4",name:"陳小琳",title:"UI/UX 設計師",skills:["Figma","Adobe XD","Sketch"],experience:"3年設計經驗，專注於使用者體驗優化",image:"https://randomuser.me/api/portraits/women/4.jpg",matchScore:85,matchingReasons:["UI/UX 設計經驗豐富","擅長使用主流設計工具","注重使用者體驗"],education:{school:"師範大學",major:"數位設計",degree:"學士"}}],J4=()=>h.jsx("div",{className:"min-h-screen bg-gray-100",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs("div",{className:"py-8",children:[h.jsx("h1",{className:"text-3xl font-bold text-center mb-8",children:"人才配對"}),h.jsx(X4,{talents:Y4})]})})}),Z4=()=>{const t=mt(),[e,n]=k.useState({resume:!1,profile:!1,skills:!1}),[r,s]=k.useState("resume"),[i,o]=k.useState(!1),a=d=>{var g;((g=d.target.files)==null?void 0:g[0])&&(o(!0),setTimeout(()=>{n(y=>({...y,resume:!0})),o(!1),s("profile")},2e3))},u=()=>{n(d=>({...d,profile:!0})),s("skills")},c=()=>{n(d=>({...d,skills:!0})),setTimeout(()=>{t("/result")},1e3)};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#32ADE6]",children:"TalenTag"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("button",{className:"text-gray-600 hover:text-[#32ADE6] transition-colors relative",children:[h.jsx(qf,{size:20}),h.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:"3"})]}),h.jsx("button",{className:"text-gray-600 hover:text-[#32ADE6] transition-colors",children:h.jsx(T1,{size:20})}),h.jsx("button",{className:"text-gray-600 hover:text-[#32ADE6] transition-colors",children:h.jsx(Kf,{size:20})})]})]})})}),h.jsx("main",{className:"max-w-7xl mx-auto px-4 py-8",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between mb-8",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.resume?"bg-green-500":"bg-[#32ADE6]"}`,children:h.jsx(fl,{className:"text-white",size:20})}),h.jsx("div",{className:"ml-2 text-sm font-medium",children:"上傳履歷"})]}),h.jsx("div",{className:"flex-1 h-1 mx-4 bg-gray-200",children:h.jsx("div",{className:"h-full bg-[#32ADE6]",style:{width:e.resume?"100%":"33%"}})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.profile?"bg-green-500":e.resume?"bg-[#32ADE6]":"bg-gray-200"}`,children:h.jsx(Gf,{className:"text-white",size:20})}),h.jsx("div",{className:"ml-2 text-sm font-medium",children:"個人資料"})]}),h.jsx("div",{className:"flex-1 h-1 mx-4 bg-gray-200",children:h.jsx("div",{className:"h-full bg-[#32ADE6]",style:{width:e.profile?"100%":"0%"}})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${e.skills?"bg-green-500":e.profile?"bg-[#32ADE6]":"bg-gray-200"}`,children:h.jsx(w1,{className:"text-white",size:20})}),h.jsx("div",{className:"ml-2 text-sm font-medium",children:"技能確認"})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-8",children:[r==="resume"&&h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"w-20 h-20 bg-[#32ADE6]/10 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(C1,{className:"text-[#32ADE6]\\",size:40})}),h.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"上傳您的履歷"}),h.jsx("p",{className:"text-gray-600 mb-8",children:"支持 PDF、Word 和图片格式"}),i?h.jsxs("div",{className:"flex items-center justify-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#32ADE6]"}),h.jsx("span",{className:"ml-2",children:"上傳中..."})]}):h.jsxs("label",{className:"inline-block",children:[h.jsx("input",{type:"file",className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",onChange:a}),h.jsx("div",{className:"bg-[#32ADE6] text-white px-6 py-3 rounded-lg cursor-pointer hover:bg-[#2A8BC7] transition-colors",children:"選擇檔案"})]})]}),r==="profile"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"完善個人資料"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"姓名"}),h.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#32ADE6] focus:border-transparent",placeholder:"請輸入您的姓名"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"學校"}),h.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#32ADE6] focus:border-transparent",placeholder:"請輸入您的學校"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"專業"}),h.jsx("input",{type:"text",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#32ADE6] focus:border-transparent",placeholder:"請輸入您的專業"})]}),h.jsx("button",{onClick:u,className:"w-full bg-[#32ADE6] text-white px-6 py-3 rounded-lg hover:bg-[#2A8BC7] transition-colors",children:"下一步"})]})]}),r==="skills"&&h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-semibold mb-6",children:"確認您的技能"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"技術技能"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:["Python","React","Node.js","Machine Learning"].map(d=>h.jsx("div",{className:"bg-[#32ADE6]/10 text-[#32ADE6] px-3 py-1 rounded-full text-sm",children:d},d))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"語言能力"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:["中文","英文","日文"].map(d=>h.jsx("div",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-sm",children:d},d))})]}),h.jsx("button",{onClick:c,className:"w-full bg-[#32ADE6] text-white px-6 py-3 rounded-lg hover:bg-[#2A8BC7] transition-colors",children:"完成"})]})]})]})]})})]})},eM=()=>{const t=mt(),[e,n]=k.useState("matches"),[r,s]=k.useState([]),i=[{id:1,company:"Google",position:"Software Engineering Intern",location:"台北市",type:"實習",duration:"3 個月",salary:"NT$ 45,000/月",logo:"https://images.pexels.com/photos/2182970/pexels-photo-2182970.jpeg?auto=compress&cs=tinysrgb&w=60",matchScore:95,matchReasons:["技能匹配度：95%","經驗要求：完全符合","教育背景：完全符合"],tags:["AI","Machine Learning","Python"],description:"加入 Google 的 AI 團隊，參與開發下一代智能產品。",requirements:["熟悉 Python 和機器學習框架","具備良好的演算法基礎","有相關專案經驗"],benefits:["具競爭力的薪資","靈活的工作時間","導師指導計劃"]},{id:2,company:"Microsoft",position:"Frontend Developer Intern",location:"台北市",type:"實習",duration:"6 個月",salary:"NT$ 40,000/月",logo:"https://images.pexels.com/photos/4348401/pexels-photo-4348401.jpeg?auto=compress&cs=tinysrgb&w=60",matchScore:88,matchReasons:["技能匹配度：88%","經驗要求：部分符合","教育背景：完全符合"],tags:["React","TypeScript","UI/UX"],description:"參與 Microsoft 365 產品的前端開發工作。",requirements:["精通 React 和 TypeScript","了解現代前端開發工具","注重代碼品質"],benefits:["遠端工作選項","專業發展機會","團隊建設活動"]},{id:3,company:"Meta",position:"Data Science Intern",location:"新竹市",type:"實習",duration:"4 個月",salary:"NT$ 50,000/月",logo:"https://images.pexels.com/photos/267350/pexels-photo-267350.jpeg?auto=compress&cs=tinysrgb&w=60",matchScore:92,matchReasons:["技能匹配度：92%","經驗要求：完全符合","教育背景：完全符合"],tags:["Data Science","Python","Analytics"],description:"參與 Meta 的數據科學團隊，分析用戶行為數據。",requirements:["熟悉 Python 和數據分析工具","具備統計學基礎","有機器學習經驗"],benefits:["頂尖的技術環境","國際化團隊","豐富的學習資源"]}],o={strengths:["豐富的專案經驗","扎實的技術基礎","良好的溝通能力","多元化的技能組合"],improvements:["可以添加更多實習經驗","建議補充更多開源項目貢獻","可以加強特定領域的專業認證","建議增加團隊領導經驗"],skills:{technical:["Python","React","Node.js","Machine Learning","TypeScript","AWS"],soft:["團隊協作","問題解決","時間管理","創新思維"],languages:["中文","英文","日文"]}},a=d=>{s(f=>f.includes(d)?f.filter(g=>g!==d):[...f,d])},u=d=>{alert(`已申請職位 ID: ${d}`)},c=d=>{t(`/job/${d}`)};return h.jsxs("div",{className:"min-h-screen bg-gray-50",children:[h.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-50",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 py-4",children:h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h1",{className:"text-2xl font-bold text-[#32ADE6]",children:"TalenTag"}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("button",{className:"text-gray-600 hover:text-[#32ADE6] transition-colors relative",children:[h.jsx(qf,{size:20}),h.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-4 h-4 flex items-center justify-center",children:"3"})]}),h.jsx("button",{className:"text-gray-600 hover:text-[#32ADE6] transition-colors",children:h.jsx(T1,{size:20})}),h.jsx("button",{className:"text-gray-600 hover:text-[#32ADE6] transition-colors",children:h.jsx(Kf,{size:20})})]})]})})}),h.jsxs("main",{className:"max-w-7xl mx-auto px-4 py-8",children:[h.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6",children:h.jsxs("div",{className:"flex items-center",children:[h.jsx(fl,{className:"text-green-500 mr-3",size:24}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-green-800",children:"履歷分析完成！"}),h.jsxs("p",{className:"text-green-600",children:["我們為您找到了 ",i.length," 個高度匹配的職位機會"]})]})]})}),h.jsxs("div",{className:"flex space-x-4 mb-8",children:[h.jsxs("button",{onClick:()=>n("matches"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${e==="matches"?"bg-[#32ADE6] text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-50"}`,children:["職位匹配 (",i.length,")"]}),h.jsx("button",{onClick:()=>n("analysis"),className:`px-6 py-3 rounded-lg font-medium transition-colors ${e==="analysis"?"bg-[#32ADE6] text-white shadow-md":"bg-white text-gray-600 hover:bg-gray-50"}`,children:"履歷分析"})]}),e==="matches"?h.jsx("div",{className:"space-y-6",children:i.map(d=>h.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 hover:shadow-md transition-shadow border border-gray-100",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center overflow-hidden",children:h.jsx("img",{src:d.logo,alt:d.company,className:"w-full h-full object-cover",onError:f=>{f.currentTarget.src="https://via.placeholder.com/64x64?text="+d.company.charAt(0)}})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-xl text-gray-900",children:d.position}),h.jsx("p",{className:"text-gray-600 text-lg",children:d.company}),h.jsx("p",{className:"text-gray-500 text-sm mt-1",children:d.description})]})]}),h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsxs("div",{className:"bg-[#32ADE6]/10 text-[#32ADE6] px-4 py-2 rounded-full text-sm font-bold",children:[d.matchScore,"% 匹配"]}),h.jsx("button",{onClick:()=>a(d.id),className:`p-2 rounded-full hover:bg-gray-100 transition-colors ${r.includes(d.id)?"text-[#32ADE6]":"text-gray-400"}`,children:h.jsx(Hf,{size:20,fill:r.includes(d.id)?"currentColor":"none"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4 text-sm text-gray-600",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx(HC,{size:16,className:"mr-2 text-gray-400"}),d.location]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(zC,{size:16,className:"mr-2 text-gray-400"}),d.duration]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(BC,{size:16,className:"mr-2 text-gray-400"}),d.type]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(UC,{size:16,className:"mr-2 text-gray-400"}),d.salary]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("h4",{className:"font-medium mb-3 text-gray-900",children:"匹配原因"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:d.matchReasons.map((f,g)=>h.jsxs("div",{className:"flex items-center text-sm text-gray-600 bg-green-50 p-2 rounded-lg",children:[h.jsx(fl,{className:"text-green-500 mr-2 flex-shrink-0",size:16}),f]},g))})]}),h.jsx("div",{className:"mb-6",children:h.jsx("div",{className:"flex flex-wrap gap-2",children:d.tags.map((f,g)=>h.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm font-medium",children:f},g))})}),h.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100",children:[h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(GC,{size:18})}),h.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 transition-colors",children:h.jsx(KC,{size:18})})]}),h.jsxs("div",{className:"flex space-x-3",children:[h.jsx("button",{onClick:()=>c(d.id),className:"bg-white border border-[#32ADE6] text-[#32ADE6] px-6 py-2 rounded-lg hover:bg-[#32ADE6]/5 transition-colors font-medium",children:"查看詳情"}),h.jsx("button",{onClick:()=>u(d.id),className:"bg-[#32ADE6] text-white px-6 py-2 rounded-lg hover:bg-[#2A8BC7] transition-colors font-medium",children:"立即申請"})]})]})]},d.id))}):h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[h.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(XC,{className:"text-green-500 mr-2",size:24}),"優勢分析"]}),h.jsx("div",{className:"space-y-4",children:o.strengths.map((d,f)=>h.jsxs("div",{className:"flex items-start p-3 bg-green-50 rounded-lg",children:[h.jsx(fl,{className:"text-green-500 mt-1 mr-3 flex-shrink-0",size:20}),h.jsx("p",{className:"text-gray-700",children:d})]},f))})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[h.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(Ny,{className:"text-yellow-500 mr-2",size:24}),"改進建議"]}),h.jsx("div",{className:"space-y-4",children:o.improvements.map((d,f)=>h.jsxs("div",{className:"flex items-start p-3 bg-yellow-50 rounded-lg",children:[h.jsx(Ny,{className:"text-yellow-500 mt-1 mr-3 flex-shrink-0",size:20}),h.jsx("p",{className:"text-gray-700",children:d})]},f))})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[h.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(w1,{className:"text-[#32ADE6] mr-2",size:24}),"技能分析"]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium mb-3 text-gray-900",children:"技術技能"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.technical.map((d,f)=>h.jsx("span",{className:"bg-[#32ADE6]/10 text-[#32ADE6] px-3 py-2 rounded-full text-sm font-medium",children:d},f))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium mb-3 text-gray-900",children:"軟實力"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.soft.map((d,f)=>h.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-2 rounded-full text-sm font-medium",children:d},f))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium mb-3 text-gray-900",children:"語言能力"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:o.skills.languages.map((d,f)=>h.jsx("span",{className:"bg-purple-100 text-purple-700 px-3 py-2 rounded-full text-sm font-medium",children:d},f))})]})]})]}),h.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[h.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[h.jsx(OC,{className:"text-[#32ADE6] mr-2",size:24}),"匹配統計"]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-[#32ADE6]/10 to-[#32ADE6]/5 rounded-lg",children:[h.jsx("div",{className:"text-3xl font-bold text-[#32ADE6]",children:"92%"}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"平均匹配度"})]}),h.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-green-100 to-green-50 rounded-lg",children:[h.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.length}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"匹配職位數"})]}),h.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-purple-100 to-purple-50 rounded-lg",children:[h.jsx("div",{className:"text-3xl font-bold text-purple-600",children:o.skills.technical.length}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"技能匹配數"})]}),h.jsxs("div",{className:"text-center p-4 bg-gradient-to-br from-yellow-100 to-yellow-50 rounded-lg",children:[h.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:"A+"}),h.jsx("div",{className:"text-sm text-gray-600 mt-1",children:"履歷評級"})]})]})]})]}),h.jsxs("div",{className:"mt-12 flex justify-center space-x-4",children:[h.jsx("button",{onClick:()=>t("/student/dashboard"),className:"bg-white border border-gray-300 text-gray-700 px-6 py-3 rounded-lg hover:bg-gray-50 transition-colors font-medium",children:"返回儀表板"}),h.jsx("button",{onClick:()=>t("/upload"),className:"bg-[#32ADE6] text-white px-6 py-3 rounded-lg hover:bg-[#2A8BC7] transition-colors font-medium",children:"重新上傳履歷"})]})]})]})};function tM(){return h.jsx(VC,{children:h.jsx(DC,{children:h.jsx("div",{className:"font-sans text-gray-900",children:h.jsxs(kC,{children:[h.jsx(Oe,{path:"/",element:h.jsx(JC,{})}),h.jsx(Oe,{path:"/company/register",element:h.jsx(tI,{})}),h.jsx(Oe,{path:"/company/chat",element:h.jsx(Qk,{})}),h.jsx(Oe,{path:"/company/results",element:h.jsx(Xk,{})}),h.jsx(Oe,{path:"/company/candidate-view",element:h.jsx(Jk,{})}),h.jsx(Oe,{path:"/company/chat-with-candidate",element:h.jsx(eb,{})}),h.jsx(Oe,{path:"/company/talent-matching",element:h.jsx(J4,{})}),h.jsx(Oe,{path:"/student/register",element:h.jsx(tb,{})}),h.jsx(Oe,{path:"/student/resume-completion",element:h.jsx(nb,{})}),h.jsx(Oe,{path:"/student/career-objectives",element:h.jsx(rb,{})}),h.jsx(Oe,{path:"/student/skills",element:h.jsx(sb,{})}),h.jsx(Oe,{path:"/student/projects",element:h.jsx(ib,{})}),h.jsx(Oe,{path:"/student/analysis",element:h.jsx(K4,{})}),h.jsx(Oe,{path:"/student/upload-resume",element:h.jsx(G4,{})}),h.jsx(Oe,{path:"/student/dashboard",element:h.jsx(Q4,{})}),h.jsx(Oe,{path:"/upload",element:h.jsx(Z4,{})}),h.jsx(Oe,{path:"/result",element:h.jsx(eM,{})}),h.jsx(Oe,{path:"*",element:h.jsx(NC,{to:"/"})})]})})})})}s1(document.getElementById("root")).render(h.jsx(k.StrictMode,{children:h.jsx(tM,{})}));
